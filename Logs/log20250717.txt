2025-07-17 09:43:39.834 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 09:43:39.931 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-17 09:43:39.935 +05:30 [INF] CORS policy execution successful.
2025-07-17 09:43:40.023 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 9.5271 ms
2025-07-17 09:43:40.046 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 217.9606ms
2025-07-17 09:43:40.060 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 09:44:23.000 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search? - null null
2025-07-17 09:44:23.006 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 09:44:23.042 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-17 09:44:23.065 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":null,"LastName":null,"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-17 09:44:23.110 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-17 09:44:23.115 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 09:44:23.116 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 09:44:23.143 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-17 09:44:23.145 +05:30 [INF] Found 10 patients matching search
2025-07-17 09:44:23.151 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 09:44:23.241 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 195.1747ms
2025-07-17 09:44:23.242 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 09:44:23.243 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 238.5201 ms
2025-07-17 09:44:23.247 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search? - 200 4448 application/json; charset=utf-8 247.1481ms
2025-07-17 09:45:08.489 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search? - null null
2025-07-17 09:45:08.496 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 09:45:08.514 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 09:45:08.536 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 09:45:08.581 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 66.9819ms
2025-07-17 09:45:08.582 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 09:45:08.583 +05:30 [INF] HTTP GET /api/user/search responded 400 in 87.3185 ms
2025-07-17 09:45:08.584 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search? - 400 303 application/problem+json; charset=utf-8 94.9829ms
2025-07-17 09:45:48.067 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-17 09:45:48.916 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-17 09:45:49.709 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 09:45:50.270 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 09:45:50.362 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-17 09:45:50.364 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 09:45:50.365 +05:30 [INF] Hosting environment: Development
2025-07-17 09:45:50.365 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-17 09:45:56.237 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search? - null null
2025-07-17 09:45:56.261 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-17 09:45:56.288 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 09:45:56.316 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 09:45:56.341 +05:30 [INF] Searching users with params {"UID":null,"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 09:45:56.376 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-07-17 09:45:56.383 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 09:45:56.384 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 09:45:56.408 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-17 09:45:56.428 +05:30 [INF] Found 20 users among search
2025-07-17 09:45:56.434 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 09:45:56.522 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 203.1765ms
2025-07-17 09:45:56.524 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 09:45:56.528 +05:30 [INF] HTTP GET /api/user/search responded 200 in 240.4257 ms
2025-07-17 09:45:56.535 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search? - 200 3020 application/json; charset=utf-8 299.6959ms
2025-07-17 09:46:10.362 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?email=ruby@raishin.com - null null
2025-07-17 09:46:10.368 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 09:46:10.369 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 09:46:10.384 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 09:46:10.412 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 42.2641ms
2025-07-17 09:46:10.413 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 09:46:10.413 +05:30 [INF] HTTP GET /api/user/search responded 400 in 45.3654 ms
2025-07-17 09:46:10.414 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?email=ruby@raishin.com - 400 236 application/problem+json; charset=utf-8 51.6604ms
2025-07-17 09:46:16.299 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?email=ruby - null null
2025-07-17 09:46:16.305 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 09:46:16.306 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 09:46:16.310 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 09:46:16.311 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 3.9737ms
2025-07-17 09:46:16.312 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 09:46:16.312 +05:30 [INF] HTTP GET /api/user/search responded 400 in 7.1742 ms
2025-07-17 09:46:16.313 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?email=ruby - 400 236 application/problem+json; charset=utf-8 14.3253ms
2025-07-17 09:46:24.436 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search-lucene - null null
2025-07-17 09:46:24.440 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-17 09:46:24.443 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-17 09:46:24.443 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search-lucene - 401 0 null 7.0888ms
2025-07-17 09:49:42.529 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=ruby - null null
2025-07-17 09:49:42.530 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 09:49:42.530 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 09:49:42.534 +05:30 [INF] Searching users with params {"UID":null,"Username":["ruby"],"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 09:49:42.810 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@__param_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
)
2025-07-17 09:49:42.813 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 09:49:42.814 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 09:49:42.833 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 09:49:42.834 +05:30 [INF] Found 2 users among search
2025-07-17 09:49:42.835 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 09:49:42.836 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 305.046ms
2025-07-17 09:49:42.837 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 09:49:42.838 +05:30 [INF] HTTP GET /api/user/search responded 200 in 307.4609 ms
2025-07-17 09:49:42.839 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=ruby - 200 678 application/json; charset=utf-8 309.3844ms
2025-07-17 09:53:00.410 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 09:53:00.411 +05:30 [INF] CORS policy execution successful.
2025-07-17 09:53:00.413 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 0.2967 ms
2025-07-17 09:53:00.414 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 4.0893ms
2025-07-17 09:53:00.415 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 09:53:18.372 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 09:53:18.374 +05:30 [INF] CORS policy execution successful.
2025-07-17 09:53:18.374 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 0.1791 ms
2025-07-17 09:53:18.375 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 2.6771ms
2025-07-17 09:53:18.375 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 09:54:30.449 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 09:54:30.449 +05:30 [INF] CORS policy execution successful.
2025-07-17 09:54:30.450 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 0.1346 ms
2025-07-17 09:54:30.450 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 1.096ms
2025-07-17 09:54:30.450 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 09:57:28.412 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=ruby&role=admin - null null
2025-07-17 09:57:28.413 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 09:57:28.414 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 09:57:28.416 +05:30 [INF] Searching users with params {"UID":null,"Username":["ruby"],"Role":["admin"],"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 09:57:28.454 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
)
2025-07-17 09:57:28.457 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 09:57:28.457 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 09:57:28.471 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-17 09:57:28.472 +05:30 [INF] Found 1 users among search
2025-07-17 09:57:28.473 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 09:57:28.474 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 59.5988ms
2025-07-17 09:57:28.474 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 09:57:28.474 +05:30 [INF] HTTP GET /api/user/search responded 200 in 60.9698 ms
2025-07-17 09:57:28.475 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=ruby&role=admin - 200 394 application/json; charset=utf-8 62.2863ms
2025-07-17 09:59:47.679 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 09:59:47.679 +05:30 [INF] CORS policy execution successful.
2025-07-17 09:59:47.679 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 0.1674 ms
2025-07-17 09:59:47.681 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 2.2209ms
2025-07-17 09:59:47.681 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 10:04:43.573 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 10:04:43.574 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:04:43.575 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 0.2682 ms
2025-07-17 10:04:43.575 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 1.6803ms
2025-07-17 10:04:43.576 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 10:06:02.565 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search? - null null
2025-07-17 10:06:02.565 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 10:06:02.572 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-17 10:06:02.576 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":null,"LastName":null,"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-17 10:06:02.603 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-17 10:06:02.605 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:06:02.605 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:06:02.611 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-17 10:06:02.612 +05:30 [INF] Found 10 patients matching search
2025-07-17 10:06:02.613 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:06:02.617 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 45.2752ms
2025-07-17 10:06:02.618 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 10:06:02.618 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 52.6955 ms
2025-07-17 10:06:02.618 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search? - 200 4448 application/json; charset=utf-8 53.3313ms
2025-07-17 10:06:07.346 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?userID=12 - null null
2025-07-17 10:06:07.346 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 10:06:07.347 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-17 10:06:07.350 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":null,"LastName":null,"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-17 10:06:07.354 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-17 10:06:07.356 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-17 10:06:07.356 +05:30 [INF] Found 10 patients matching search
2025-07-17 10:06:07.357 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:06:07.358 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 10.6544ms
2025-07-17 10:06:07.358 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 10:06:07.358 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 12.0412 ms
2025-07-17 10:06:07.359 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?userID=12 - 200 4448 application/json; charset=utf-8 12.9012ms
2025-07-17 10:06:13.709 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?userid=12 - null null
2025-07-17 10:06:13.710 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 10:06:13.710 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-17 10:06:13.712 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":null,"LastName":null,"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-17 10:06:13.714 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-17 10:06:13.716 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-17 10:06:13.717 +05:30 [INF] Found 10 patients matching search
2025-07-17 10:06:13.718 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:06:13.718 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 7.7145ms
2025-07-17 10:06:13.718 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 10:06:13.719 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 8.7786 ms
2025-07-17 10:06:13.719 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?userid=12 - 200 4448 application/json; charset=utf-8 9.8435ms
2025-07-17 10:06:41.042 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=12 - null null
2025-07-17 10:06:41.043 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 10:06:41.043 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-17 10:06:41.046 +05:30 [INF] Searching patients with params {"PID":null,"UID":[12],"FirstName":null,"LastName":null,"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-17 10:06:41.088 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
2025-07-17 10:06:41.089 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:06:41.090 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:06:41.103 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 10:06:41.104 +05:30 [INF] Found 1 patients matching search
2025-07-17 10:06:41.105 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:06:41.106 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 61.9257ms
2025-07-17 10:06:41.106 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 10:06:41.106 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 63.8588 ms
2025-07-17 10:06:41.106 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=12 - 200 506 application/json; charset=utf-8 64.8989ms
2025-07-17 10:08:24.630 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 10:08:24.632 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:08:24.633 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 0.4363 ms
2025-07-17 10:08:24.634 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 3.0275ms
2025-07-17 10:08:24.635 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 10:08:31.459 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 10:08:31.460 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:08:31.461 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 0.1884 ms
2025-07-17 10:08:31.461 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 2.128ms
2025-07-17 10:08:31.462 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 10:11:57.392 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?uid=12 - null null
2025-07-17 10:11:57.392 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Get (HealthcareApi)'
2025-07-17 10:11:57.396 +05:30 [INF] Route matched with {action = "Get", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 10:11:57.406 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 10:11:57.407 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Get (HealthcareApi) in 10.8261ms
2025-07-17 10:11:57.407 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Get (HealthcareApi)'
2025-07-17 10:11:57.407 +05:30 [INF] HTTP GET /api/doctor/search responded 400 in 15.1996 ms
2025-07-17 10:11:57.408 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?uid=12 - 400 245 application/problem+json; charset=utf-8 15.9835ms
2025-07-17 10:12:00.831 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search? - null null
2025-07-17 10:12:00.832 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Get (HealthcareApi)'
2025-07-17 10:12:00.832 +05:30 [INF] Route matched with {action = "Get", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 10:12:00.834 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 10:12:00.834 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Get (HealthcareApi) in 1.7039ms
2025-07-17 10:12:00.834 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Get (HealthcareApi)'
2025-07-17 10:12:00.835 +05:30 [INF] HTTP GET /api/doctor/search responded 400 in 2.4882 ms
2025-07-17 10:12:00.835 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search? - 400 245 application/problem+json; charset=utf-8 3.9894ms
2025-07-17 10:12:19.139 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene? - null null
2025-07-17 10:12:19.139 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-17 10:12:19.143 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 10:12:19.180 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 10:12:19.182 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:12:19.183 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:12:19.191 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-17 10:12:19.192 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:12:19.198 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 54.21ms
2025-07-17 10:12:19.198 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-17 10:12:19.198 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 59.0622 ms
2025-07-17 10:12:19.199 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene? - 200 2005 application/json; charset=utf-8 60.1957ms
2025-07-17 10:12:28.814 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?uid=3 - null null
2025-07-17 10:12:28.814 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-17 10:12:28.815 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 10:12:28.818 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 10:12:28.819 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-17 10:12:28.820 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:12:28.821 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 5.7418ms
2025-07-17 10:12:28.821 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-17 10:12:28.821 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 6.9868 ms
2025-07-17 10:12:28.822 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?uid=3 - 200 2005 application/json; charset=utf-8 7.8131ms
2025-07-17 10:12:35.757 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?userID=3 - null null
2025-07-17 10:12:35.759 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-17 10:12:35.759 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 10:12:35.761 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 10:12:35.764 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-17 10:12:35.764 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:12:35.765 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 5.775ms
2025-07-17 10:12:35.766 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-17 10:12:35.766 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 7.5241 ms
2025-07-17 10:12:35.766 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?userID=3 - 200 2005 application/json; charset=utf-8 9.3037ms
2025-07-17 10:33:11.311 +05:30 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-17 10:33:12.243 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-17 10:33:13.202 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 10:33:13.755 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 10:33:13.839 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-17 10:33:13.843 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 10:33:13.844 +05:30 [INF] Hosting environment: Development
2025-07-17 10:33:13.844 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-17 10:33:21.067 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search - null null
2025-07-17 10:33:21.094 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-17 10:33:21.121 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:33:21.149 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 10:33:21.202 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 10:33:21.209 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:33:21.210 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:33:21.234 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-17 10:33:21.241 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:33:21.326 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 172.4441ms
2025-07-17 10:33:21.327 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:33:21.331 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 212.0699 ms
2025-07-17 10:33:21.338 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search - 200 2005 application/json; charset=utf-8 271.7395ms
2025-07-17 10:33:28.152 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?uid=12 - null null
2025-07-17 10:33:28.156 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:33:28.157 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 10:33:28.299 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__qp_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[UserID] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_UID_0) WITH ([value] int '$') AS [q]
)
2025-07-17 10:33:28.302 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:33:28.302 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:33:28.316 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__qp_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[UserID] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_UID_0) WITH ([value] int '$') AS [q]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 10:33:28.318 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:33:28.320 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 162.7632ms
2025-07-17 10:33:28.321 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:33:28.321 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 165.5465 ms
2025-07-17 10:33:28.323 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?uid=12 - 200 70 application/json; charset=utf-8 170.7574ms
2025-07-17 10:33:31.540 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?uid=1 - null null
2025-07-17 10:33:31.543 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:33:31.543 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 10:33:31.550 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[UserID] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_UID_0) WITH ([value] int '$') AS [q]
)
2025-07-17 10:33:31.552 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[UserID] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_UID_0) WITH ([value] int '$') AS [q]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 10:33:31.553 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:33:31.553 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 9.4357ms
2025-07-17 10:33:31.553 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:33:31.554 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 10.9079 ms
2025-07-17 10:33:31.554 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?uid=1 - 200 70 application/json; charset=utf-8 14.1574ms
2025-07-17 10:33:33.872 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search? - null null
2025-07-17 10:33:33.873 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:33:33.874 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 10:33:33.877 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 10:33:33.879 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-17 10:33:33.881 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:33:33.882 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 7.79ms
2025-07-17 10:33:33.882 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:33:33.882 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 9.1384 ms
2025-07-17 10:33:33.883 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search? - 200 2005 application/json; charset=utf-8 10.2077ms
2025-07-17 10:33:36.949 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?uid=3 - null null
2025-07-17 10:33:36.950 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:33:36.951 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 10:33:36.954 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[UserID] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_UID_0) WITH ([value] int '$') AS [q]
)
2025-07-17 10:33:36.957 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[UserID] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_UID_0) WITH ([value] int '$') AS [q]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 10:33:36.957 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:33:36.958 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 7.4055ms
2025-07-17 10:33:36.959 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:33:36.959 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 9.1283 ms
2025-07-17 10:33:36.959 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?uid=3 - 200 386 application/json; charset=utf-8 10.1115ms
2025-07-17 10:33:48.601 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?email=dr.smit - null null
2025-07-17 10:33:48.602 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:33:48.602 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 10:33:48.630 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__qp_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
)
2025-07-17 10:33:48.632 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:33:48.632 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:33:48.643 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 10:33:48.644 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:33:48.645 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 42.4494ms
2025-07-17 10:33:48.645 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:33:48.645 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 43.8429 ms
2025-07-17 10:33:48.646 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?email=dr.smit - 200 70 application/json; charset=utf-8 45.0183ms
2025-07-17 10:33:53.073 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search? - null null
2025-07-17 10:33:53.074 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:33:53.074 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 10:33:53.091 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 10:33:53.095 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-17 10:33:53.096 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:33:53.096 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 21.8616ms
2025-07-17 10:33:53.097 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:33:53.097 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 23.2528 ms
2025-07-17 10:33:53.097 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search? - 200 2005 application/json; charset=utf-8 24.112ms
2025-07-17 10:34:00.131 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?email=dr.smith@healthcare.com - null null
2025-07-17 10:34:00.132 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:34:00.133 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 10:34:00.142 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__qp_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
)
2025-07-17 10:34:00.148 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 10:34:00.149 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:34:00.150 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 17.0381ms
2025-07-17 10:34:00.150 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-17 10:34:00.151 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 18.5117 ms
2025-07-17 10:34:00.151 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?email=dr.smith@healthcare.com - 200 386 application/json; charset=utf-8 19.9236ms
2025-07-17 10:36:16.444 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 10:36:16.446 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:36:16.447 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 0.4677 ms
2025-07-17 10:36:16.448 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 3.616ms
2025-07-17 10:36:16.449 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 10:37:08.351 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 10:37:08.352 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:37:08.352 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 0.1666 ms
2025-07-17 10:37:08.353 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 2.3188ms
2025-07-17 10:37:08.353 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 10:37:41.722 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?email=dr.smith@healthcare.com - null null
2025-07-17 10:37:41.724 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:37:41.734 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 10:37:41.739 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 10:37:41.753 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 19.6726ms
2025-07-17 10:37:41.754 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:37:41.754 +05:30 [INF] HTTP GET /api/user/search responded 400 in 30.0781 ms
2025-07-17 10:37:41.754 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?email=dr.smith@healthcare.com - 400 236 application/problem+json; charset=utf-8 31.8952ms
2025-07-17 10:37:45.709 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search? - null null
2025-07-17 10:37:45.709 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:37:45.710 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 10:37:45.714 +05:30 [INF] Searching users with params {"UID":null,"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 10:37:45.737 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-07-17 10:37:45.739 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:37:45.740 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:37:45.746 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-17 10:37:45.758 +05:30 [INF] Found 20 users among search
2025-07-17 10:37:45.759 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:37:45.767 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 57.4583ms
2025-07-17 10:37:45.768 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:37:45.768 +05:30 [INF] HTTP GET /api/user/search responded 200 in 58.7705 ms
2025-07-17 10:37:45.768 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search? - 200 3020 application/json; charset=utf-8 59.8015ms
2025-07-17 10:38:31.129 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=0 - null null
2025-07-17 10:38:31.129 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:38:31.129 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 10:38:31.133 +05:30 [INF] Searching users with params {"UID":[0],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 10:38:31.150 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-07-17 10:38:31.153 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-17 10:38:31.154 +05:30 [INF] Found 20 users among search
2025-07-17 10:38:31.154 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:38:31.155 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 25.7349ms
2025-07-17 10:38:31.156 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:38:31.156 +05:30 [INF] HTTP GET /api/user/search responded 200 in 26.7844 ms
2025-07-17 10:38:31.156 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=0 - 200 3020 application/json; charset=utf-8 27.6106ms
2025-07-17 10:38:36.348 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?userid=0 - null null
2025-07-17 10:38:36.349 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:38:36.349 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 10:38:36.350 +05:30 [INF] Searching users with params {"UID":null,"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 10:38:36.352 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-07-17 10:38:36.354 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-17 10:38:36.354 +05:30 [INF] Found 20 users among search
2025-07-17 10:38:36.355 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:38:36.355 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.8774ms
2025-07-17 10:38:36.355 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:38:36.356 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.1422 ms
2025-07-17 10:38:36.356 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?userid=0 - 200 3020 application/json; charset=utf-8 7.9625ms
2025-07-17 10:39:56.322 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-17 10:39:57.241 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-17 10:39:58.036 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 10:39:58.579 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 10:39:58.645 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-17 10:39:58.648 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 10:39:58.649 +05:30 [INF] Hosting environment: Development
2025-07-17 10:39:58.650 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-17 10:40:01.709 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?userid=0 - null null
2025-07-17 10:40:01.735 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-17 10:40:01.759 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:40:01.791 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 10:40:01.816 +05:30 [INF] Searching users with params {"UID":null,"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 10:40:01.851 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-07-17 10:40:01.858 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:40:01.859 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:40:01.888 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-17 10:40:01.907 +05:30 [INF] Found 20 users among search
2025-07-17 10:40:01.915 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:40:01.983 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 187.6356ms
2025-07-17 10:40:01.985 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:40:01.990 +05:30 [INF] HTTP GET /api/user/search responded 200 in 232.5308 ms
2025-07-17 10:40:01.999 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?userid=0 - 200 3020 application/json; charset=utf-8 290.5838ms
2025-07-17 10:40:06.516 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=0 - null null
2025-07-17 10:40:06.520 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:40:06.520 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 10:40:06.532 +05:30 [INF] Searching users with params {"UID":[0],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 10:40:06.624 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-17 10:40:06.625 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:40:06.626 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:40:06.633 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 10:40:06.634 +05:30 [INF] Found 1 users among search
2025-07-17 10:40:06.636 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:40:06.638 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 117.2761ms
2025-07-17 10:40:06.639 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:40:06.639 +05:30 [INF] HTTP GET /api/user/search responded 200 in 119.7139 ms
2025-07-17 10:40:06.640 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=0 - 200 394 application/json; charset=utf-8 123.7972ms
2025-07-17 10:41:29.470 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 10:41:29.473 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:41:29.476 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 0.5464 ms
2025-07-17 10:41:29.477 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 6.4993ms
2025-07-17 10:41:29.479 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 10:42:20.357 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 10:42:20.358 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:42:20.358 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 0.1507 ms
2025-07-17 10:42:20.359 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 2.2448ms
2025-07-17 10:42:20.359 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 10:44:12.362 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 10:44:12.363 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:44:12.363 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 0.1688 ms
2025-07-17 10:44:12.363 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 1.2477ms
2025-07-17 10:44:12.364 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 10:49:26.351 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/register - null null
2025-07-17 10:49:26.352 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:49:26.353 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/register - 204 null null 2.1858ms
2025-07-17 10:49:26.356 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/register - application/json 106
2025-07-17 10:49:26.357 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:49:26.358 +05:30 [INF] Executing endpoint 'AuthController.Register (HealthcareApi)'
2025-07-17 10:49:26.364 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterRequest) on controller AuthController (HealthcareApi).
2025-07-17 10:49:26.454 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__req_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__req_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-17 10:49:27.709 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 255), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 20), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([UserID], [CreatedAt], [Email], [ModifiedAt], [PasswordHash], [RefreshToken], [RefreshTokenExpiry], [Role], [Username], [isActive])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-17 10:49:27.717 +05:30 [INF] User registered: aakarshbatra01@gmail.com
2025-07-17 10:49:27.718 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 10:49:27.723 +05:30 [INF] Executed action AuthController.Register (HealthcareApi) in 1358.1859ms
2025-07-17 10:49:27.723 +05:30 [INF] Executed endpoint 'AuthController.Register (HealthcareApi)'
2025-07-17 10:49:27.724 +05:30 [INF] HTTP POST /api/auth/register responded 200 in 1366.3570 ms
2025-07-17 10:49:27.725 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/register - 200 43 application/json; charset=utf-8 1368.9863ms
2025-07-17 10:49:33.514 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-17 10:49:33.514 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:49:33.515 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.8123ms
2025-07-17 10:49:33.516 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 64
2025-07-17 10:49:33.517 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:49:33.517 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 10:49:33.520 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 10:49:33.536 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 10:49:34.402 +05:30 [INF] User logged in: aakarshbatra01@gmail.com
2025-07-17 10:49:34.402 +05:30 [INF] Role: Admin
2025-07-17 10:49:34.403 +05:30 [INF] Role: Admin
2025-07-17 10:49:34.403 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-17 10:49:34.414 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-17 10:49:34.434 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 10:49:34.437 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 916.6084ms
2025-07-17 10:49:34.438 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 10:49:34.438 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 920.5183 ms
2025-07-17 10:49:34.438 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 623 application/json; charset=utf-8 921.5992ms
2025-07-17 10:49:34.442 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh%20Batra&email=aakarshbatra01@gmail.com - null null
2025-07-17 10:49:34.442 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:49:34.443 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:49:34.443 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 10:49:34.449 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 10:49:34.470 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 26.7676ms
2025-07-17 10:49:34.471 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:49:34.472 +05:30 [INF] HTTP GET /api/user/search responded 400 in 28.9060 ms
2025-07-17 10:49:34.472 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh%20Batra&email=aakarshbatra01@gmail.com - 400 236 application/problem+json; charset=utf-8 30.4721ms
2025-07-17 10:50:30.900 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/register - null null
2025-07-17 10:50:30.901 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:50:30.902 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/register - 204 null null 1.2544ms
2025-07-17 10:50:30.903 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/register - application/json 100
2025-07-17 10:50:30.904 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:50:30.904 +05:30 [INF] Executing endpoint 'AuthController.Register (HealthcareApi)'
2025-07-17 10:50:30.905 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterRequest) on controller AuthController (HealthcareApi).
2025-07-17 10:50:30.915 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__req_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__req_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-17 10:50:31.784 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 255), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 20), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([UserID], [CreatedAt], [Email], [ModifiedAt], [PasswordHash], [RefreshToken], [RefreshTokenExpiry], [Role], [Username], [isActive])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-17 10:50:31.785 +05:30 [INF] User registered: aakarshbatra01@gmail.com
2025-07-17 10:50:31.786 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 10:50:31.786 +05:30 [INF] Executed action AuthController.Register (HealthcareApi) in 881.3214ms
2025-07-17 10:50:31.786 +05:30 [INF] Executed endpoint 'AuthController.Register (HealthcareApi)'
2025-07-17 10:50:31.787 +05:30 [INF] HTTP POST /api/auth/register responded 200 in 882.5416 ms
2025-07-17 10:50:31.787 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/register - 200 43 application/json; charset=utf-8 883.7593ms
2025-07-17 10:50:34.919 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-17 10:50:34.920 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:50:34.920 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.0867ms
2025-07-17 10:50:34.922 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 64
2025-07-17 10:50:34.922 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:50:34.923 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 10:50:34.923 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 10:50:34.928 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 10:50:35.827 +05:30 [INF] User logged in: aakarshbatra01@gmail.com
2025-07-17 10:50:35.827 +05:30 [INF] Role: Admin
2025-07-17 10:50:35.828 +05:30 [INF] Role: Admin
2025-07-17 10:50:35.828 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-17 10:50:35.840 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-17 10:50:35.841 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 10:50:35.842 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 918.4953ms
2025-07-17 10:50:35.843 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 10:50:35.843 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 920.2691 ms
2025-07-17 10:50:35.844 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 617 application/json; charset=utf-8 921.4186ms
2025-07-17 10:50:35.848 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - null null
2025-07-17 10:50:35.848 +05:30 [INF] CORS policy execution successful.
2025-07-17 10:50:35.849 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:50:35.849 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 10:50:35.851 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 10:50:35.852 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 2.3637ms
2025-07-17 10:50:35.852 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:50:35.852 +05:30 [INF] HTTP GET /api/user/search responded 400 in 3.8742 ms
2025-07-17 10:50:35.853 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - 400 236 application/problem+json; charset=utf-8 4.9969ms
2025-07-17 10:50:56.899 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh - null null
2025-07-17 10:50:56.900 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:50:56.901 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 10:50:56.902 +05:30 [INF] Searching users with params {"UID":null,"Username":["Aakarsh"],"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 10:50:56.920 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__param_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
)
2025-07-17 10:50:56.922 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:50:56.922 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 10:50:56.934 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 10:50:56.937 +05:30 [INF] Found 2 users among search
2025-07-17 10:50:56.937 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 10:50:56.939 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 37.7375ms
2025-07-17 10:50:56.939 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:50:56.939 +05:30 [INF] HTTP GET /api/user/search responded 200 in 39.1581 ms
2025-07-17 10:50:56.940 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh - 200 969 application/json; charset=utf-8 40.9815ms
2025-07-17 10:51:07.958 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - null null
2025-07-17 10:51:07.959 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:51:07.959 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 10:51:07.961 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 10:51:07.962 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 2.2479ms
2025-07-17 10:51:07.962 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:51:07.963 +05:30 [INF] HTTP GET /api/user/search responded 400 in 3.9291 ms
2025-07-17 10:51:07.963 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - 400 236 application/problem+json; charset=utf-8 4.9737ms
2025-07-17 10:59:53.449 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-17 10:59:54.345 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-17 10:59:55.045 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 10:59:55.565 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 10:59:55.645 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-17 10:59:55.648 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 10:59:55.649 +05:30 [INF] Hosting environment: Development
2025-07-17 10:59:55.649 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-17 10:59:58.458 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - null null
2025-07-17 10:59:58.482 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-17 10:59:58.515 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:59:58.548 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 10:59:58.581 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 10:59:58.681 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 129.6849ms
2025-07-17 10:59:58.682 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 10:59:58.687 +05:30 [INF] HTTP GET /api/user/search responded 400 in 172.5766 ms
2025-07-17 10:59:58.693 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - 400 236 application/problem+json; charset=utf-8 235.4149ms
2025-07-17 11:00:26.765 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=%22aakarshbatra01@gmail.com%22 - null null
2025-07-17 11:00:26.770 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:00:26.771 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:00:26.775 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 11:00:26.776 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.5824ms
2025-07-17 11:00:26.776 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:00:26.777 +05:30 [INF] HTTP GET /api/user/search responded 400 in 7.3426 ms
2025-07-17 11:00:26.778 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=%22aakarshbatra01@gmail.com%22 - 400 236 application/problem+json; charset=utf-8 12.1701ms
2025-07-17 11:01:14.837 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-17 11:01:15.801 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-17 11:01:16.517 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 11:01:17.034 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 11:01:17.111 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-17 11:01:17.115 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 11:01:17.116 +05:30 [INF] Hosting environment: Development
2025-07-17 11:01:17.116 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-17 11:01:20.055 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - null null
2025-07-17 11:01:20.082 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-17 11:01:20.113 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:01:20.139 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:01:20.167 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 11:01:20.241 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 99.0268ms
2025-07-17 11:01:20.243 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:01:20.245 +05:30 [INF] HTTP GET /api/user/search responded 400 in 135.3196 ms
2025-07-17 11:01:20.248 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - 400 236 application/problem+json; charset=utf-8 194.5372ms
2025-07-17 11:01:46.254 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-17 11:01:47.065 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-17 11:01:47.733 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 11:01:48.257 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 11:01:48.341 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-17 11:01:48.344 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 11:01:48.345 +05:30 [INF] Hosting environment: Development
2025-07-17 11:01:48.345 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-17 11:01:51.040 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - null null
2025-07-17 11:01:51.073 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-17 11:01:51.107 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:01:51.145 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:01:51.187 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 11:01:51.277 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 127.5065ms
2025-07-17 11:01:51.279 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:01:51.283 +05:30 [INF] HTTP GET /api/user/search responded 400 in 178.1093 ms
2025-07-17 11:01:51.287 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - 400 236 application/problem+json; charset=utf-8 248.9463ms
2025-07-17 11:02:24.963 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-17 11:02:25.778 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-17 11:02:26.430 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 11:02:26.913 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 11:02:26.985 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-17 11:02:26.987 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 11:02:26.988 +05:30 [INF] Hosting environment: Development
2025-07-17 11:02:26.988 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-17 11:02:29.106 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - null null
2025-07-17 11:02:29.131 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-17 11:02:29.164 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:02:29.187 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:02:29.210 +05:30 [INF] Searching users with params {"UID":null,"Username":["Aakarsh"],"Role":null,"Email":["aakarshbatra01@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:02:29.309 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-17 11:02:29.315 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 11:02:29.316 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 11:02:29.334 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-17 11:02:29.349 +05:30 [INF] Found 1 users among search
2025-07-17 11:02:29.354 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:02:29.438 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 248.1072ms
2025-07-17 11:02:29.439 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:02:29.442 +05:30 [INF] HTTP GET /api/user/search responded 200 in 280.9370 ms
2025-07-17 11:02:29.448 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - 200 519 application/json; charset=utf-8 343.5276ms
2025-07-17 11:02:55.358 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-17 11:02:55.360 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:02:55.362 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 3.9506ms
2025-07-17 11:02:55.365 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 64
2025-07-17 11:02:55.368 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:02:55.369 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:02:55.373 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 11:02:55.456 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 11:02:56.164 +05:30 [INF] User logged in: aakarshbatra01@gmail.com
2025-07-17 11:02:56.165 +05:30 [INF] Role: Admin
2025-07-17 11:02:56.166 +05:30 [INF] Role: Admin
2025-07-17 11:02:56.166 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-17 11:02:56.238 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-17 11:02:56.274 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 11:02:56.279 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 905.7385ms
2025-07-17 11:02:56.279 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:02:56.281 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 911.6438 ms
2025-07-17 11:02:56.282 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 617 application/json; charset=utf-8 916.2539ms
2025-07-17 11:02:56.286 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - null null
2025-07-17 11:02:56.288 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:02:56.291 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:02:56.292 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:02:56.295 +05:30 [INF] Searching users with params {"UID":null,"Username":["Aakarsh"],"Role":null,"Email":["aakarshbatra01@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:02:56.309 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-17 11:02:56.317 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-17 11:02:56.321 +05:30 [INF] Found 1 users among search
2025-07-17 11:02:56.329 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:02:56.332 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 39.4401ms
2025-07-17 11:02:56.332 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:02:56.333 +05:30 [INF] HTTP GET /api/user/search responded 200 in 42.0929 ms
2025-07-17 11:02:56.336 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - 200 519 application/json; charset=utf-8 50.2657ms
2025-07-17 11:02:56.349 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=484341 - null null
2025-07-17 11:02:56.350 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:02:56.351 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:02:56.351 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:02:56.362 +05:30 [INF] Searching users with params {"UID":[484341],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:02:56.385 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-17 11:02:56.388 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 11:02:56.389 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 11:02:56.402 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 11:02:56.403 +05:30 [INF] Found 1 users among search
2025-07-17 11:02:56.404 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:02:56.405 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 53.4063ms
2025-07-17 11:02:56.406 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:02:56.407 +05:30 [INF] HTTP GET /api/user/search responded 200 in 56.0407 ms
2025-07-17 11:02:56.408 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=484341 - 200 519 application/json; charset=utf-8 59.1131ms
2025-07-17 11:04:03.684 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-17 11:04:03.685 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:04:03.686 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.9119ms
2025-07-17 11:04:03.689 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 64
2025-07-17 11:04:03.689 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:04:03.690 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:04:03.690 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 11:04:03.710 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 11:04:04.284 +05:30 [INF] User logged in: aakarshbatra01@gmail.com
2025-07-17 11:04:04.284 +05:30 [INF] Role: Admin
2025-07-17 11:04:04.285 +05:30 [INF] Role: Admin
2025-07-17 11:04:04.285 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-17 11:04:04.293 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-17 11:04:04.295 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 11:04:04.295 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 604.6695ms
2025-07-17 11:04:04.295 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:04:04.296 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 605.9317 ms
2025-07-17 11:04:04.296 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 617 application/json; charset=utf-8 607.1127ms
2025-07-17 11:04:04.301 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - null null
2025-07-17 11:04:04.302 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:04:04.303 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:04:04.303 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:04:04.305 +05:30 [INF] Searching users with params {"UID":null,"Username":["Aakarsh"],"Role":null,"Email":["aakarshbatra01@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:04:04.317 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-17 11:04:04.348 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-17 11:04:04.348 +05:30 [INF] Found 1 users among search
2025-07-17 11:04:04.349 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:04:04.349 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 45.4971ms
2025-07-17 11:04:04.349 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:04:04.350 +05:30 [INF] HTTP GET /api/user/search responded 200 in 47.3695 ms
2025-07-17 11:04:04.350 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - 200 519 application/json; charset=utf-8 48.8009ms
2025-07-17 11:04:04.358 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=484341 - null null
2025-07-17 11:04:04.359 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:04:04.359 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:04:04.359 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:04:04.361 +05:30 [INF] Searching users with params {"UID":[484341],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:04:04.366 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-17 11:04:04.374 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 11:04:04.374 +05:30 [INF] Found 1 users among search
2025-07-17 11:04:04.375 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:04:04.376 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 16.0534ms
2025-07-17 11:04:04.376 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:04:04.377 +05:30 [INF] HTTP GET /api/user/search responded 200 in 17.8783 ms
2025-07-17 11:04:04.377 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=484341 - 200 519 application/json; charset=utf-8 18.9124ms
2025-07-17 11:04:36.267 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-17 11:04:36.268 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:04:36.268 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.1231ms
2025-07-17 11:04:36.270 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 64
2025-07-17 11:04:36.270 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:04:36.271 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:04:36.271 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 11:04:36.292 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 11:04:36.886 +05:30 [INF] User logged in: aakarshbatra01@gmail.com
2025-07-17 11:04:36.886 +05:30 [INF] Role: Admin
2025-07-17 11:04:36.887 +05:30 [INF] Role: Admin
2025-07-17 11:04:36.887 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-17 11:04:36.897 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-17 11:04:36.898 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 11:04:36.899 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 626.8893ms
2025-07-17 11:04:36.899 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:04:36.899 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 628.5024 ms
2025-07-17 11:04:36.900 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 617 application/json; charset=utf-8 629.6535ms
2025-07-17 11:04:36.908 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - null null
2025-07-17 11:04:36.909 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:04:36.909 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:04:36.910 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:04:36.911 +05:30 [INF] Searching users with params {"UID":null,"Username":["Aakarsh"],"Role":null,"Email":["aakarshbatra01@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:04:36.931 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-17 11:04:36.965 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-17 11:04:36.965 +05:30 [INF] Found 1 users among search
2025-07-17 11:04:36.965 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:04:36.966 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 56.0363ms
2025-07-17 11:04:36.967 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:04:36.967 +05:30 [INF] HTTP GET /api/user/search responded 200 in 57.8370 ms
2025-07-17 11:04:36.967 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - 200 519 application/json; charset=utf-8 59.2919ms
2025-07-17 11:04:36.974 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=484341 - null null
2025-07-17 11:04:36.975 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:04:36.976 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:04:36.976 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:04:36.977 +05:30 [INF] Searching users with params {"UID":[484341],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:04:36.982 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-17 11:04:36.988 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 11:04:36.989 +05:30 [INF] Found 1 users among search
2025-07-17 11:04:36.989 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:04:36.990 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 13.8239ms
2025-07-17 11:04:36.991 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:04:36.991 +05:30 [INF] HTTP GET /api/user/search responded 200 in 15.9645 ms
2025-07-17 11:04:36.992 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=484341 - 200 519 application/json; charset=utf-8 17.7369ms
2025-07-17 11:05:54.486 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 11:05:54.500 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:05:54.507 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 0.7007 ms
2025-07-17 11:05:54.511 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 24.7671ms
2025-07-17 11:05:54.514 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 11:09:13.797 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 11:09:13.798 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:09:13.799 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 0.2968 ms
2025-07-17 11:09:13.799 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 2.6292ms
2025-07-17 11:09:13.800 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 11:10:05.818 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/register - null null
2025-07-17 11:10:05.818 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:10:05.819 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/register - 204 null null 1.1993ms
2025-07-17 11:10:05.821 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/register - application/json 88
2025-07-17 11:10:05.821 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:10:05.821 +05:30 [INF] Executing endpoint 'AuthController.Register (HealthcareApi)'
2025-07-17 11:10:05.824 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterRequest) on controller AuthController (HealthcareApi).
2025-07-17 11:10:05.866 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__req_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__req_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-17 11:10:06.433 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 255), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 20), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([UserID], [CreatedAt], [Email], [ModifiedAt], [PasswordHash], [RefreshToken], [RefreshTokenExpiry], [Role], [Username], [isActive])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-17 11:10:06.434 +05:30 [INF] User registered: ptester@gmail.com
2025-07-17 11:10:06.434 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 11:10:06.435 +05:30 [INF] Executed action AuthController.Register (HealthcareApi) in 610.8456ms
2025-07-17 11:10:06.435 +05:30 [INF] Executed endpoint 'AuthController.Register (HealthcareApi)'
2025-07-17 11:10:06.436 +05:30 [INF] HTTP POST /api/auth/register responded 200 in 614.3035 ms
2025-07-17 11:10:06.436 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/register - 200 43 application/json; charset=utf-8 615.2212ms
2025-07-17 11:10:14.395 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-17 11:10:14.395 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:10:14.395 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7939ms
2025-07-17 11:10:14.397 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 50
2025-07-17 11:10:14.398 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:10:14.398 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:10:14.398 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 11:10:14.402 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 11:10:14.960 +05:30 [INF] User logged in: ptester@gmail.com
2025-07-17 11:10:14.960 +05:30 [INF] Role: Patient
2025-07-17 11:10:14.960 +05:30 [INF] Role: Patient
2025-07-17 11:10:14.960 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Patient
2025-07-17 11:10:14.968 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-17 11:10:14.968 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 11:10:14.969 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 570.5231ms
2025-07-17 11:10:14.969 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:10:14.969 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 571.4442 ms
2025-07-17 11:10:14.970 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 605 application/json; charset=utf-8 572.2974ms
2025-07-17 11:10:14.975 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-17 11:10:14.976 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:10:14.976 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:10:14.977 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:10:14.978 +05:30 [INF] Searching users with params {"UID":null,"Username":["PTester"],"Role":null,"Email":["ptester@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:10:14.997 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-17 11:10:15.014 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-17 11:10:15.019 +05:30 [INF] Found 1 users among search
2025-07-17 11:10:15.020 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:10:15.021 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 43.7687ms
2025-07-17 11:10:15.022 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:10:15.022 +05:30 [INF] HTTP GET /api/user/search responded 200 in 46.3230 ms
2025-07-17 11:10:15.023 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 200 515 application/json; charset=utf-8 48.253ms
2025-07-17 11:10:15.050 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-17 11:10:15.051 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:10:15.054 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 11:10:15.067 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-17 11:10:15.073 +05:30 [INF] Searching patients with params {"PID":null,"UID":[901938],"FirstName":null,"LastName":null,"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-17 11:10:15.089 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
2025-07-17 11:10:15.091 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 11:10:15.091 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 11:10:15.103 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 11:10:15.104 +05:30 [INF] Found 0 patients matching search
2025-07-17 11:10:15.105 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:10:15.107 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 38.8442ms
2025-07-17 11:10:15.107 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 11:10:15.107 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 54.5257 ms
2025-07-17 11:10:15.108 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - 200 70 application/json; charset=utf-8 58.0687ms
2025-07-17 11:17:51.388 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-17 11:17:51.389 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:17:51.390 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.5387ms
2025-07-17 11:17:51.392 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 50
2025-07-17 11:17:51.393 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:17:51.393 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:17:51.394 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 11:17:51.417 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 11:17:52.259 +05:30 [INF] User logged in: ptester@gmail.com
2025-07-17 11:17:52.259 +05:30 [INF] Role: Patient
2025-07-17 11:17:52.259 +05:30 [INF] Role: Patient
2025-07-17 11:17:52.259 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Patient
2025-07-17 11:17:52.269 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-17 11:17:52.270 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 11:17:52.271 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 875.9961ms
2025-07-17 11:17:52.271 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:17:52.272 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 878.5492 ms
2025-07-17 11:17:52.272 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 605 application/json; charset=utf-8 880.1847ms
2025-07-17 11:17:52.276 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-17 11:17:52.277 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:17:52.278 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:17:52.278 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:17:52.280 +05:30 [INF] Searching users with params {"UID":null,"Username":["PTester"],"Role":null,"Email":["ptester@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:17:52.292 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-17 11:17:52.321 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-17 11:17:52.322 +05:30 [INF] Found 1 users among search
2025-07-17 11:17:52.323 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:17:52.323 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 44.258ms
2025-07-17 11:17:52.323 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:17:52.324 +05:30 [INF] HTTP GET /api/user/search responded 200 in 46.1555 ms
2025-07-17 11:17:52.324 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 200 516 application/json; charset=utf-8 47.5624ms
2025-07-17 11:17:52.335 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-17 11:17:52.336 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:17:52.336 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 11:17:52.336 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-17 11:17:52.350 +05:30 [INF] Searching patients with params {"PID":null,"UID":[901938],"FirstName":null,"LastName":null,"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-17 11:17:52.356 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
2025-07-17 11:17:52.365 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 11:17:52.366 +05:30 [INF] Found 1 patients matching search
2025-07-17 11:17:52.367 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:17:52.371 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 34.3649ms
2025-07-17 11:17:52.371 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 11:17:52.371 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 35.4553 ms
2025-07-17 11:17:52.372 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - 200 476 application/json; charset=utf-8 36.8364ms
2025-07-17 11:18:19.475 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-17 11:18:19.475 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:18:19.476 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.3871ms
2025-07-17 11:18:19.479 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 50
2025-07-17 11:18:19.480 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:18:19.482 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:18:19.483 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 11:18:19.487 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 11:18:20.137 +05:30 [INF] User logged in: ptester@gmail.com
2025-07-17 11:18:20.138 +05:30 [INF] Role: Patient
2025-07-17 11:18:20.138 +05:30 [INF] Role: Patient
2025-07-17 11:18:20.138 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Patient
2025-07-17 11:18:20.140 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-17 11:18:20.141 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 11:18:20.142 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 658.8181ms
2025-07-17 11:18:20.142 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:18:20.143 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 661.4954 ms
2025-07-17 11:18:20.143 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 605 application/json; charset=utf-8 664.3847ms
2025-07-17 11:18:20.152 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-17 11:18:20.152 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:18:20.153 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:18:20.153 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:18:20.154 +05:30 [INF] Searching users with params {"UID":null,"Username":["PTester"],"Role":null,"Email":["ptester@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:18:20.156 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-17 11:18:20.159 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-17 11:18:20.160 +05:30 [INF] Found 1 users among search
2025-07-17 11:18:20.161 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:18:20.162 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.6485ms
2025-07-17 11:18:20.164 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:18:20.164 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.1043 ms
2025-07-17 11:18:20.164 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 200 516 application/json; charset=utf-8 12.0984ms
2025-07-17 11:18:20.195 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-17 11:18:20.197 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:18:20.198 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 11:18:20.198 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-17 11:18:20.201 +05:30 [INF] Searching patients with params {"PID":null,"UID":[901938],"FirstName":null,"LastName":null,"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-17 11:18:20.205 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
2025-07-17 11:18:20.207 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 11:18:20.207 +05:30 [INF] Found 1 patients matching search
2025-07-17 11:18:20.208 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:18:20.208 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 9.5567ms
2025-07-17 11:18:20.208 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 11:18:20.208 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 11.0474 ms
2025-07-17 11:18:20.209 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - 200 476 application/json; charset=utf-8 13.223ms
2025-07-17 11:19:18.907 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-17 11:19:18.907 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:19:18.907 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.789ms
2025-07-17 11:19:18.909 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 50
2025-07-17 11:19:18.910 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:19:18.910 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:19:18.910 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 11:19:18.919 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 11:19:19.528 +05:30 [INF] User logged in: ptester@gmail.com
2025-07-17 11:19:19.529 +05:30 [INF] Role: Patient
2025-07-17 11:19:19.529 +05:30 [INF] Role: Patient
2025-07-17 11:19:19.529 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Patient
2025-07-17 11:19:19.532 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-17 11:19:19.533 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 11:19:19.535 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 624.1133ms
2025-07-17 11:19:19.535 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:19:19.536 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 625.9225 ms
2025-07-17 11:19:19.536 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 605 application/json; charset=utf-8 626.871ms
2025-07-17 11:19:19.543 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-17 11:19:19.544 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:19:19.544 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:19:19.545 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:19:19.546 +05:30 [INF] Searching users with params {"UID":null,"Username":["PTester"],"Role":null,"Email":["ptester@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:19:19.559 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-17 11:19:19.583 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-17 11:19:19.585 +05:30 [INF] Found 1 users among search
2025-07-17 11:19:19.586 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:19:19.587 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 41.8176ms
2025-07-17 11:19:19.587 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:19:19.588 +05:30 [INF] HTTP GET /api/user/search responded 200 in 43.7617 ms
2025-07-17 11:19:19.588 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 200 515 application/json; charset=utf-8 45.4482ms
2025-07-17 11:19:19.601 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-17 11:19:19.602 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:19:19.604 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 11:19:19.606 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-17 11:19:19.607 +05:30 [INF] Searching patients with params {"PID":null,"UID":[901938],"FirstName":null,"LastName":null,"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-17 11:19:19.614 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
2025-07-17 11:19:19.622 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 11:19:19.623 +05:30 [INF] Found 1 patients matching search
2025-07-17 11:19:19.624 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:19:19.624 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 17.8334ms
2025-07-17 11:19:19.624 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-17 11:19:19.625 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 21.0633 ms
2025-07-17 11:19:19.625 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - 200 476 application/json; charset=utf-8 24.3773ms
2025-07-17 11:22:45.519 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - null null
2025-07-17 11:22:45.520 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:22:45.520 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:22:45.521 +05:30 [INF] Searching users with params {"UID":null,"Username":["Aakarsh"],"Role":null,"Email":["aakarshbatra01@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:22:45.575 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-17 11:22:45.591 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-17 11:22:45.592 +05:30 [INF] Found 1 users among search
2025-07-17 11:22:45.592 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:22:45.592 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 71.9286ms
2025-07-17 11:22:45.593 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:22:45.593 +05:30 [INF] HTTP GET /api/user/search responded 200 in 73.2642 ms
2025-07-17 11:22:45.593 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - 200 519 application/json; charset=utf-8 74.2633ms
2025-07-17 11:25:06.612 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-17 11:25:06.612 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:25:06.612 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7665ms
2025-07-17 11:25:06.614 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 64
2025-07-17 11:25:06.614 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:25:06.615 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:25:06.615 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 11:25:06.663 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 11:25:07.486 +05:30 [INF] User logged in: aakarshbatra01@gmail.com
2025-07-17 11:25:07.490 +05:30 [INF] Role: Admin
2025-07-17 11:25:07.490 +05:30 [INF] Role: Admin
2025-07-17 11:25:07.491 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-17 11:25:07.499 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-17 11:25:07.500 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 11:25:07.501 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 885.8221ms
2025-07-17 11:25:07.501 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:25:07.502 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 886.9141 ms
2025-07-17 11:25:07.502 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 617 application/json; charset=utf-8 888.0079ms
2025-07-17 11:25:07.508 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - null null
2025-07-17 11:25:07.508 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:25:07.509 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:25:07.510 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:25:07.511 +05:30 [INF] Searching users with params {"UID":null,"Username":["Aakarsh"],"Role":null,"Email":["aakarshbatra01@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:25:07.529 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-17 11:25:07.553 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-17 11:25:07.554 +05:30 [INF] Found 1 users among search
2025-07-17 11:25:07.555 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:25:07.555 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 44.5402ms
2025-07-17 11:25:07.555 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:25:07.556 +05:30 [INF] HTTP GET /api/user/search responded 200 in 46.4626 ms
2025-07-17 11:25:07.556 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - 200 519 application/json; charset=utf-8 48.0596ms
2025-07-17 11:25:07.563 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=484341 - null null
2025-07-17 11:25:07.563 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:25:07.564 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:25:07.564 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:25:07.565 +05:30 [INF] Searching users with params {"UID":[484341],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:25:07.573 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-17 11:25:07.579 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 11:25:07.580 +05:30 [INF] Found 1 users among search
2025-07-17 11:25:07.580 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:25:07.580 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 16.0237ms
2025-07-17 11:25:07.581 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:25:07.581 +05:30 [INF] HTTP GET /api/user/search responded 200 in 17.2915 ms
2025-07-17 11:25:07.581 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=484341 - 200 519 application/json; charset=utf-8 18.7504ms
2025-07-17 11:25:14.325 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - null null
2025-07-17 11:25:14.328 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:25:14.329 +05:30 [INF] HTTP GET /api/patient/appointments/upcoming responded 404 in 0.4519 ms
2025-07-17 11:25:14.330 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/appointments/upcoming - 404 0 null 4.4341ms
2025-07-17 11:25:14.330 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/api/patient/appointments/upcoming, Response status code: 404
2025-07-17 11:44:04.419 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc - null null
2025-07-17 11:44:04.420 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:44:04.422 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:44:04.431 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:44:04.484 +05:30 [ERR] Failed executing DbCommand (6ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:44:04.546 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'HealthcareApi.Models.AssignmentDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Could not find stored procedure 'dbo.GetTodayAppointDoctor'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5d8f91d3-b26d-43f9-aad1-060fc9bfd35b
Error Number:2812,State:62,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Could not find stored procedure 'dbo.GetTodayAppointDoctor'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5d8f91d3-b26d-43f9-aad1-060fc9bfd35b
Error Number:2812,State:62,Class:16
2025-07-17 11:44:04.549 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 116.8977ms
2025-07-17 11:44:04.549 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:44:04.551 +05:30 [ERR] Unhandled exception occurred
Microsoft.Data.SqlClient.SqlException (0x80131904): Could not find stored procedure 'dbo.GetTodayAppointDoctor'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HealthcareApi.Repositories.DoctorRepository.GetTodayAppointmentsAsync(Nullable`1 doctorId, String statusFilter) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Repositories\DoctorRepository.cs:line 41
   at HealthcareApi.Services.DoctorService.GetPresentAppointments(Nullable`1 id, String status) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\DoctorService.cs:line 92
   at HealthcareApi.Controllers.DoctorController.PresentAppointments(Nullable`1 id, String filter) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\DoctorController.cs:line 62
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
ClientConnectionId:5d8f91d3-b26d-43f9-aad1-060fc9bfd35b
Error Number:2812,State:62,Class:16
2025-07-17 11:44:04.679 +05:30 [ERR] HTTP GET /api/doctor/proc responded 500 in 258.2440 ms
2025-07-17 11:44:04.680 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc - 500 null application/json 261.5447ms
2025-07-17 11:44:43.369 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc - null null
2025-07-17 11:44:43.371 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:44:43.373 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:44:43.373 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:44:43.405 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:44:43.408 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:44:43.411 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 37.5668ms
2025-07-17 11:44:43.412 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:44:43.412 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 39.6888 ms
2025-07-17 11:44:43.412 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc - 200 2 application/json; charset=utf-8 43.2718ms
2025-07-17 11:44:45.934 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc - null null
2025-07-17 11:44:45.934 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:44:45.935 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:44:45.936 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:44:45.941 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:44:45.943 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:44:45.943 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 6.3932ms
2025-07-17 11:44:45.944 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:44:45.944 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 8.7039 ms
2025-07-17 11:44:45.944 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc - 200 2 application/json; charset=utf-8 10.1605ms
2025-07-17 11:44:54.526 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc - null null
2025-07-17 11:44:54.527 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:44:54.527 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:44:54.528 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:44:54.531 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:44:54.532 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:44:54.532 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 3.595ms
2025-07-17 11:44:54.533 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:44:54.533 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 5.3754 ms
2025-07-17 11:44:54.533 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc - 200 2 application/json; charset=utf-8 6.6244ms
2025-07-17 11:44:57.649 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/patient/ - null null
2025-07-17 11:44:57.649 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:44:57.649 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatient (HealthcareApi)'
2025-07-17 11:44:57.653 +05:30 [INF] Route matched with {action = "GetPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] GetPatient(Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-17 11:44:57.657 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 11:44:57.671 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatient (HealthcareApi) in 17.3088ms
2025-07-17 11:44:57.671 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatient (HealthcareApi)'
2025-07-17 11:44:57.671 +05:30 [INF] HTTP GET /api/patient/patient/ responded 400 in 21.8864 ms
2025-07-17 11:44:57.671 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/patient/ - 400 246 application/problem+json; charset=utf-8 22.7258ms
2025-07-17 11:45:01.573 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc - null null
2025-07-17 11:45:01.573 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:45:01.573 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:45:01.574 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:45:01.578 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:45:01.579 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:45:01.579 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 5.3106ms
2025-07-17 11:45:01.580 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:45:01.580 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 6.9400 ms
2025-07-17 11:45:01.581 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc - 200 2 application/json; charset=utf-8 7.9335ms
2025-07-17 11:46:25.330 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc - null null
2025-07-17 11:46:25.331 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:46:25.331 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:46:25.332 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:46:25.367 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:46:25.368 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:46:25.368 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 36.167ms
2025-07-17 11:46:25.368 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:46:25.369 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 37.7889 ms
2025-07-17 11:46:25.369 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc - 200 2 application/json; charset=utf-8 39.12ms
2025-07-17 11:47:53.382 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc - null null
2025-07-17 11:47:53.383 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:47:53.384 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:47:53.385 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:47:53.413 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:47:53.414 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:47:53.414 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 28.9266ms
2025-07-17 11:47:53.415 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:47:53.415 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 30.8204 ms
2025-07-17 11:47:53.416 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc - 200 2 application/json; charset=utf-8 34.4756ms
2025-07-17 11:47:55.328 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - null null
2025-07-17 11:47:55.328 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:47:55.328 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:47:55.329 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:47:55.330 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:47:55.331 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:47:55.331 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 2.3754ms
2025-07-17 11:47:55.332 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:47:55.332 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 3.7168 ms
2025-07-17 11:47:55.333 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - 200 2 application/json; charset=utf-8 5.1045ms
2025-07-17 11:48:03.272 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - null null
2025-07-17 11:48:03.273 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:48:03.273 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:48:03.273 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:48:03.275 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:48:03.276 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:48:03.276 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 2.3331ms
2025-07-17 11:48:03.276 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:48:03.277 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 3.5575 ms
2025-07-17 11:48:03.277 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - 200 2 application/json; charset=utf-8 4.8509ms
2025-07-17 11:48:04.085 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - null null
2025-07-17 11:48:04.086 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:48:04.086 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:48:04.087 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:48:04.089 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:48:04.090 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:48:04.090 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 3.1652ms
2025-07-17 11:48:04.091 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:48:04.091 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 5.3384 ms
2025-07-17 11:48:04.092 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - 200 2 application/json; charset=utf-8 7.0758ms
2025-07-17 11:48:07.931 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-17 11:48:07.931 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:48:07.932 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.1958ms
2025-07-17 11:48:07.934 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 64
2025-07-17 11:48:07.935 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:48:07.935 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:48:07.935 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 11:48:07.942 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 11:48:08.847 +05:30 [INF] User logged in: aakarshbatra01@gmail.com
2025-07-17 11:48:08.847 +05:30 [INF] Role: Admin
2025-07-17 11:48:08.848 +05:30 [INF] Role: Admin
2025-07-17 11:48:08.848 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-17 11:48:08.853 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-17 11:48:08.854 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 11:48:08.855 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 918.9681ms
2025-07-17 11:48:08.855 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 11:48:08.856 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 920.7943 ms
2025-07-17 11:48:08.856 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 617 application/json; charset=utf-8 921.9176ms
2025-07-17 11:48:08.861 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - null null
2025-07-17 11:48:08.861 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:48:08.862 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:48:08.862 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:48:08.863 +05:30 [INF] Searching users with params {"UID":null,"Username":["Aakarsh"],"Role":null,"Email":["aakarshbatra01@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:48:08.880 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-17 11:48:08.897 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-17 11:48:08.898 +05:30 [INF] Found 1 users among search
2025-07-17 11:48:08.898 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:48:08.898 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 35.8597ms
2025-07-17 11:48:08.899 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:48:08.899 +05:30 [INF] HTTP GET /api/user/search responded 200 in 37.0023 ms
2025-07-17 11:48:08.899 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Aakarsh&email=aakarshbatra01@gmail.com - 200 518 application/json; charset=utf-8 38.3252ms
2025-07-17 11:48:08.905 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=484341 - null null
2025-07-17 11:48:08.905 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:48:08.905 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:48:08.906 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 11:48:08.907 +05:30 [INF] Searching users with params {"UID":[484341],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 11:48:08.911 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-17 11:48:08.916 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 11:48:08.917 +05:30 [INF] Found 1 users among search
2025-07-17 11:48:08.918 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:48:08.918 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 11.9359ms
2025-07-17 11:48:08.918 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 11:48:08.919 +05:30 [INF] HTTP GET /api/user/search responded 200 in 13.2477 ms
2025-07-17 11:48:08.919 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=484341 - 200 518 application/json; charset=utf-8 14.2955ms
2025-07-17 11:48:11.411 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - null null
2025-07-17 11:48:11.411 +05:30 [INF] CORS policy execution successful.
2025-07-17 11:48:11.412 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:48:11.412 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:48:11.415 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:48:11.415 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:48:11.416 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 2.675ms
2025-07-17 11:48:11.416 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:48:11.416 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 4.0092 ms
2025-07-17 11:48:11.416 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - 200 2 application/json; charset=utf-8 5.0718ms
2025-07-17 11:48:23.178 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc - null null
2025-07-17 11:48:23.178 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:48:23.179 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:48:23.212 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:48:23.212 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:48:23.213 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 33.9336ms
2025-07-17 11:48:23.213 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:48:23.213 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 35.1349 ms
2025-07-17 11:48:23.214 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc - 200 2 application/json; charset=utf-8 35.8888ms
2025-07-17 11:49:07.041 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-17 11:49:07.955 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-17 11:49:08.631 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 11:49:09.207 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 11:49:09.294 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-17 11:49:09.296 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 11:49:09.297 +05:30 [INF] Hosting environment: Development
2025-07-17 11:49:09.297 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-17 11:49:18.476 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc - null null
2025-07-17 11:49:18.501 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-17 11:49:18.533 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:49:18.551 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:49:18.629 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:49:18.638 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:49:18.713 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 156.2486ms
2025-07-17 11:49:18.716 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:49:18.720 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 189.0936 ms
2025-07-17 11:49:18.726 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc - 200 2 application/json; charset=utf-8 250.3004ms
2025-07-17 11:50:03.918 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc - null null
2025-07-17 11:50:03.927 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:50:03.928 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:50:04.005 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:50:04.010 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:50:04.011 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 82.5454ms
2025-07-17 11:50:04.012 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:50:04.013 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 86.7337 ms
2025-07-17 11:50:04.015 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc - 200 2 application/json; charset=utf-8 96.3162ms
2025-07-17 11:50:29.403 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-17 11:50:30.263 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-17 11:50:30.944 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 11:50:31.547 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 11:50:31.649 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-17 11:50:31.651 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 11:50:31.652 +05:30 [INF] Hosting environment: Development
2025-07-17 11:50:31.652 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-17 11:50:33.367 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc - null null
2025-07-17 11:50:33.399 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-17 11:50:33.435 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:50:33.458 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:50:33.520 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:50:33.529 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:50:33.592 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 129.5408ms
2025-07-17 11:50:33.593 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:50:33.599 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 167.3680 ms
2025-07-17 11:50:33.607 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc - 200 2 application/json; charset=utf-8 240.9538ms
2025-07-17 11:55:21.038 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc - null null
2025-07-17 11:55:21.043 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:55:21.044 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 11:55:21.145 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 11:55:21.147 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 11:55:21.149 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 104.2794ms
2025-07-17 11:55:21.150 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 11:55:21.150 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 107.2836 ms
2025-07-17 11:55:21.151 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc - 200 2 application/json; charset=utf-8 112.7325ms
2025-07-17 12:06:45.784 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/patient/ - null null
2025-07-17 12:06:45.788 +05:30 [INF] CORS policy execution successful.
2025-07-17 12:06:45.792 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatient (HealthcareApi)'
2025-07-17 12:06:45.797 +05:30 [INF] Route matched with {action = "GetPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] GetPatient(Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-17 12:06:45.806 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 12:06:45.850 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatient (HealthcareApi) in 52.6483ms
2025-07-17 12:06:45.851 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatient (HealthcareApi)'
2025-07-17 12:06:45.852 +05:30 [INF] HTTP GET /api/patient/patient/ responded 400 in 59.6226 ms
2025-07-17 12:06:45.852 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/patient/ - 400 246 application/problem+json; charset=utf-8 67.6767ms
2025-07-17 12:15:47.298 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc - null null
2025-07-17 12:15:47.299 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 12:15:47.300 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-17 12:15:47.322 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-17 12:15:47.323 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 12:15:47.324 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 23.1935ms
2025-07-17 12:15:47.324 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-17 12:15:47.324 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 25.7158 ms
2025-07-17 12:15:47.326 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc - 200 2 application/json; charset=utf-8 28.2154ms
2025-07-17 12:23:40.838 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 63
2025-07-17 12:23:40.839 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:23:40.844 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 12:23:40.917 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 12:23:40.936 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 91.1801ms
2025-07-17 12:23:40.936 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:23:40.937 +05:30 [ERR] Unhandled exception occurred
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.EnhancedVerify(String text, String hash, HashType hashType)
   at AuthController.Login(LoginRequest req) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\AuthController.cs:line 119
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-07-17 12:23:41.004 +05:30 [ERR] HTTP POST /api/auth/login responded 500 in 165.6713 ms
2025-07-17 12:23:41.005 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 500 null application/json 167.1061ms
2025-07-17 12:24:00.910 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 62
2025-07-17 12:24:00.912 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:24:00.912 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 12:24:00.917 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 12:24:01.760 +05:30 [WRN] Failed login attempt for email: ruby@raishin.com, rubyTest
2025-07-17 12:24:01.760 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-07-17 12:24:01.761 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 848.6995ms
2025-07-17 12:24:01.761 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:24:01.762 +05:30 [INF] HTTP POST /api/auth/login responded 401 in 849.9912 ms
2025-07-17 12:24:01.762 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 401 null text/plain; charset=utf-8 852.1608ms
2025-07-17 12:24:04.569 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 64
2025-07-17 12:24:04.570 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:24:04.570 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 12:24:04.573 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 12:24:05.168 +05:30 [WRN] Failed login attempt for email: ruby@raishin.com, rubyTester
2025-07-17 12:24:05.169 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-07-17 12:24:05.169 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 598.6616ms
2025-07-17 12:24:05.169 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:24:05.170 +05:30 [INF] HTTP POST /api/auth/login responded 401 in 600.1929 ms
2025-07-17 12:24:05.170 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 401 null text/plain; charset=utf-8 601.0717ms
2025-07-17 12:24:41.370 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 64
2025-07-17 12:24:41.371 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:24:41.371 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 12:24:41.385 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 12:24:42.226 +05:30 [WRN] Failed login attempt for email: ruby@raishin.com, rubytester
2025-07-17 12:24:42.227 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-07-17 12:24:42.228 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 856.1801ms
2025-07-17 12:24:42.228 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:24:42.228 +05:30 [INF] HTTP POST /api/auth/login responded 401 in 857.4423 ms
2025-07-17 12:24:42.229 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 401 null text/plain; charset=utf-8 858.3701ms
2025-07-17 12:24:48.553 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 62
2025-07-17 12:24:48.554 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:24:48.554 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 12:24:48.557 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 12:24:49.423 +05:30 [WRN] Failed login attempt for email: ruby@raishin.com, rubytest
2025-07-17 12:24:49.423 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-07-17 12:24:49.423 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 869.0237ms
2025-07-17 12:24:49.424 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:24:49.424 +05:30 [INF] HTTP POST /api/auth/login responded 401 in 870.5716 ms
2025-07-17 12:24:49.425 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 401 null text/plain; charset=utf-8 871.7691ms
2025-07-17 12:24:54.662 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 65
2025-07-17 12:24:54.663 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:24:54.664 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 12:24:54.666 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 12:24:55.540 +05:30 [WRN] Failed login attempt for email: ruby@raishin.com, rubyraishin
2025-07-17 12:24:55.541 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-07-17 12:24:55.541 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 877.5036ms
2025-07-17 12:24:55.542 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:24:55.542 +05:30 [INF] HTTP POST /api/auth/login responded 401 in 879.2297 ms
2025-07-17 12:24:55.543 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 401 null text/plain; charset=utf-8 880.6979ms
2025-07-17 12:30:00.000 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/register - null null
2025-07-17 12:30:00.001 +05:30 [INF] CORS policy execution successful.
2025-07-17 12:30:00.002 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/register - 204 null null 2.6671ms
2025-07-17 12:30:00.005 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/register - application/json 86
2025-07-17 12:30:00.005 +05:30 [INF] CORS policy execution successful.
2025-07-17 12:30:00.006 +05:30 [INF] Executing endpoint 'AuthController.Register (HealthcareApi)'
2025-07-17 12:30:00.011 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterRequest) on controller AuthController (HealthcareApi).
2025-07-17 12:30:00.055 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__req_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__req_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-17 12:30:00.957 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 255), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 20), @p8='?' (Size = 50), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([UserID], [CreatedAt], [Email], [ModifiedAt], [PasswordHash], [RefreshToken], [RefreshTokenExpiry], [Role], [Username], [isActive])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-17 12:30:00.967 +05:30 [INF] User registered: ruby@raishin.com
2025-07-17 12:30:00.968 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 12:30:00.971 +05:30 [INF] Executed action AuthController.Register (HealthcareApi) in 959.5054ms
2025-07-17 12:30:00.971 +05:30 [INF] Executed endpoint 'AuthController.Register (HealthcareApi)'
2025-07-17 12:30:00.971 +05:30 [INF] HTTP POST /api/auth/register responded 200 in 965.1241 ms
2025-07-17 12:30:00.972 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/register - 200 43 application/json; charset=utf-8 966.7743ms
2025-07-17 12:30:09.962 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-17 12:30:09.962 +05:30 [INF] CORS policy execution successful.
2025-07-17 12:30:09.963 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.8483ms
2025-07-17 12:30:09.965 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-17 12:30:09.966 +05:30 [INF] CORS policy execution successful.
2025-07-17 12:30:09.967 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:30:09.967 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 12:30:09.991 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 12:30:10.931 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-17 12:30:10.931 +05:30 [INF] Role: Admin
2025-07-17 12:30:10.932 +05:30 [INF] Role: Admin
2025-07-17 12:30:10.932 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-17 12:30:10.947 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-17 12:30:10.980 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 12:30:10.986 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1018.5335ms
2025-07-17 12:30:10.987 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:30:10.987 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1020.6536 ms
2025-07-17 12:30:10.988 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 594 application/json; charset=utf-8 1022.6277ms
2025-07-17 12:30:10.991 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-17 12:30:10.993 +05:30 [INF] CORS policy execution successful.
2025-07-17 12:30:10.994 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 12:30:11.004 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 12:30:11.026 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 12:30:11.105 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-17 12:30:11.109 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 12:30:11.110 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 12:30:11.124 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-17 12:30:11.127 +05:30 [INF] Found 1 users among search
2025-07-17 12:30:11.128 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 12:30:11.136 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 131.7003ms
2025-07-17 12:30:11.137 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 12:30:11.137 +05:30 [INF] HTTP GET /api/user/search responded 200 in 143.3056 ms
2025-07-17 12:30:11.137 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 146.0835ms
2025-07-17 12:30:11.141 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-17 12:30:11.141 +05:30 [INF] CORS policy execution successful.
2025-07-17 12:30:11.142 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 12:30:11.142 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-17 12:30:11.147 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-17 12:30:11.159 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-17 12:30:11.161 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 12:30:11.161 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 12:30:11.170 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-17 12:30:11.170 +05:30 [INF] Found 1 users among search
2025-07-17 12:30:11.171 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 12:30:11.172 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 29.3932ms
2025-07-17 12:30:11.172 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-17 12:30:11.172 +05:30 [INF] HTTP GET /api/user/search responded 200 in 30.2887 ms
2025-07-17 12:30:11.172 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 31.272ms
2025-07-17 12:30:20.413 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 65
2025-07-17 12:30:20.414 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:30:20.414 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 12:30:20.417 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 12:30:21.089 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-17 12:30:21.090 +05:30 [INF] Role: Admin
2025-07-17 12:30:21.090 +05:30 [INF] Role: Admin
2025-07-17 12:30:21.090 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-17 12:30:21.098 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-17 12:30:21.099 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 12:30:21.100 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 685.0364ms
2025-07-17 12:30:21.100 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:30:21.100 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 686.3668 ms
2025-07-17 12:30:21.101 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 594 application/json; charset=utf-8 687.1415ms
2025-07-17 12:31:34.118 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-17 12:31:35.049 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-17 12:31:35.723 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 12:31:36.264 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 12:31:36.361 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-17 12:31:36.364 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 12:31:36.365 +05:30 [INF] Hosting environment: Development
2025-07-17 12:31:36.365 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-17 12:31:42.160 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 65
2025-07-17 12:31:42.188 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-17 12:31:42.218 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:31:42.243 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-17 12:31:42.418 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-17 12:31:43.198 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-17 12:31:43.198 +05:30 [INF] Role: Admin
2025-07-17 12:31:43.199 +05:30 [INF] Role: Admin
2025-07-17 12:31:43.199 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-17 12:31:43.265 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-17 12:31:43.291 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 12:31:43.315 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1068.7939ms
2025-07-17 12:31:43.316 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-17 12:31:43.320 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1104.1701 ms
2025-07-17 12:31:43.327 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 1168.2063ms
2025-07-17 12:37:37.481 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/patient/ - null null
2025-07-17 12:37:37.487 +05:30 [INF] CORS policy execution successful.
2025-07-17 12:37:37.489 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatient (HealthcareApi)'
2025-07-17 12:37:37.493 +05:30 [INF] Route matched with {action = "GetPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] GetPatient(Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-17 12:37:37.498 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 12:37:37.517 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatient (HealthcareApi) in 24.1385ms
2025-07-17 12:37:37.518 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatient (HealthcareApi)'
2025-07-17 12:37:37.519 +05:30 [INF] HTTP GET /api/patient/patient/ responded 400 in 30.0971 ms
2025-07-17 12:37:37.520 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/patient/ - 400 246 application/problem+json; charset=utf-8 38.2368ms
2025-07-17 13:02:49.751 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/patient/ - null null
2025-07-17 13:02:49.754 +05:30 [INF] CORS policy execution successful.
2025-07-17 13:02:49.757 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatient (HealthcareApi)'
2025-07-17 13:02:49.757 +05:30 [INF] Route matched with {action = "GetPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] GetPatient(Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-17 13:02:49.759 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 13:02:49.760 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatient (HealthcareApi) in 2.7024ms
2025-07-17 13:02:49.761 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatient (HealthcareApi)'
2025-07-17 13:02:49.761 +05:30 [INF] HTTP GET /api/patient/patient/ responded 400 in 4.1647 ms
2025-07-17 13:02:49.761 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/patient/ - 400 246 application/problem+json; charset=utf-8 10.1802ms
2025-07-17 13:41:49.467 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/patient/ - null null
2025-07-17 13:41:49.469 +05:30 [INF] CORS policy execution successful.
2025-07-17 13:41:49.470 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatient (HealthcareApi)'
2025-07-17 13:41:49.470 +05:30 [INF] Route matched with {action = "GetPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] GetPatient(Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-17 13:41:49.474 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-17 13:41:49.476 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatient (HealthcareApi) in 5.2973ms
2025-07-17 13:41:49.476 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatient (HealthcareApi)'
2025-07-17 13:41:49.477 +05:30 [INF] HTTP GET /api/patient/patient/ responded 400 in 7.1679 ms
2025-07-17 13:41:49.477 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/patient/ - 400 246 application/problem+json; charset=utf-8 10.0189ms
2025-07-17 13:54:26.227 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-17 13:54:27.140 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-17 13:54:27.811 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-17 13:54:28.319 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 13:54:28.396 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-17 13:54:28.400 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 13:54:28.401 +05:30 [INF] Hosting environment: Development
2025-07-17 13:54:28.401 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-17 13:54:58.472 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-17 13:54:58.503 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-17 13:54:58.534 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-17 13:54:58.557 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-17 13:54:58.587 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 27.138ms
2025-07-17 13:54:58.589 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-17 13:54:58.591 +05:30 [ERR] Unhandled exception occurred
System.InvalidOperationException: Cannot create a DbSet for 'UpcomingAppointmentDTO' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.RelationalQueryableExtensions.FromSqlInterpolated[TEntity](DbSet`1 source, FormattableString sql)
   at HealthcareApi.Repositories.PatientRepository.GetUpcomingAppointmentsAsync(Nullable`1 patientID, String statusFilter) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Repositories\PatientRepository.cs:line 46
   at HealthcareApi.Services.PatientService.GetUpcomingAppointmentsAsync(Nullable`1 id, String status) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\PatientService.cs:line 74
   at HealthcareApi.Controllers.PatientController.UpcomingAppointments(Nullable`1 id, String status) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\PatientController.cs:line 174
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-07-17 13:54:58.654 +05:30 [ERR] HTTP GET /api/patient/proc responded 500 in 125.0682 ms
2025-07-17 13:54:58.658 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 500 null application/json 187.4069ms
