2025-08-01 01:08:12.951 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 01:08:12.957 +05:30 [INF] CORS policy execution successful.
2025-08-01 01:08:12.957 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 6.2105ms
2025-08-01 01:08:12.964 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 01:08:12.965 +05:30 [INF] CORS policy execution successful.
2025-08-01 01:08:12.981 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 01:08:12.981 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 01:08:12.982 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 17.5419ms
2025-08-01 01:13:14.812 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 01:13:14.813 +05:30 [INF] CORS policy execution successful.
2025-08-01 01:13:14.813 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6293ms
2025-08-01 01:13:14.817 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 01:13:14.817 +05:30 [INF] CORS policy execution successful.
2025-08-01 01:13:14.817 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 01:13:14.818 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 01:13:14.818 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.0594ms
2025-08-01 09:57:55.848 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 09:57:55.849 +05:30 [INF] CORS policy execution successful.
2025-08-01 09:57:55.850 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.944ms
2025-08-01 09:57:55.855 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 09:57:55.856 +05:30 [INF] CORS policy execution successful.
2025-08-01 09:57:55.857 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 09:57:55.857 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 09:57:55.858 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.9308ms
2025-08-01 09:57:56.508 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 09:57:56.508 +05:30 [INF] CORS policy execution successful.
2025-08-01 09:57:56.509 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 09:57:56.509 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 09:57:56.509 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.4119ms
2025-08-01 09:57:57.620 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 09:57:57.621 +05:30 [INF] CORS policy execution successful.
2025-08-01 09:57:57.621 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.8635ms
2025-08-01 09:57:57.623 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 09:57:57.623 +05:30 [INF] CORS policy execution successful.
2025-08-01 09:57:57.623 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 09:57:57.624 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 09:57:57.664 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 09:57:58.264 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 09:57:58.265 +05:30 [INF] Role: Admin
2025-08-01 09:57:58.265 +05:30 [INF] Role: Admin
2025-08-01 09:57:58.265 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 09:57:58.284 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 09:57:58.285 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 09:57:58.286 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 661.8805ms
2025-08-01 09:57:58.287 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 09:57:58.287 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 663.3492 ms
2025-08-01 09:57:58.287 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 664.1387ms
2025-08-01 09:57:58.293 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 09:57:58.293 +05:30 [INF] CORS policy execution successful.
2025-08-01 09:57:58.293 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6915ms
2025-08-01 09:57:58.295 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 09:57:58.296 +05:30 [INF] CORS policy execution successful.
2025-08-01 09:57:58.297 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 09:57:58.297 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 09:57:58.298 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 09:57:58.302 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 09:57:58.306 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 09:57:58.306 +05:30 [INF] Found 1 users among search
2025-08-01 09:57:58.307 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 09:57:58.307 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.5089ms
2025-08-01 09:57:58.308 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 09:57:58.308 +05:30 [INF] HTTP GET /api/user/search responded 200 in 10.8386 ms
2025-08-01 09:57:58.308 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 12.6701ms
2025-08-01 09:57:58.333 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 09:57:58.333 +05:30 [INF] CORS policy execution successful.
2025-08-01 09:57:58.334 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.2609ms
2025-08-01 09:57:58.338 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 09:57:58.339 +05:30 [INF] CORS policy execution successful.
2025-08-01 09:57:58.339 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 09:57:58.339 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 09:57:58.341 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 09:57:58.344 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 09:57:58.346 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 09:57:58.346 +05:30 [INF] Found 1 users among search
2025-08-01 09:57:58.347 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 09:57:58.348 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.8516ms
2025-08-01 09:57:58.348 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 09:57:58.348 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.2058 ms
2025-08-01 09:57:58.349 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 10.5471ms
2025-08-01 09:58:02.091 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 09:58:02.092 +05:30 [INF] CORS policy execution successful.
2025-08-01 09:58:02.092 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8132ms
2025-08-01 09:58:02.096 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 09:58:02.096 +05:30 [INF] CORS policy execution successful.
2025-08-01 09:58:02.097 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 09:58:02.097 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 09:58:02.112 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 09:58:02.124 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 09:58:02.124 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 09:58:02.125 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 27.3688ms
2025-08-01 09:58:02.125 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 09:58:02.125 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 28.2747 ms
2025-08-01 09:58:02.126 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 29.6021ms
2025-08-01 09:58:07.595 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 09:58:07.595 +05:30 [INF] CORS policy execution successful.
2025-08-01 09:58:07.596 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.7019ms
2025-08-01 09:58:07.598 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 09:58:07.598 +05:30 [INF] CORS policy execution successful.
2025-08-01 09:58:07.599 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 09:58:07.600 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 09:58:07.600 +05:30 [INF] Fetching all patients
2025-08-01 09:58:07.615 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 09:58:07.616 +05:30 [INF] Returned 10 patients
2025-08-01 09:58:07.617 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 09:58:07.617 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 17.3265ms
2025-08-01 09:58:07.617 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 09:58:07.618 +05:30 [INF] HTTP GET /api/patient responded 200 in 18.7954 ms
2025-08-01 09:58:07.618 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 20.387ms
2025-08-01 09:58:07.644 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 09:58:07.645 +05:30 [INF] CORS policy execution successful.
2025-08-01 09:58:07.645 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6525ms
2025-08-01 09:58:07.647 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 09:58:07.648 +05:30 [INF] CORS policy execution successful.
2025-08-01 09:58:07.648 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 09:58:07.648 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 09:58:07.658 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 09:58:07.662 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 09:58:07.663 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 09:58:07.663 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 14.2306ms
2025-08-01 09:58:07.663 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 09:58:07.664 +05:30 [INF] HTTP GET /api/doctor responded 200 in 15.6335 ms
2025-08-01 09:58:07.664 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 16.7704ms
2025-08-01 10:15:46.985 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:15:46.986 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:15:46.987 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.9786ms
2025-08-01 10:15:47.018 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:15:47.019 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:15:47.021 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 10:15:47.022 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:15:47.022 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.9493ms
2025-08-01 10:16:53.832 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:16:53.833 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:16:53.833 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1152ms
2025-08-01 10:16:53.846 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:16:53.847 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:16:53.847 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 10:16:53.848 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:16:53.849 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.7135ms
2025-08-01 10:18:05.752 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:18:05.752 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:18:05.753 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.5743ms
2025-08-01 10:18:05.765 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:18:05.766 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:18:05.766 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 10:18:05.766 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:18:05.768 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.1456ms
2025-08-01 10:18:16.865 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 10:18:16.866 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:18:16.867 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 10:18:16.867 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:18:16.868 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 2.5213ms
2025-08-01 10:18:18.046 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 10:18:18.046 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:18:18.047 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.9026ms
2025-08-01 10:18:18.050 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 10:18:18.050 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:18:18.050 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 10:18:18.051 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 10:18:18.081 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 10:18:18.986 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 10:18:18.986 +05:30 [INF] Role: Admin
2025-08-01 10:18:18.986 +05:30 [INF] Role: Admin
2025-08-01 10:18:18.986 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 10:18:18.997 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 10:18:18.997 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 10:18:18.998 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 946.7177ms
2025-08-01 10:18:18.998 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 10:18:18.999 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 948.3885 ms
2025-08-01 10:18:18.999 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 949.4666ms
2025-08-01 10:18:19.004 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 10:18:19.004 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:18:19.005 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6959ms
2025-08-01 10:18:19.007 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 10:18:19.007 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:18:19.008 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:18:19.008 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 10:18:19.009 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 10:18:19.011 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 10:18:19.016 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 10:18:19.017 +05:30 [INF] Found 1 users among search
2025-08-01 10:18:19.017 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:18:19.018 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.775ms
2025-08-01 10:18:19.019 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:18:19.019 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.2890 ms
2025-08-01 10:18:19.019 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 12.4313ms
2025-08-01 10:18:19.043 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 10:18:19.043 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:18:19.044 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.5784ms
2025-08-01 10:18:19.051 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 10:18:19.051 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:18:19.051 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:18:19.052 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 10:18:19.053 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 10:18:19.055 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 10:18:19.058 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 10:18:19.058 +05:30 [INF] Found 1 users among search
2025-08-01 10:18:19.058 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:18:19.059 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.8418ms
2025-08-01 10:18:19.059 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:18:19.059 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.7929 ms
2025-08-01 10:18:19.060 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 8.7222ms
2025-08-01 10:18:20.898 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:18:20.899 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:18:20.899 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1455ms
2025-08-01 10:18:20.902 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:18:20.902 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:18:20.903 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:18:20.903 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 10:18:20.911 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 10:18:20.921 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 10:18:20.922 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:18:20.922 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 18.3548ms
2025-08-01 10:18:20.922 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:18:20.923 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 19.9816 ms
2025-08-01 10:18:20.923 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 21.5802ms
2025-08-01 10:18:22.874 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 10:18:22.875 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:18:22.876 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 1.8274ms
2025-08-01 10:18:22.877 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 10:18:22.877 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:18:22.877 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.5219ms
2025-08-01 10:18:22.881 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:18:22.882 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:18:22.882 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:18:22.882 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:18:22.882 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:18:22.883 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:18:22.883 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:18:22.883 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:18:22.883 +05:30 [INF] Fetching all patients
2025-08-01 10:18:22.887 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:18:22.887 +05:30 [INF] Returned 10 patients
2025-08-01 10:18:22.887 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:18:22.888 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.0242ms
2025-08-01 10:18:22.889 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:18:22.889 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.7863 ms
2025-08-01 10:18:22.890 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.2749ms
2025-08-01 10:18:22.895 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:18:22.900 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:18:22.901 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:18:22.901 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 18.0433ms
2025-08-01 10:18:22.902 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:18:22.902 +05:30 [INF] HTTP GET /api/doctor responded 200 in 19.3556 ms
2025-08-01 10:18:22.902 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 20.6648ms
2025-08-01 10:21:10.831 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:21:10.832 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:10.834 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 3.3234ms
2025-08-01 10:21:10.840 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:21:10.841 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:10.844 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 10:21:10.845 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:21:10.846 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 5.7834ms
2025-08-01 10:21:15.621 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:21:15.622 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:15.625 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 10:21:15.629 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:21:15.629 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 8.1762ms
2025-08-01 10:21:17.118 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 10:21:17.119 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:17.119 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 10:21:17.119 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:21:17.119 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.2084ms
2025-08-01 10:21:18.199 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 10:21:18.199 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:18.200 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.3897ms
2025-08-01 10:21:18.201 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 10:21:18.201 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:18.201 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 10:21:18.201 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 10:21:18.213 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 10:21:18.802 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 10:21:18.802 +05:30 [INF] Role: Admin
2025-08-01 10:21:18.802 +05:30 [INF] Role: Admin
2025-08-01 10:21:18.802 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 10:21:18.810 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 10:21:18.811 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 10:21:18.811 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 609.4387ms
2025-08-01 10:21:18.811 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 10:21:18.811 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 610.3003 ms
2025-08-01 10:21:18.812 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 610.9024ms
2025-08-01 10:21:18.818 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 10:21:18.818 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:18.819 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.4987ms
2025-08-01 10:21:18.821 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 10:21:18.821 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:18.822 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:21:18.822 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 10:21:18.823 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 10:21:18.825 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 10:21:18.829 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 10:21:18.830 +05:30 [INF] Found 1 users among search
2025-08-01 10:21:18.830 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:21:18.830 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.8305ms
2025-08-01 10:21:18.831 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:21:18.831 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.0971 ms
2025-08-01 10:21:18.831 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 10.3446ms
2025-08-01 10:21:18.863 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 10:21:18.864 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:18.865 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.1874ms
2025-08-01 10:21:18.869 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 10:21:18.870 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:18.870 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:21:18.870 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 10:21:18.871 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 10:21:18.873 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 10:21:18.875 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 10:21:18.875 +05:30 [INF] Found 1 users among search
2025-08-01 10:21:18.875 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:21:18.875 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.8441ms
2025-08-01 10:21:18.876 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:21:18.876 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.4101 ms
2025-08-01 10:21:18.877 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 7.6147ms
2025-08-01 10:21:20.501 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:21:20.501 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:20.502 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.5152ms
2025-08-01 10:21:20.505 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:21:20.505 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:20.506 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:21:20.506 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 10:21:20.515 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 10:21:20.524 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 10:21:20.525 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:21:20.525 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 18.5272ms
2025-08-01 10:21:20.525 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:21:20.526 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 20.0849 ms
2025-08-01 10:21:20.527 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 22.2724ms
2025-08-01 10:21:22.377 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 10:21:22.377 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:22.378 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 1.396ms
2025-08-01 10:21:22.379 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 10:21:22.380 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:22.380 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.0801ms
2025-08-01 10:21:22.382 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:21:22.382 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:22.383 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:21:22.383 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:21:22.383 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:21:22.383 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:21:22.384 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:21:22.384 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:21:22.384 +05:30 [INF] Fetching all patients
2025-08-01 10:21:22.387 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:21:22.387 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:21:22.388 +05:30 [INF] Returned 10 patients
2025-08-01 10:21:22.388 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:21:22.388 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.5592ms
2025-08-01 10:21:22.389 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:21:22.389 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.6821 ms
2025-08-01 10:21:22.389 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 6.9671ms
2025-08-01 10:21:22.391 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:21:22.392 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:21:22.392 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.8931ms
2025-08-01 10:21:22.392 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:21:22.393 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.8024 ms
2025-08-01 10:21:22.394 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.0088ms
2025-08-01 10:23:10.639 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:23:10.640 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:23:10.640 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.4036ms
2025-08-01 10:23:10.650 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:23:10.650 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:23:10.651 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 10:23:10.652 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:23:10.652 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.6274ms
2025-08-01 10:24:36.727 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 10:24:36.727 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:24:36.728 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 10:24:36.728 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:24:36.728 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.2633ms
2025-08-01 10:24:37.595 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 10:24:37.595 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:24:37.596 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.0704ms
2025-08-01 10:24:37.598 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 10:24:37.598 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:24:37.599 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 10:24:37.599 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 10:24:37.622 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 10:24:38.368 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 10:24:38.369 +05:30 [INF] Role: Admin
2025-08-01 10:24:38.369 +05:30 [INF] Role: Admin
2025-08-01 10:24:38.369 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 10:24:38.377 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 10:24:38.378 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 10:24:38.378 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 778.7695ms
2025-08-01 10:24:38.378 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 10:24:38.379 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 780.0785 ms
2025-08-01 10:24:38.379 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 781.5304ms
2025-08-01 10:24:38.384 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 10:24:38.384 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:24:38.385 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.8017ms
2025-08-01 10:24:38.387 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 10:24:38.387 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:24:38.388 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:24:38.388 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 10:24:38.389 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 10:24:38.391 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 10:24:38.394 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 10:24:38.396 +05:30 [INF] Found 1 users among search
2025-08-01 10:24:38.396 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:24:38.397 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.3903ms
2025-08-01 10:24:38.397 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:24:38.397 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.6203 ms
2025-08-01 10:24:38.398 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 10.8314ms
2025-08-01 10:24:38.424 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 10:24:38.426 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:24:38.426 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.6635ms
2025-08-01 10:24:38.430 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 10:24:38.430 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:24:38.430 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:24:38.430 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 10:24:38.431 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 10:24:38.433 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 10:24:38.434 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 10:24:38.435 +05:30 [INF] Found 1 users among search
2025-08-01 10:24:38.435 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:24:38.435 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.7755ms
2025-08-01 10:24:38.436 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:24:38.436 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.8091 ms
2025-08-01 10:24:38.436 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 6.8079ms
2025-08-01 10:24:40.341 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:24:40.342 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:24:40.342 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7539ms
2025-08-01 10:24:40.345 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:24:40.345 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:24:40.346 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:24:40.346 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 10:24:40.353 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 10:24:40.363 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 10:24:40.364 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:24:40.364 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 17.6246ms
2025-08-01 10:24:40.364 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:24:40.365 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 18.8351 ms
2025-08-01 10:24:40.365 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 20.3935ms
2025-08-01 10:24:41.450 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 10:24:41.450 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:24:41.450 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5633ms
2025-08-01 10:24:41.453 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:24:41.453 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:24:41.453 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:24:41.454 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:24:41.454 +05:30 [INF] Fetching all patients
2025-08-01 10:24:41.457 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:24:41.458 +05:30 [INF] Returned 10 patients
2025-08-01 10:24:41.458 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:24:41.459 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.2661ms
2025-08-01 10:24:41.460 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:24:41.460 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.4590 ms
2025-08-01 10:24:41.460 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.6709ms
2025-08-01 10:24:41.514 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 10:24:41.515 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:24:41.516 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.5655ms
2025-08-01 10:24:41.524 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:24:41.525 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:24:41.526 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:24:41.526 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:24:41.530 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:24:41.533 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:24:41.534 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:24:41.534 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.7814ms
2025-08-01 10:24:41.535 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:24:41.535 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.2847 ms
2025-08-01 10:24:41.535 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.269ms
2025-08-01 10:25:55.711 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:25:55.718 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:25:55.719 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 7.848ms
2025-08-01 10:25:55.739 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:25:55.740 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:25:55.741 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 10:25:55.741 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:25:55.741 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.0518ms
2025-08-01 10:26:03.094 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:26:03.096 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:26:03.114 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 20.1279ms
2025-08-01 10:26:03.134 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:26:03.135 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:26:03.137 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 10:26:03.137 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:26:03.138 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.4991ms
2025-08-01 10:26:03.928 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 10:26:03.929 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:26:03.929 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 10:26:03.929 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:26:03.930 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.2931ms
2025-08-01 10:26:27.214 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 10:26:27.214 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:26:27.215 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5966ms
2025-08-01 10:26:27.217 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 10:26:27.217 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:26:27.218 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 10:26:27.218 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 10:26:27.237 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 10:26:28.001 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 10:26:28.002 +05:30 [INF] Role: Admin
2025-08-01 10:26:28.002 +05:30 [INF] Role: Admin
2025-08-01 10:26:28.002 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 10:26:28.006 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 10:26:28.006 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 10:26:28.007 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 788.8488ms
2025-08-01 10:26:28.007 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 10:26:28.007 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 790.0577 ms
2025-08-01 10:26:28.008 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 791.0936ms
2025-08-01 10:26:28.012 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 10:26:28.012 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:26:28.013 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7177ms
2025-08-01 10:26:28.015 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 10:26:28.015 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:26:28.015 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:26:28.016 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 10:26:28.017 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 10:26:28.020 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 10:26:28.023 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 10:26:28.023 +05:30 [INF] Found 1 users among search
2025-08-01 10:26:28.024 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:26:28.024 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.4775ms
2025-08-01 10:26:28.025 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:26:28.025 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.5608 ms
2025-08-01 10:26:28.025 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 10.6642ms
2025-08-01 10:26:28.048 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 10:26:28.050 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:26:28.052 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 3.9182ms
2025-08-01 10:26:28.055 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 10:26:28.055 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:26:28.057 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:26:28.057 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 10:26:28.058 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 10:26:28.060 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 10:26:28.062 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 10:26:28.063 +05:30 [INF] Found 1 users among search
2025-08-01 10:26:28.063 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:26:28.063 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.1054ms
2025-08-01 10:26:28.064 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:26:28.064 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.2866 ms
2025-08-01 10:26:28.064 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 9.3371ms
2025-08-01 10:26:29.652 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:26:29.653 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:26:29.653 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8226ms
2025-08-01 10:26:29.655 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:26:29.656 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:26:29.656 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:26:29.657 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 10:26:29.664 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 10:26:29.675 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 10:26:29.676 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:26:29.676 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 19.6044ms
2025-08-01 10:26:29.677 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:26:29.677 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 20.7654 ms
2025-08-01 10:26:29.677 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 22.1345ms
2025-08-01 10:26:30.959 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 10:26:30.959 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:26:30.960 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6355ms
2025-08-01 10:26:30.962 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:26:30.962 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:26:30.963 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:26:30.963 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:26:30.964 +05:30 [INF] Fetching all patients
2025-08-01 10:26:30.976 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:26:30.977 +05:30 [INF] Returned 10 patients
2025-08-01 10:26:30.977 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:26:30.978 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 14.5458ms
2025-08-01 10:26:30.978 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:26:30.979 +05:30 [INF] HTTP GET /api/patient responded 200 in 16.4359 ms
2025-08-01 10:26:30.980 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 18.2147ms
2025-08-01 10:26:31.006 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 10:26:31.006 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:26:31.006 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7091ms
2025-08-01 10:26:31.008 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:26:31.009 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:26:31.009 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:26:31.009 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:26:31.013 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:26:31.016 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:26:31.017 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:26:31.018 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.212ms
2025-08-01 10:26:31.018 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:26:31.018 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.4076 ms
2025-08-01 10:26:31.019 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 10.4383ms
2025-08-01 10:31:02.314 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:31:02.317 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:31:02.318 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 3.9329ms
2025-08-01 10:31:02.328 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:31:02.330 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:31:02.330 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 10:31:02.331 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:31:02.331 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.6597ms
2025-08-01 10:31:03.282 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 10:31:03.283 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:31:03.283 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 10:31:03.284 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:31:03.284 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.4611ms
2025-08-01 10:31:05.712 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 10:31:05.713 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:31:05.713 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.8612ms
2025-08-01 10:31:05.715 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 10:31:05.715 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:31:05.715 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 10:31:05.715 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 10:31:05.735 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 10:31:06.359 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 10:31:06.359 +05:30 [INF] Role: Admin
2025-08-01 10:31:06.360 +05:30 [INF] Role: Admin
2025-08-01 10:31:06.360 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 10:31:06.369 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 10:31:06.370 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 10:31:06.370 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 654.7144ms
2025-08-01 10:31:06.371 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 10:31:06.371 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 655.6605 ms
2025-08-01 10:31:06.371 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 656.4651ms
2025-08-01 10:31:06.377 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 10:31:06.378 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:31:06.378 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 1.0559ms
2025-08-01 10:31:06.381 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 10:31:06.381 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:31:06.382 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:31:06.382 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 10:31:06.383 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 10:31:06.387 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 10:31:06.391 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 10:31:06.391 +05:30 [INF] Found 1 users among search
2025-08-01 10:31:06.392 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:31:06.392 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.5029ms
2025-08-01 10:31:06.393 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:31:06.393 +05:30 [INF] HTTP GET /api/user/search responded 200 in 10.8825 ms
2025-08-01 10:31:06.393 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 12.1922ms
2025-08-01 10:31:06.412 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 10:31:06.413 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:31:06.414 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.7148ms
2025-08-01 10:31:06.417 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 10:31:06.417 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:31:06.418 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:31:06.419 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 10:31:06.420 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 10:31:06.423 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 10:31:06.425 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 10:31:06.425 +05:30 [INF] Found 1 users among search
2025-08-01 10:31:06.426 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:31:06.426 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.1352ms
2025-08-01 10:31:06.427 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:31:06.427 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.6323 ms
2025-08-01 10:31:06.427 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 10.8206ms
2025-08-01 10:31:26.988 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:31:26.988 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:31:26.988 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.5868ms
2025-08-01 10:31:26.990 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:31:26.990 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:31:26.991 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:31:26.992 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 10:31:27.002 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 10:31:27.014 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 10:31:27.015 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:31:27.015 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 23.0271ms
2025-08-01 10:31:27.016 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:31:27.017 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 25.6270 ms
2025-08-01 10:31:27.017 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 27.4734ms
2025-08-01 10:31:28.428 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 10:31:28.429 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:31:28.430 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 1.5547ms
2025-08-01 10:31:28.433 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:31:28.433 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:31:28.433 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:31:28.434 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:31:28.434 +05:30 [INF] Fetching all patients
2025-08-01 10:31:28.436 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:31:28.437 +05:30 [INF] Returned 10 patients
2025-08-01 10:31:28.437 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:31:28.438 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.8052ms
2025-08-01 10:31:28.438 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:31:28.438 +05:30 [INF] HTTP GET /api/patient responded 200 in 4.6512 ms
2025-08-01 10:31:28.438 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 5.6849ms
2025-08-01 10:31:28.466 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 10:31:28.467 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:31:28.467 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.783ms
2025-08-01 10:31:28.469 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:31:28.470 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:31:28.470 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:31:28.470 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:31:28.473 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:31:28.477 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:31:28.477 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:31:28.478 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.3594ms
2025-08-01 10:31:28.478 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:31:28.478 +05:30 [INF] HTTP GET /api/doctor responded 200 in 8.3648 ms
2025-08-01 10:31:28.479 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 9.7829ms
2025-08-01 10:33:09.968 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:33:09.969 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:09.970 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.6715ms
2025-08-01 10:33:09.976 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:33:09.977 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:09.978 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 10:33:09.979 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:33:09.980 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 4.5418ms
2025-08-01 10:33:27.012 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 10:33:27.012 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:27.012 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 10:33:27.013 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:33:27.013 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.6945ms
2025-08-01 10:33:27.721 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 10:33:27.722 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:27.722 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.3056ms
2025-08-01 10:33:27.724 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 10:33:27.725 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:27.725 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 10:33:27.726 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 10:33:27.744 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 10:33:28.311 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 10:33:28.311 +05:30 [INF] Role: Admin
2025-08-01 10:33:28.311 +05:30 [INF] Role: Admin
2025-08-01 10:33:28.311 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 10:33:28.316 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 10:33:28.316 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 10:33:28.316 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 590.7342ms
2025-08-01 10:33:28.317 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 10:33:28.317 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 591.5284 ms
2025-08-01 10:33:28.317 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 592.6809ms
2025-08-01 10:33:28.322 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 10:33:28.323 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:28.323 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.388ms
2025-08-01 10:33:28.324 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 10:33:28.325 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:28.325 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:33:28.325 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 10:33:28.326 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 10:33:28.328 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 10:33:28.330 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 10:33:28.331 +05:30 [INF] Found 1 users among search
2025-08-01 10:33:28.331 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:28.331 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.829ms
2025-08-01 10:33:28.331 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:33:28.332 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.8750 ms
2025-08-01 10:33:28.332 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 7.5793ms
2025-08-01 10:33:28.387 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 10:33:28.387 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:28.388 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.5126ms
2025-08-01 10:33:28.396 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 10:33:28.396 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:28.397 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:33:28.397 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 10:33:28.397 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 10:33:28.399 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 10:33:28.401 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 10:33:28.402 +05:30 [INF] Found 1 users among search
2025-08-01 10:33:28.402 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:28.402 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.3857ms
2025-08-01 10:33:28.403 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:33:28.403 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.0405 ms
2025-08-01 10:33:28.403 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 6.7122ms
2025-08-01 10:33:29.417 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:33:29.417 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:29.418 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1313ms
2025-08-01 10:33:29.419 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:33:29.420 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:29.420 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:33:29.421 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 10:33:29.430 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:29.442 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 10:33:29.442 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:29.443 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 20.9121ms
2025-08-01 10:33:29.443 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:33:29.443 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 23.0334 ms
2025-08-01 10:33:29.444 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 24.3921ms
2025-08-01 10:33:30.864 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 10:33:30.865 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:30.865 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.8601ms
2025-08-01 10:33:30.867 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:33:30.867 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:30.868 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:30.868 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:33:30.869 +05:30 [INF] Fetching all patients
2025-08-01 10:33:30.872 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:30.873 +05:30 [INF] Returned 10 patients
2025-08-01 10:33:30.873 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:30.874 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.9216ms
2025-08-01 10:33:30.874 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:30.874 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.2726 ms
2025-08-01 10:33:30.875 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.799ms
2025-08-01 10:33:30.902 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 10:33:30.903 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:30.903 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7813ms
2025-08-01 10:33:30.905 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:33:30.905 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:30.907 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:30.907 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:33:30.910 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:30.914 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:33:30.915 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:30.915 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.4965ms
2025-08-01 10:33:30.915 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:30.916 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.6258 ms
2025-08-01 10:33:30.916 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.1254ms
2025-08-01 10:33:37.315 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 10:33:37.315 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:37.316 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.7812ms
2025-08-01 10:33:37.318 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:33:37.318 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:37.318 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:37.319 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:33:37.319 +05:30 [INF] Fetching all patients
2025-08-01 10:33:37.320 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:37.321 +05:30 [INF] Returned 10 patients
2025-08-01 10:33:37.322 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:37.323 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.2279ms
2025-08-01 10:33:37.323 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:37.324 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.6709 ms
2025-08-01 10:33:37.325 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 6.8829ms
2025-08-01 10:33:37.348 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 10:33:37.348 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:37.348 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6262ms
2025-08-01 10:33:37.350 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:33:37.351 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:37.351 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:37.351 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:33:37.353 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:37.366 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:33:37.366 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:37.367 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 15.349ms
2025-08-01 10:33:37.368 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:37.368 +05:30 [INF] HTTP GET /api/doctor responded 200 in 16.7152 ms
2025-08-01 10:33:37.368 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 17.8015ms
2025-08-01 10:33:39.831 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:33:39.832 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:39.832 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:39.833 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:33:39.833 +05:30 [INF] Fetching all patients
2025-08-01 10:33:39.835 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:39.835 +05:30 [INF] Returned 10 patients
2025-08-01 10:33:39.835 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:39.836 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.0866ms
2025-08-01 10:33:39.836 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:39.836 +05:30 [INF] HTTP GET /api/patient responded 200 in 4.1108 ms
2025-08-01 10:33:39.837 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 5.4671ms
2025-08-01 10:33:39.859 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:33:39.859 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:39.860 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:39.860 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:33:39.862 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:39.863 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:33:39.863 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:39.864 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 3.6406ms
2025-08-01 10:33:39.864 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:39.865 +05:30 [INF] HTTP GET /api/doctor responded 200 in 4.9264 ms
2025-08-01 10:33:39.865 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 6.0283ms
2025-08-01 10:33:42.426 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 10:33:42.427 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:42.427 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 1.1235ms
2025-08-01 10:33:42.429 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:33:42.429 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:42.430 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:42.431 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:33:42.431 +05:30 [INF] Fetching all patients
2025-08-01 10:33:42.433 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:42.433 +05:30 [INF] Returned 10 patients
2025-08-01 10:33:42.434 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:42.435 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.9234ms
2025-08-01 10:33:42.435 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:42.435 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.6881 ms
2025-08-01 10:33:42.436 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.0443ms
2025-08-01 10:33:42.458 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 10:33:42.459 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:42.459 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.9882ms
2025-08-01 10:33:42.461 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:33:42.462 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:42.462 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:42.462 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:33:42.464 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:42.465 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:33:42.466 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:42.466 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 3.7822ms
2025-08-01 10:33:42.467 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:42.467 +05:30 [INF] HTTP GET /api/doctor responded 200 in 4.8156 ms
2025-08-01 10:33:42.467 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 5.7831ms
2025-08-01 10:33:45.690 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:33:45.691 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:45.692 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:45.692 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:33:45.693 +05:30 [INF] Fetching all patients
2025-08-01 10:33:45.694 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:45.696 +05:30 [INF] Returned 10 patients
2025-08-01 10:33:45.696 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:45.697 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.6152ms
2025-08-01 10:33:45.698 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:45.699 +05:30 [INF] HTTP GET /api/patient responded 200 in 7.1760 ms
2025-08-01 10:33:45.700 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 9.1131ms
2025-08-01 10:33:45.722 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:33:45.723 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:45.724 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:45.724 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:33:45.726 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:45.727 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:33:45.728 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:45.728 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 3.8128ms
2025-08-01 10:33:45.729 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:45.729 +05:30 [INF] HTTP GET /api/doctor responded 200 in 5.3475 ms
2025-08-01 10:33:45.729 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 6.9878ms
2025-08-01 10:33:48.917 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 10:33:48.917 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:48.918 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5922ms
2025-08-01 10:33:48.920 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:33:48.920 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:48.921 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:48.921 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:33:48.921 +05:30 [INF] Fetching all patients
2025-08-01 10:33:48.935 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:48.935 +05:30 [INF] Returned 10 patients
2025-08-01 10:33:48.937 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:48.937 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 16.0252ms
2025-08-01 10:33:48.937 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:48.938 +05:30 [INF] HTTP GET /api/patient responded 200 in 17.2197 ms
2025-08-01 10:33:48.938 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 18.4736ms
2025-08-01 10:33:48.959 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 10:33:48.959 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:48.960 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.0063ms
2025-08-01 10:33:48.962 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:33:48.962 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:48.962 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:48.963 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:33:48.964 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:48.965 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:33:48.966 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:48.966 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 3.6767ms
2025-08-01 10:33:48.967 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:48.967 +05:30 [INF] HTTP GET /api/doctor responded 200 in 4.5157 ms
2025-08-01 10:33:48.967 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 5.4503ms
2025-08-01 10:33:51.530 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:33:51.530 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:51.531 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:51.531 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:33:51.532 +05:30 [INF] Fetching all patients
2025-08-01 10:33:51.533 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:51.534 +05:30 [INF] Returned 10 patients
2025-08-01 10:33:51.534 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:51.535 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 2.9897ms
2025-08-01 10:33:51.535 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:51.535 +05:30 [INF] HTTP GET /api/patient responded 200 in 4.1188 ms
2025-08-01 10:33:51.535 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 5.7055ms
2025-08-01 10:33:51.556 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:33:51.556 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:51.557 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:51.558 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:33:51.560 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:51.561 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:33:51.562 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:51.562 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 3.6268ms
2025-08-01 10:33:51.562 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:51.563 +05:30 [INF] HTTP GET /api/doctor responded 200 in 5.5906 ms
2025-08-01 10:33:51.563 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 7.2975ms
2025-08-01 10:33:53.822 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:33:53.822 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:53.824 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:53.824 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:33:53.825 +05:30 [INF] Fetching all patients
2025-08-01 10:33:53.827 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:53.827 +05:30 [INF] Returned 10 patients
2025-08-01 10:33:53.828 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:53.828 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.2972ms
2025-08-01 10:33:53.828 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:53.828 +05:30 [INF] HTTP GET /api/patient responded 200 in 4.8012 ms
2025-08-01 10:33:53.829 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.0492ms
2025-08-01 10:33:53.851 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:33:53.851 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:53.852 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:53.852 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:33:53.855 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:53.856 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:33:53.857 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:53.857 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 4.8397ms
2025-08-01 10:33:53.858 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:53.858 +05:30 [INF] HTTP GET /api/doctor responded 200 in 6.6158 ms
2025-08-01 10:33:53.859 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 8.1875ms
2025-08-01 10:33:56.826 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 10:33:56.827 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:56.827 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.8357ms
2025-08-01 10:33:56.829 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:33:56.829 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:56.830 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:56.830 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:33:56.831 +05:30 [INF] Fetching all patients
2025-08-01 10:33:56.832 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:56.833 +05:30 [INF] Returned 10 patients
2025-08-01 10:33:56.833 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:56.834 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.4486ms
2025-08-01 10:33:56.834 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:33:56.835 +05:30 [INF] HTTP GET /api/patient responded 200 in 4.8786 ms
2025-08-01 10:33:56.835 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 6.205ms
2025-08-01 10:33:56.854 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 10:33:56.855 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:56.855 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.5527ms
2025-08-01 10:33:56.857 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:33:56.857 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:33:56.858 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:56.858 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:33:56.860 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:33:56.861 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:33:56.862 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:33:56.862 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 3.5995ms
2025-08-01 10:33:56.863 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:33:56.863 +05:30 [INF] HTTP GET /api/doctor responded 200 in 5.2549 ms
2025-08-01 10:33:56.863 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 6.395ms
2025-08-01 10:35:51.608 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-08-01 10:35:51.608 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:35:51.608 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.6274ms
2025-08-01 10:35:51.610 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-08-01 10:35:51.611 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:35:51.612 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-08-01 10:35:51.618 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:35:51.646 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-08-01 10:35:51.652 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:35:51.655 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 36.3416ms
2025-08-01 10:35:51.655 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-08-01 10:35:51.656 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 43.9436 ms
2025-08-01 10:35:51.656 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 131 application/json; charset=utf-8 45.4833ms
2025-08-01 10:35:59.175 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/proc?doctorId=NaN - null null
2025-08-01 10:35:59.175 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:35:59.176 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/proc?doctorId=NaN - 204 null null 0.7485ms
2025-08-01 10:35:59.177 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - null null
2025-08-01 10:35:59.178 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:35:59.178 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-08-01 10:35:59.182 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:35:59.196 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-08-01 10:35:59.197 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:35:59.202 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 19.3677ms
2025-08-01 10:35:59.202 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-08-01 10:35:59.202 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 24.0402 ms
2025-08-01 10:35:59.202 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - 200 337 application/json; charset=utf-8 24.8235ms
2025-08-01 10:36:08.386 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-08-01 10:36:08.387 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:36:08.387 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8573ms
2025-08-01 10:36:08.390 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-08-01 10:36:08.390 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:36:08.391 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-08-01 10:36:08.392 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:36:08.394 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-08-01 10:36:08.394 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:36:08.395 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 2.8172ms
2025-08-01 10:36:08.395 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-08-01 10:36:08.395 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 4.3188 ms
2025-08-01 10:36:08.396 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 131 application/json; charset=utf-8 5.7791ms
2025-08-01 10:36:18.134 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:36:18.134 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:36:18.135 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7786ms
2025-08-01 10:36:18.137 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:36:18.138 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:36:18.138 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 10:36:18.138 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:36:18.139 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-08-01 10:36:18.141 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:36:18.142 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.9141ms
2025-08-01 10:36:18.142 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 10:36:18.142 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.9621 ms
2025-08-01 10:36:18.142 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3811 application/json; charset=utf-8 4.8898ms
2025-08-01 10:36:24.320 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:36:24.320 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:36:24.321 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7376ms
2025-08-01 10:36:24.323 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:36:24.324 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:36:24.324 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 10:36:24.324 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:36:24.329 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:36:24.332 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:36:24.332 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:36:24.332 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 8.0008ms
2025-08-01 10:36:24.333 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 10:36:24.333 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 8.8494 ms
2025-08-01 10:36:24.333 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 9.8146ms
2025-08-01 10:36:28.174 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:36:28.175 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:36:28.175 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7608ms
2025-08-01 10:36:28.178 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:36:28.178 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:36:28.179 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:36:28.179 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 10:36:28.183 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 10:36:28.192 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 10:36:28.192 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:36:28.193 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 12.947ms
2025-08-01 10:36:28.193 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:36:28.193 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 13.9799 ms
2025-08-01 10:36:28.193 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 15.6243ms
2025-08-01 10:38:34.690 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:38:34.690 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:34.691 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.0091ms
2025-08-01 10:38:34.705 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:38:34.705 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:34.706 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 10:38:34.706 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:38:34.706 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.4339ms
2025-08-01 10:38:44.670 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:38:44.671 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:44.671 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.665ms
2025-08-01 10:38:44.673 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:38:44.674 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:44.674 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 10:38:44.674 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:38:44.675 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.6411ms
2025-08-01 10:38:46.039 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 10:38:46.039 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:46.040 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 10:38:46.040 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 10:38:46.040 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.4128ms
2025-08-01 10:38:46.863 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 10:38:46.864 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:46.864 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.8152ms
2025-08-01 10:38:46.866 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 10:38:46.866 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:46.866 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 10:38:46.866 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 10:38:46.882 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 10:38:47.465 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 10:38:47.465 +05:30 [INF] Role: Admin
2025-08-01 10:38:47.465 +05:30 [INF] Role: Admin
2025-08-01 10:38:47.466 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 10:38:47.474 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 10:38:47.474 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 10:38:47.475 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 608.6579ms
2025-08-01 10:38:47.475 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 10:38:47.476 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 609.8733 ms
2025-08-01 10:38:47.477 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 610.855ms
2025-08-01 10:38:47.482 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 10:38:47.482 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:47.483 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.9151ms
2025-08-01 10:38:47.485 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 10:38:47.485 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:47.486 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:38:47.486 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 10:38:47.487 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 10:38:47.489 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 10:38:47.493 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 10:38:47.494 +05:30 [INF] Found 1 users among search
2025-08-01 10:38:47.496 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:38:47.496 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.7484ms
2025-08-01 10:38:47.497 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:38:47.497 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.4411 ms
2025-08-01 10:38:47.499 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 13.5202ms
2025-08-01 10:38:47.522 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 10:38:47.523 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:47.525 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.2764ms
2025-08-01 10:38:47.531 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 10:38:47.531 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:47.532 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:38:47.532 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 10:38:47.533 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 10:38:47.535 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 10:38:47.537 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 10:38:47.538 +05:30 [INF] Found 1 users among search
2025-08-01 10:38:47.538 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:38:47.539 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.1916ms
2025-08-01 10:38:47.539 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 10:38:47.539 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.5149 ms
2025-08-01 10:38:47.539 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 8.5999ms
2025-08-01 10:38:48.592 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 10:38:48.593 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:48.593 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:38:48.594 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 10:38:48.604 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 10:38:48.614 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 10:38:48.615 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:38:48.615 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 20.7818ms
2025-08-01 10:38:48.615 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:38:48.615 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 21.8714 ms
2025-08-01 10:38:48.615 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 23.2156ms
2025-08-01 10:38:49.524 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 10:38:49.525 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:49.525 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6938ms
2025-08-01 10:38:49.527 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:38:49.527 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:49.528 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:38:49.529 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:38:49.530 +05:30 [INF] Fetching all patients
2025-08-01 10:38:49.533 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:38:49.534 +05:30 [INF] Returned 10 patients
2025-08-01 10:38:49.534 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:38:49.535 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.4688ms
2025-08-01 10:38:49.535 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:38:49.535 +05:30 [INF] HTTP GET /api/patient responded 200 in 7.3941 ms
2025-08-01 10:38:49.536 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.8035ms
2025-08-01 10:38:49.570 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 10:38:49.571 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:49.571 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.5778ms
2025-08-01 10:38:49.573 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:38:49.573 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:38:49.573 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:38:49.574 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:38:49.577 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:38:49.582 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:38:49.582 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:38:49.583 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.9238ms
2025-08-01 10:38:49.583 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:38:49.583 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.7231 ms
2025-08-01 10:38:49.583 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 10.6391ms
2025-08-01 10:40:32.527 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 10:40:32.528 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:40:32.528 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6909ms
2025-08-01 10:40:32.530 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:40:32.530 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:40:32.531 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:40:32.531 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:40:32.531 +05:30 [INF] Fetching all patients
2025-08-01 10:40:32.545 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:40:32.546 +05:30 [INF] Returned 10 patients
2025-08-01 10:40:32.546 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:40:32.547 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 15.8452ms
2025-08-01 10:40:32.547 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:40:32.547 +05:30 [INF] HTTP GET /api/patient responded 200 in 16.9590 ms
2025-08-01 10:40:32.548 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 17.994ms
2025-08-01 10:40:32.561 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 10:40:32.562 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:40:32.562 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7851ms
2025-08-01 10:40:32.564 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:40:32.564 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:40:32.565 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:40:32.565 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:40:32.569 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:40:32.574 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:40:32.574 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:40:32.575 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 9.5201ms
2025-08-01 10:40:32.575 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:40:32.575 +05:30 [INF] HTTP GET /api/doctor responded 200 in 10.6989 ms
2025-08-01 10:40:32.576 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.6386ms
2025-08-01 10:40:54.384 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 10:40:54.384 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:40:54.384 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.5956ms
2025-08-01 10:40:54.386 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 10:40:54.386 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:40:54.387 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:40:54.387 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 10:40:54.403 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 10:40:54.414 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 10:40:54.414 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:40:54.415 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 27.0836ms
2025-08-01 10:40:54.415 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:40:54.415 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 28.1558 ms
2025-08-01 10:40:54.415 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 29.3007ms
2025-08-01 10:40:54.615 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 10:40:54.616 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:40:54.616 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.8348ms
2025-08-01 10:40:54.619 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 10:40:54.625 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:40:54.626 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:40:54.626 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 10:40:54.629 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 10:40:54.631 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 10:40:54.632 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:40:54.632 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 5.814ms
2025-08-01 10:40:54.633 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 10:40:54.633 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 7.5251 ms
2025-08-01 10:40:54.633 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 627 application/json; charset=utf-8 14.3557ms
2025-08-01 10:40:56.281 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 10:40:56.281 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:40:56.282 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5534ms
2025-08-01 10:40:56.283 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 10:40:56.284 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:40:56.284 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:40:56.285 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 10:40:56.285 +05:30 [INF] Fetching all patients
2025-08-01 10:40:56.288 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 10:40:56.289 +05:30 [INF] Returned 10 patients
2025-08-01 10:40:56.289 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:40:56.290 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.9159ms
2025-08-01 10:40:56.290 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 10:40:56.290 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.1097 ms
2025-08-01 10:40:56.291 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.3925ms
2025-08-01 10:40:56.310 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 10:40:56.310 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:40:56.311 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7461ms
2025-08-01 10:40:56.312 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 10:40:56.313 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:40:56.314 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:40:56.314 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 10:40:56.317 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 10:40:56.319 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 10:40:56.320 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:40:56.320 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 6.2922ms
2025-08-01 10:40:56.321 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 10:40:56.322 +05:30 [INF] HTTP GET /api/doctor responded 200 in 8.1434 ms
2025-08-01 10:40:56.323 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 10.1164ms
2025-08-01 10:41:08.220 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 10:41:08.220 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:41:08.220 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 204 null null 0.6174ms
2025-08-01 10:41:08.222 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 10:41:08.223 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:41:08.224 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 10:41:08.228 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 10:41:08.233 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 10:41:08.234 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 10:41:08.235 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 10:41:08.236 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 7.4432ms
2025-08-01 10:41:08.236 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 10:41:08.236 +05:30 [INF] HTTP GET /api/appointment responded 200 in 12.7737 ms
2025-08-01 10:41:08.236 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 200 627 application/json; charset=utf-8 14.0852ms
2025-08-01 10:41:08.242 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - null null
2025-08-01 10:41:08.242 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:41:08.243 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - 204 null null 0.6757ms
2025-08-01 10:41:08.244 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - application/json-patch+json 529
2025-08-01 10:41:08.245 +05:30 [INF] CORS policy execution successful.
2025-08-01 10:41:08.245 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 10:41:08.249 +05:30 [INF] Route matched with {action = "Patch", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 10:41:08.288 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive]
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit) AND [a].[AppointmentID] = @__id_0
2025-08-01 10:41:08.299 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi) in 49.7688ms
2025-08-01 10:41:08.299 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 10:41:08.300 +05:30 [ERR] Unhandled exception occurred
Microsoft.AspNetCore.JsonPatch.Exceptions.JsonPatchException: The value 'Fri Aug 01 2025 10:41:08 GMT+0530 (India Standard Time)' is invalid for target location.
   at Microsoft.AspNetCore.JsonPatch.Internal.ErrorReporter.<>c.<.cctor>b__1_0(JsonPatchError error)
   at Microsoft.AspNetCore.JsonPatch.Adapters.ObjectAdapter.Replace(Operation operation, Object objectToApplyTo)
   at Microsoft.AspNetCore.JsonPatch.Operations.Operation.Apply(Object objectToApplyTo, IObjectAdapter adapter)
   at Microsoft.AspNetCore.JsonPatch.JsonPatchDocument.ApplyTo(Object objectToApplyTo, IObjectAdapter adapter)
   at Microsoft.AspNetCore.JsonPatch.JsonPatchDocument.ApplyTo(Object objectToApplyTo)
   at HealthcareApi.Services.AppointmentService.UpdateAppointment(Int32 id, JsonPatchDocument patch) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\AppointmentService.cs:line 48
   at HealthcareApi.Controllers.AppointmentController.Patch(Int32 id, JsonPatchDocument patch) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\AppointmentController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 10:41:08.304 +05:30 [ERR] HTTP PATCH /api/appointment/26 responded 500 in 58.3086 ms
2025-08-01 10:41:08.304 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - 500 null application/json 59.8516ms
2025-08-01 11:00:37.603 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:00:37.604 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:37.604 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6837ms
2025-08-01 11:00:37.618 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:00:37.618 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:37.619 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:00:37.619 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:00:37.620 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.6301ms
2025-08-01 11:00:38.521 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:00:38.522 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:38.522 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:00:38.522 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:00:38.523 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.3396ms
2025-08-01 11:00:39.265 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:00:39.266 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:39.266 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7513ms
2025-08-01 11:00:39.268 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:00:39.268 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:39.269 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:00:39.269 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:00:39.294 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:00:39.873 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:00:39.873 +05:30 [INF] Role: Admin
2025-08-01 11:00:39.873 +05:30 [INF] Role: Admin
2025-08-01 11:00:39.873 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:00:39.877 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:00:39.878 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:00:39.878 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 609.0451ms
2025-08-01 11:00:39.878 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:00:39.879 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 610.1169 ms
2025-08-01 11:00:39.879 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 610.9534ms
2025-08-01 11:00:39.885 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:00:39.886 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:39.886 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6979ms
2025-08-01 11:00:39.889 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:00:39.889 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:39.890 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:00:39.891 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:00:39.891 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:00:39.895 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:00:39.899 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:00:39.900 +05:30 [INF] Found 1 users among search
2025-08-01 11:00:39.901 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:00:39.903 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 11.5074ms
2025-08-01 11:00:39.904 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:00:39.905 +05:30 [INF] HTTP GET /api/user/search responded 200 in 14.5463 ms
2025-08-01 11:00:39.905 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 16.8321ms
2025-08-01 11:00:39.930 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:00:39.931 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:39.932 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.6508ms
2025-08-01 11:00:39.936 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:00:39.936 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:39.937 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:00:39.937 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:00:39.938 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:00:39.941 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:00:39.943 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:00:39.944 +05:30 [INF] Found 1 users among search
2025-08-01 11:00:39.944 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:00:39.944 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.6055ms
2025-08-01 11:00:39.946 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:00:39.947 +05:30 [INF] HTTP GET /api/user/search responded 200 in 10.2885 ms
2025-08-01 11:00:39.948 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 12.3295ms
2025-08-01 11:00:40.982 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:00:40.983 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:40.984 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:00:40.984 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:00:40.994 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:00:40.998 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:00:40.998 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:00:40.998 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 13.936ms
2025-08-01 11:00:40.998 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:00:40.999 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 15.1234 ms
2025-08-01 11:00:40.999 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 16.3891ms
2025-08-01 11:00:43.315 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:00:43.315 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:43.316 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.9385ms
2025-08-01 11:00:43.318 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:00:43.318 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:43.318 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:00:43.319 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:00:43.321 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:00:43.357 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:00:43.359 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:00:43.360 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 41.0376ms
2025-08-01 11:00:43.365 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:00:43.367 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 48.2501 ms
2025-08-01 11:00:43.368 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 50.2474ms
2025-08-01 11:00:43.593 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:00:43.594 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:43.594 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 1.1747ms
2025-08-01 11:00:43.598 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:00:43.599 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:43.600 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:00:43.600 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:00:43.603 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:00:43.606 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:00:43.608 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:00:43.609 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 7.7173ms
2025-08-01 11:00:43.609 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:00:43.610 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 10.4042 ms
2025-08-01 11:00:43.611 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 627 application/json; charset=utf-8 13.4048ms
2025-08-01 11:00:45.015 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:00:45.016 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:45.016 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6304ms
2025-08-01 11:00:45.018 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:00:45.018 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:45.019 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:00:45.019 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:00:45.020 +05:30 [INF] Fetching all patients
2025-08-01 11:00:45.023 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:00:45.023 +05:30 [INF] Returned 10 patients
2025-08-01 11:00:45.024 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:00:45.024 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.7485ms
2025-08-01 11:00:45.024 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:00:45.025 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.8460 ms
2025-08-01 11:00:45.025 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 6.8236ms
2025-08-01 11:00:45.054 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:00:45.054 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:45.055 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6904ms
2025-08-01 11:00:45.057 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:00:45.057 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:45.058 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:00:45.058 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:00:45.061 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:00:45.065 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:00:45.065 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:00:45.079 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 21.2683ms
2025-08-01 11:00:45.080 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:00:45.080 +05:30 [INF] HTTP GET /api/doctor responded 200 in 22.8162 ms
2025-08-01 11:00:45.081 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 24.1674ms
2025-08-01 11:00:50.835 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:00:50.836 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:50.836 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 204 null null 0.7518ms
2025-08-01 11:00:50.838 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:00:50.839 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:50.839 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:00:50.839 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:00:50.842 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:00:50.843 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:00:50.844 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:00:50.844 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 4.4349ms
2025-08-01 11:00:50.844 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:00:50.844 +05:30 [INF] HTTP GET /api/appointment responded 200 in 5.1956 ms
2025-08-01 11:00:50.844 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 200 627 application/json; charset=utf-8 6.2292ms
2025-08-01 11:00:50.850 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - null null
2025-08-01 11:00:50.850 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:50.851 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - 204 null null 0.6444ms
2025-08-01 11:00:50.853 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - application/json-patch+json 2
2025-08-01 11:00:50.853 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:50.854 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:00:50.855 +05:30 [INF] Route matched with {action = "Patch", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:00:50.858 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive]
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit) AND [a].[AppointmentID] = @__id_0
2025-08-01 11:00:50.872 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointment] SET [AppointmentDate] = @p0, [CreatedAt] = @p1, [DoctorID] = @p2, [ModifiedAt] = @p3, [Notes] = @p4, [PatientID] = @p5, [Reason] = @p6, [Status] = @p7, [isActive] = @p8
OUTPUT 1
WHERE [AppointmentID] = @p9;
2025-08-01 11:00:50.937 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-01 11:00:50.937 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi) in 82.4448ms
2025-08-01 11:00:50.937 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:00:50.938 +05:30 [INF] HTTP PATCH /api/appointment/26 responded 204 in 83.4150 ms
2025-08-01 11:00:50.938 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - 204 null null 85.075ms
2025-08-01 11:00:50.953 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:00:50.953 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:50.953 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.6296ms
2025-08-01 11:00:50.955 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:00:50.956 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:50.957 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:00:50.957 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:00:50.959 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:00:50.962 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:00:50.962 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:00:50.963 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 5.2051ms
2025-08-01 11:00:50.963 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:00:50.963 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 6.4289 ms
2025-08-01 11:00:50.964 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 627 application/json; charset=utf-8 8.2886ms
2025-08-01 11:00:54.806 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:00:54.806 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:54.806 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.6098ms
2025-08-01 11:00:54.809 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:00:54.809 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:54.810 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:00:54.810 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:00:54.812 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:00:54.814 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:00:54.814 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:00:54.815 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.5064ms
2025-08-01 11:00:54.815 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:00:54.815 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 5.5731 ms
2025-08-01 11:00:54.815 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 6.5523ms
2025-08-01 11:00:55.217 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:00:55.217 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:00:55.217 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:00:55.218 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:00:55.219 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:00:55.220 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:00:55.221 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:00:55.221 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 3.0051ms
2025-08-01 11:00:55.221 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:00:55.221 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 3.9081 ms
2025-08-01 11:00:55.221 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 627 application/json; charset=utf-8 4.8338ms
2025-08-01 11:04:30.592 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:04:30.593 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:30.593 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.7925ms
2025-08-01 11:04:30.602 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:04:30.604 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:30.607 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:04:30.608 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:04:30.608 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 5.992ms
2025-08-01 11:04:31.577 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:04:31.577 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:31.578 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:04:31.578 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:04:31.578 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.0352ms
2025-08-01 11:04:32.423 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:04:32.423 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:32.423 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6522ms
2025-08-01 11:04:32.425 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:04:32.425 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:32.425 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:04:32.426 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:04:32.441 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:04:33.024 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:04:33.024 +05:30 [INF] Role: Admin
2025-08-01 11:04:33.024 +05:30 [INF] Role: Admin
2025-08-01 11:04:33.024 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:04:33.027 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:04:33.028 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:04:33.028 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 602.4734ms
2025-08-01 11:04:33.028 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:04:33.029 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 603.3861 ms
2025-08-01 11:04:33.029 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 604.3853ms
2025-08-01 11:04:33.034 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:04:33.034 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:33.035 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.9129ms
2025-08-01 11:04:33.037 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:04:33.037 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:33.037 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:04:33.038 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:04:33.038 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:04:33.040 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:04:33.041 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:04:33.042 +05:30 [INF] Found 1 users among search
2025-08-01 11:04:33.043 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:04:33.044 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.7538ms
2025-08-01 11:04:33.044 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:04:33.044 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.0909 ms
2025-08-01 11:04:33.045 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 7.8919ms
2025-08-01 11:04:33.070 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:04:33.071 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:33.071 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.7341ms
2025-08-01 11:04:33.074 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:04:33.074 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:33.074 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:04:33.074 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:04:33.075 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:04:33.076 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:04:33.078 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:04:33.078 +05:30 [INF] Found 1 users among search
2025-08-01 11:04:33.078 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:04:33.079 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.3909ms
2025-08-01 11:04:33.079 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:04:33.079 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.0542 ms
2025-08-01 11:04:33.079 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 5.6819ms
2025-08-01 11:04:34.083 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:04:34.083 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:34.083 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:04:34.084 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:04:34.091 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:04:34.096 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:04:34.096 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:04:34.096 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 11.8368ms
2025-08-01 11:04:34.096 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:04:34.096 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 12.9207 ms
2025-08-01 11:04:34.096 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 13.9102ms
2025-08-01 11:04:36.376 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:04:36.376 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:36.376 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.6232ms
2025-08-01 11:04:36.379 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:04:36.379 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:36.380 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:04:36.380 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:04:36.382 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:04:36.390 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:04:36.391 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:04:36.391 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 10.9271ms
2025-08-01 11:04:36.392 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:04:36.392 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 11.9426 ms
2025-08-01 11:04:36.392 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 13.2685ms
2025-08-01 11:04:36.587 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:04:36.588 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:36.588 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.4517ms
2025-08-01 11:04:36.590 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:04:36.590 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:36.591 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:04:36.591 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:04:36.593 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:04:36.594 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:04:36.594 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:04:36.595 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 3.4875ms
2025-08-01 11:04:36.595 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:04:36.595 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 4.8484 ms
2025-08-01 11:04:36.596 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 627 application/json; charset=utf-8 5.9106ms
2025-08-01 11:04:38.296 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:04:38.296 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:38.297 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.63ms
2025-08-01 11:04:38.299 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:04:38.299 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:38.300 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:04:38.300 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:04:38.300 +05:30 [INF] Fetching all patients
2025-08-01 11:04:38.303 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:04:38.304 +05:30 [INF] Returned 10 patients
2025-08-01 11:04:38.305 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:04:38.305 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.3747ms
2025-08-01 11:04:38.306 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:04:38.306 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.3605 ms
2025-08-01 11:04:38.306 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.6513ms
2025-08-01 11:04:38.352 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:04:38.352 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:38.353 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.9548ms
2025-08-01 11:04:38.367 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:04:38.367 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:38.370 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:04:38.371 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:04:38.392 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:04:38.399 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:04:38.400 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:04:38.401 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 29.413ms
2025-08-01 11:04:38.401 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:04:38.401 +05:30 [INF] HTTP GET /api/doctor responded 200 in 30.7115 ms
2025-08-01 11:04:38.402 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 34.819ms
2025-08-01 11:04:49.814 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:04:49.814 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:49.814 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 204 null null 0.8356ms
2025-08-01 11:04:49.816 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:04:49.817 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:49.817 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:04:49.818 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:04:49.820 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:04:49.821 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:04:49.821 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:04:49.822 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 3.9777ms
2025-08-01 11:04:49.822 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:04:49.822 +05:30 [INF] HTTP GET /api/appointment responded 200 in 4.8802 ms
2025-08-01 11:04:49.822 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 200 627 application/json; charset=utf-8 5.9836ms
2025-08-01 11:04:49.828 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - null null
2025-08-01 11:04:49.829 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:49.829 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - 204 null null 0.6703ms
2025-08-01 11:04:49.831 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - application/json-patch+json 2
2025-08-01 11:04:49.831 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:49.832 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:04:49.832 +05:30 [INF] Route matched with {action = "Patch", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:04:49.836 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive]
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit) AND [a].[AppointmentID] = @__id_0
2025-08-01 11:04:49.847 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointment] SET [AppointmentDate] = @p0, [CreatedAt] = @p1, [DoctorID] = @p2, [ModifiedAt] = @p3, [Notes] = @p4, [PatientID] = @p5, [Reason] = @p6, [Status] = @p7, [isActive] = @p8
OUTPUT 1
WHERE [AppointmentID] = @p9;
2025-08-01 11:04:49.901 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-01 11:04:49.902 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi) in 69.157ms
2025-08-01 11:04:49.902 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:04:49.902 +05:30 [INF] HTTP PATCH /api/appointment/26 responded 204 in 70.3117 ms
2025-08-01 11:04:49.902 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - 204 null null 71.687ms
2025-08-01 11:04:49.914 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:04:49.915 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:49.915 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.5543ms
2025-08-01 11:04:49.917 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:04:49.917 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:04:49.918 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:04:49.918 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:04:49.920 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:04:49.922 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:04:49.922 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:04:49.923 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.1515ms
2025-08-01 11:04:49.923 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:04:49.923 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 5.3295 ms
2025-08-01 11:04:49.923 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 627 application/json; charset=utf-8 6.6652ms
2025-08-01 11:06:09.317 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:06:09.318 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:06:09.318 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.7271ms
2025-08-01 11:06:09.320 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:06:09.321 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:06:09.321 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:06:09.321 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:06:09.322 +05:30 [INF] Fetching all patients
2025-08-01 11:06:09.334 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:06:09.335 +05:30 [INF] Returned 10 patients
2025-08-01 11:06:09.335 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:06:09.335 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 13.7431ms
2025-08-01 11:06:09.336 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:06:09.336 +05:30 [INF] HTTP GET /api/patient responded 200 in 14.6765 ms
2025-08-01 11:06:09.336 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 15.8419ms
2025-08-01 11:06:09.348 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:06:09.349 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:06:09.349 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6583ms
2025-08-01 11:06:09.351 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:06:09.351 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:06:09.352 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:06:09.352 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:06:09.356 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:06:09.360 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:06:09.361 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:06:09.361 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.9571ms
2025-08-01 11:06:09.361 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:06:09.361 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.9748 ms
2025-08-01 11:06:09.362 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.1329ms
2025-08-01 11:06:18.707 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:06:18.709 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:06:18.709 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 204 null null 2.0805ms
2025-08-01 11:06:18.711 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:06:18.712 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:06:18.712 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:06:18.713 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:06:18.720 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:06:18.723 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:06:18.723 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:06:18.724 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 10.8626ms
2025-08-01 11:06:18.724 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:06:18.724 +05:30 [INF] HTTP GET /api/appointment responded 200 in 11.8779 ms
2025-08-01 11:06:18.726 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 200 627 application/json; charset=utf-8 14.4056ms
2025-08-01 11:06:18.732 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - null null
2025-08-01 11:06:18.732 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:06:18.732 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - 204 null null 0.7104ms
2025-08-01 11:06:18.734 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - application/json-patch+json 2
2025-08-01 11:06:18.734 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:06:18.735 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:06:18.735 +05:30 [INF] Route matched with {action = "Patch", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:06:18.739 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive]
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit) AND [a].[AppointmentID] = @__id_0
2025-08-01 11:06:18.745 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointment] SET [AppointmentDate] = @p0, [CreatedAt] = @p1, [DoctorID] = @p2, [ModifiedAt] = @p3, [Notes] = @p4, [PatientID] = @p5, [Reason] = @p6, [Status] = @p7, [isActive] = @p8
OUTPUT 1
WHERE [AppointmentID] = @p9;
2025-08-01 11:06:18.805 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-01 11:06:18.805 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi) in 69.9062ms
2025-08-01 11:06:18.805 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:06:18.805 +05:30 [INF] HTTP PATCH /api/appointment/26 responded 204 in 70.7133 ms
2025-08-01 11:06:18.806 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - 204 null null 71.5499ms
2025-08-01 11:06:18.818 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:06:18.819 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:06:18.819 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.6547ms
2025-08-01 11:06:18.821 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:06:18.821 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:06:18.822 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:06:18.822 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:06:18.827 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:06:18.828 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:06:18.829 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:06:18.829 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 6.3617ms
2025-08-01 11:06:18.829 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:06:18.830 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 7.5085 ms
2025-08-01 11:06:18.830 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 627 application/json; charset=utf-8 8.9569ms
2025-08-01 11:08:11.643 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:08:11.644 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:11.644 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.9452ms
2025-08-01 11:08:11.646 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:08:11.646 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:11.647 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:08:11.647 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:08:11.647 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.3823ms
2025-08-01 11:08:13.121 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:08:13.122 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:13.122 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:08:13.122 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:08:13.122 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.9633ms
2025-08-01 11:08:14.353 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:08:14.353 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:14.354 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7684ms
2025-08-01 11:08:14.356 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:08:14.356 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:14.356 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:08:14.357 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:08:14.371 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:08:14.952 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:08:14.952 +05:30 [INF] Role: Admin
2025-08-01 11:08:14.952 +05:30 [INF] Role: Admin
2025-08-01 11:08:14.952 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:08:14.961 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:08:14.961 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:08:14.962 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 604.9367ms
2025-08-01 11:08:14.962 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:08:14.962 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 605.7832 ms
2025-08-01 11:08:14.963 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 607.0303ms
2025-08-01 11:08:14.967 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:08:14.967 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:14.967 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7662ms
2025-08-01 11:08:14.969 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:08:14.970 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:14.970 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:08:14.970 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:08:14.971 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:08:14.972 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:08:14.976 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:08:14.978 +05:30 [INF] Found 1 users among search
2025-08-01 11:08:14.979 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:08:14.980 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.4041ms
2025-08-01 11:08:14.981 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:08:14.981 +05:30 [INF] HTTP GET /api/user/search responded 200 in 10.8181 ms
2025-08-01 11:08:14.983 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 13.1043ms
2025-08-01 11:08:15.008 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:08:15.009 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:15.009 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.6095ms
2025-08-01 11:08:15.012 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:08:15.013 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:15.013 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:08:15.013 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:08:15.014 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:08:15.018 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:08:15.021 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:08:15.021 +05:30 [INF] Found 1 users among search
2025-08-01 11:08:15.021 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:08:15.022 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.87ms
2025-08-01 11:08:15.022 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:08:15.022 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.7075 ms
2025-08-01 11:08:15.022 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 9.646ms
2025-08-01 11:08:16.247 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:08:16.247 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:16.248 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:08:16.249 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:08:16.260 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:08:16.264 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:08:16.264 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:08:16.265 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 14.5074ms
2025-08-01 11:08:16.265 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:08:16.266 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 17.5314 ms
2025-08-01 11:08:16.266 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 19.2459ms
2025-08-01 11:08:18.757 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:08:18.757 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:18.757 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.5372ms
2025-08-01 11:08:18.759 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:08:18.759 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:18.760 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:08:18.760 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:08:18.765 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:08:18.776 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:08:18.777 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:08:18.777 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 17.0714ms
2025-08-01 11:08:18.778 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:08:18.778 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 17.9029 ms
2025-08-01 11:08:18.778 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 19.2584ms
2025-08-01 11:08:18.958 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:08:18.958 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:18.959 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.8936ms
2025-08-01 11:08:18.961 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:08:18.961 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:18.962 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:08:18.962 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:08:18.964 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:08:18.966 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:08:18.967 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:08:18.967 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.6608ms
2025-08-01 11:08:18.967 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:08:18.968 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 5.8014 ms
2025-08-01 11:08:18.968 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 627 application/json; charset=utf-8 7.043ms
2025-08-01 11:08:21.461 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:08:21.461 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:21.462 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5608ms
2025-08-01 11:08:21.463 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:08:21.464 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:21.465 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:08:21.465 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:08:21.466 +05:30 [INF] Fetching all patients
2025-08-01 11:08:21.469 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:08:21.469 +05:30 [INF] Returned 10 patients
2025-08-01 11:08:21.470 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:08:21.470 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.476ms
2025-08-01 11:08:21.470 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:08:21.470 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.0202 ms
2025-08-01 11:08:21.471 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.4239ms
2025-08-01 11:08:21.503 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:08:21.504 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:21.504 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6784ms
2025-08-01 11:08:21.506 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:08:21.506 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:21.507 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:08:21.507 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:08:21.510 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:08:21.525 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:08:21.526 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:08:21.526 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 18.8535ms
2025-08-01 11:08:21.526 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:08:21.527 +05:30 [INF] HTTP GET /api/doctor responded 200 in 20.1789 ms
2025-08-01 11:08:21.528 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 21.7412ms
2025-08-01 11:08:35.577 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:08:35.577 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:35.578 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 204 null null 0.706ms
2025-08-01 11:08:35.580 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:08:35.580 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:35.582 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:08:35.582 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:08:35.584 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:08:35.586 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:08:35.586 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:08:35.587 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 4.3749ms
2025-08-01 11:08:35.587 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:08:35.587 +05:30 [INF] HTTP GET /api/appointment responded 200 in 5.5490 ms
2025-08-01 11:08:35.587 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 200 627 application/json; charset=utf-8 7.5604ms
2025-08-01 11:08:35.593 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - null null
2025-08-01 11:08:35.593 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:35.594 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - 204 null null 0.6802ms
2025-08-01 11:08:35.595 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - application/json-patch+json 2
2025-08-01 11:08:35.596 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:35.597 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:08:35.597 +05:30 [INF] Route matched with {action = "Patch", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:08:35.601 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive]
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit) AND [a].[AppointmentID] = @__id_0
2025-08-01 11:08:35.630 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointment] SET [AppointmentDate] = @p0, [CreatedAt] = @p1, [DoctorID] = @p2, [ModifiedAt] = @p3, [Notes] = @p4, [PatientID] = @p5, [Reason] = @p6, [Status] = @p7, [isActive] = @p8
OUTPUT 1
WHERE [AppointmentID] = @p9;
2025-08-01 11:08:35.694 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-01 11:08:35.694 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi) in 96.7616ms
2025-08-01 11:08:35.694 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:08:35.694 +05:30 [INF] HTTP PATCH /api/appointment/26 responded 204 in 97.5251 ms
2025-08-01 11:08:35.694 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - 204 null null 99.0143ms
2025-08-01 11:08:35.713 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:08:35.714 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:35.714 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.7025ms
2025-08-01 11:08:35.716 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:08:35.716 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:08:35.717 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:08:35.717 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:08:35.718 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:08:35.720 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:08:35.721 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:08:35.721 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.0383ms
2025-08-01 11:08:35.722 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:08:35.722 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 5.7008 ms
2025-08-01 11:08:35.723 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 627 application/json; charset=utf-8 6.9793ms
2025-08-01 11:09:07.190 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:09:07.191 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:07.192 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.629ms
2025-08-01 11:09:07.232 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:09:07.238 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:07.240 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:09:07.241 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:09:07.241 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 8.3444ms
2025-08-01 11:09:07.762 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:09:07.763 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:07.763 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:09:07.764 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:09:07.764 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.6746ms
2025-08-01 11:09:08.714 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:09:08.714 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:08.715 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.8198ms
2025-08-01 11:09:08.717 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:09:08.717 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:08.717 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:09:08.717 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:09:08.720 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:09:09.283 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:09:09.283 +05:30 [INF] Role: Admin
2025-08-01 11:09:09.283 +05:30 [INF] Role: Admin
2025-08-01 11:09:09.283 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:09:09.290 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:09:09.290 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:09:09.291 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 573.1261ms
2025-08-01 11:09:09.291 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:09:09.291 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 573.9051 ms
2025-08-01 11:09:09.291 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 574.781ms
2025-08-01 11:09:09.296 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:09:09.297 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:09.297 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6828ms
2025-08-01 11:09:09.299 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:09:09.299 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:09.299 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:09:09.300 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:09:09.300 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:09:09.302 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:09:09.304 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:09:09.305 +05:30 [INF] Found 1 users among search
2025-08-01 11:09:09.305 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:09:09.306 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.7471ms
2025-08-01 11:09:09.307 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:09:09.307 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.1089 ms
2025-08-01 11:09:09.308 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 508 application/json; charset=utf-8 8.9859ms
2025-08-01 11:09:09.328 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:09:09.328 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:09.329 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.4216ms
2025-08-01 11:09:09.333 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:09:09.333 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:09.334 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:09:09.334 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:09:09.336 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:09:09.338 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:09:09.340 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:09:09.340 +05:30 [INF] Found 1 users among search
2025-08-01 11:09:09.341 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:09:09.341 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.4744ms
2025-08-01 11:09:09.341 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:09:09.342 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.6869 ms
2025-08-01 11:09:09.342 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 508 application/json; charset=utf-8 8.8769ms
2025-08-01 11:09:10.864 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:09:10.865 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:10.866 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:09:10.867 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:09:10.869 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:09:10.872 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:09:10.872 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:09:10.872 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 5.1673ms
2025-08-01 11:09:10.872 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:09:10.873 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 6.4022 ms
2025-08-01 11:09:10.873 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 8.959ms
2025-08-01 11:09:14.064 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:09:14.064 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:14.065 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.9377ms
2025-08-01 11:09:14.067 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:09:14.067 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:14.067 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:09:14.068 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:09:14.069 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:09:14.071 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:09:14.072 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:09:14.072 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.5983ms
2025-08-01 11:09:14.073 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:09:14.073 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 5.6863 ms
2025-08-01 11:09:14.073 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 6.5522ms
2025-08-01 11:09:14.243 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:09:14.244 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:14.244 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.8638ms
2025-08-01 11:09:14.246 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:09:14.247 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:14.247 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:09:14.247 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:09:14.249 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:09:14.251 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:09:14.251 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:09:14.252 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.2684ms
2025-08-01 11:09:14.253 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:09:14.254 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 6.7540 ms
2025-08-01 11:09:14.254 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 627 application/json; charset=utf-8 8.0095ms
2025-08-01 11:09:15.514 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:09:15.515 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:15.515 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.9035ms
2025-08-01 11:09:15.517 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:09:15.518 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:15.518 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:09:15.518 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:09:15.519 +05:30 [INF] Fetching all patients
2025-08-01 11:09:15.521 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:09:15.522 +05:30 [INF] Returned 10 patients
2025-08-01 11:09:15.522 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:09:15.523 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.7355ms
2025-08-01 11:09:15.523 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:09:15.524 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.6444 ms
2025-08-01 11:09:15.524 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 6.9874ms
2025-08-01 11:09:15.564 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:09:15.564 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:15.564 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7894ms
2025-08-01 11:09:15.566 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:09:15.567 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:15.567 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:09:15.568 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:09:15.570 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:09:15.572 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:09:15.573 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:09:15.574 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 5.9694ms
2025-08-01 11:09:15.574 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:09:15.575 +05:30 [INF] HTTP GET /api/doctor responded 200 in 7.7315 ms
2025-08-01 11:09:15.576 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 9.4227ms
2025-08-01 11:09:22.134 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:09:22.134 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:22.134 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 204 null null 0.6107ms
2025-08-01 11:09:22.137 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:09:22.137 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:22.138 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:09:22.138 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:09:22.142 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:09:22.144 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:09:22.145 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:09:22.145 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 7.1218ms
2025-08-01 11:09:22.146 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:09:22.146 +05:30 [INF] HTTP GET /api/appointment responded 200 in 8.1147 ms
2025-08-01 11:09:22.146 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 200 627 application/json; charset=utf-8 8.9873ms
2025-08-01 11:09:22.152 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - null null
2025-08-01 11:09:22.153 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:22.154 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - 204 null null 1.2625ms
2025-08-01 11:09:22.156 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - application/json-patch+json 501
2025-08-01 11:09:22.157 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:09:22.157 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:09:22.158 +05:30 [INF] Route matched with {action = "Patch", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:09:22.163 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive]
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit) AND [a].[AppointmentID] = @__id_0
2025-08-01 11:09:22.165 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi) in 6.8332ms
2025-08-01 11:09:22.165 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:09:22.166 +05:30 [ERR] Unhandled exception occurred
Microsoft.AspNetCore.JsonPatch.Exceptions.JsonPatchException: The value '' is invalid for target location.
   at Microsoft.AspNetCore.JsonPatch.Internal.ErrorReporter.<>c.<.cctor>b__1_0(JsonPatchError error)
   at Microsoft.AspNetCore.JsonPatch.Adapters.ObjectAdapter.Replace(Operation operation, Object objectToApplyTo)
   at Microsoft.AspNetCore.JsonPatch.Operations.Operation.Apply(Object objectToApplyTo, IObjectAdapter adapter)
   at Microsoft.AspNetCore.JsonPatch.JsonPatchDocument.ApplyTo(Object objectToApplyTo, IObjectAdapter adapter)
   at Microsoft.AspNetCore.JsonPatch.JsonPatchDocument.ApplyTo(Object objectToApplyTo)
   at HealthcareApi.Services.AppointmentService.UpdateAppointment(Int32 id, JsonPatchDocument patch) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\AppointmentService.cs:line 48
   at HealthcareApi.Controllers.AppointmentController.Patch(Int32 id, JsonPatchDocument patch) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\AppointmentController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 11:09:22.170 +05:30 [ERR] HTTP PATCH /api/appointment/26 responded 500 in 13.1073 ms
2025-08-01 11:09:22.171 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - 500 null application/json 15.0453ms
2025-08-01 11:10:47.646 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:10:47.646 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:47.647 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.4002ms
2025-08-01 11:10:47.663 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:10:47.665 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:47.665 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:10:47.666 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:10:47.667 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.543ms
2025-08-01 11:10:48.229 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:10:48.229 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:48.229 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:10:48.230 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:10:48.230 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.1725ms
2025-08-01 11:10:48.869 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:10:48.869 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:48.870 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6841ms
2025-08-01 11:10:48.871 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:10:48.872 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:48.872 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:10:48.872 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:10:48.876 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:10:49.458 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:10:49.459 +05:30 [INF] Role: Admin
2025-08-01 11:10:49.459 +05:30 [INF] Role: Admin
2025-08-01 11:10:49.459 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:10:49.465 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:10:49.466 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:10:49.466 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 593.612ms
2025-08-01 11:10:49.466 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:10:49.466 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 594.2694 ms
2025-08-01 11:10:49.467 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 595.1213ms
2025-08-01 11:10:49.471 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:10:49.471 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:49.471 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.427ms
2025-08-01 11:10:49.473 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:10:49.475 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:49.475 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:10:49.476 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:10:49.476 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:10:49.479 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:10:49.481 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:10:49.482 +05:30 [INF] Found 1 users among search
2025-08-01 11:10:49.482 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:10:49.482 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.4706ms
2025-08-01 11:10:49.483 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:10:49.483 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.8417 ms
2025-08-01 11:10:49.484 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 508 application/json; charset=utf-8 10.0106ms
2025-08-01 11:10:49.501 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:10:49.502 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:49.502 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.9848ms
2025-08-01 11:10:49.506 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:10:49.506 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:49.506 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:10:49.507 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:10:49.507 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:10:49.510 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:10:49.511 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:10:49.512 +05:30 [INF] Found 1 users among search
2025-08-01 11:10:49.512 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:10:49.513 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.0183ms
2025-08-01 11:10:49.513 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:10:49.513 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.9089 ms
2025-08-01 11:10:49.513 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 508 application/json; charset=utf-8 7.892ms
2025-08-01 11:10:50.401 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:10:50.401 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:50.401 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:10:50.402 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:10:50.405 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:10:50.409 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:10:50.409 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:10:50.410 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 8.0145ms
2025-08-01 11:10:50.410 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:10:50.410 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 9.0759 ms
2025-08-01 11:10:50.411 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 10.2696ms
2025-08-01 11:10:52.894 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:10:52.895 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:52.895 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.629ms
2025-08-01 11:10:52.897 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:10:52.898 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:52.898 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:10:52.898 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:10:52.899 +05:30 [INF] Fetching all patients
2025-08-01 11:10:52.902 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:10:52.902 +05:30 [INF] Returned 10 patients
2025-08-01 11:10:52.903 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:10:52.903 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.5815ms
2025-08-01 11:10:52.903 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:10:52.904 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.8499 ms
2025-08-01 11:10:52.904 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.0234ms
2025-08-01 11:10:52.939 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:10:52.939 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:52.939 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.5773ms
2025-08-01 11:10:52.941 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:10:52.941 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:52.942 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:10:52.943 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:10:52.947 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:10:52.951 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:10:52.952 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:10:52.952 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 9.0263ms
2025-08-01 11:10:52.952 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:10:52.952 +05:30 [INF] HTTP GET /api/doctor responded 200 in 10.6042 ms
2025-08-01 11:10:52.953 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.3889ms
2025-08-01 11:10:57.289 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:10:57.290 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:57.290 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.6163ms
2025-08-01 11:10:57.291 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:10:57.292 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:57.293 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:10:57.293 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:10:57.295 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:10:57.304 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:10:57.304 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:10:57.304 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 10.839ms
2025-08-01 11:10:57.305 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:10:57.305 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 11.9029 ms
2025-08-01 11:10:57.305 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 13.6174ms
2025-08-01 11:10:57.661 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:10:57.662 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:57.662 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.7536ms
2025-08-01 11:10:57.664 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:10:57.664 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:57.664 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:10:57.665 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:10:57.666 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:10:57.668 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:10:57.669 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:10:57.669 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.3164ms
2025-08-01 11:10:57.670 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:10:57.670 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 5.3374 ms
2025-08-01 11:10:57.670 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 627 application/json; charset=utf-8 6.2954ms
2025-08-01 11:10:58.794 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:10:58.794 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:58.794 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.7679ms
2025-08-01 11:10:58.797 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:10:58.798 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:58.798 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:10:58.799 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:10:58.799 +05:30 [INF] Fetching all patients
2025-08-01 11:10:58.802 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:10:58.802 +05:30 [INF] Returned 10 patients
2025-08-01 11:10:58.802 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:10:58.803 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.3945ms
2025-08-01 11:10:58.805 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:10:58.806 +05:30 [INF] HTTP GET /api/patient responded 200 in 7.1919 ms
2025-08-01 11:10:58.806 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.7298ms
2025-08-01 11:10:58.834 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:10:58.834 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:58.834 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.5742ms
2025-08-01 11:10:58.836 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:10:58.837 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:10:58.837 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:10:58.837 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:10:58.839 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:10:58.840 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:10:58.841 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:10:58.841 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 3.5519ms
2025-08-01 11:10:58.841 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:10:58.842 +05:30 [INF] HTTP GET /api/doctor responded 200 in 4.7112 ms
2025-08-01 11:10:58.842 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 5.7887ms
2025-08-01 11:11:04.842 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:11:04.842 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:11:04.843 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 204 null null 0.5846ms
2025-08-01 11:11:04.845 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:11:04.846 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:11:04.846 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:11:04.846 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:11:04.848 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:11:04.849 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:11:04.850 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:11:04.850 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 3.9195ms
2025-08-01 11:11:04.851 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:11:04.852 +05:30 [INF] HTTP GET /api/appointment responded 200 in 5.7095 ms
2025-08-01 11:11:04.852 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 200 627 application/json; charset=utf-8 6.9638ms
2025-08-01 11:11:04.857 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - null null
2025-08-01 11:11:04.858 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:11:04.858 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - 204 null null 1.0242ms
2025-08-01 11:11:04.861 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - application/json-patch+json 501
2025-08-01 11:11:04.861 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:11:04.862 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:11:04.862 +05:30 [INF] Route matched with {action = "Patch", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:11:04.868 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive]
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit) AND [a].[AppointmentID] = @__id_0
2025-08-01 11:11:04.869 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi) in 6.0673ms
2025-08-01 11:11:04.869 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:11:04.870 +05:30 [ERR] Unhandled exception occurred
Microsoft.AspNetCore.JsonPatch.Exceptions.JsonPatchException: The value '' is invalid for target location.
   at Microsoft.AspNetCore.JsonPatch.Internal.ErrorReporter.<>c.<.cctor>b__1_0(JsonPatchError error)
   at Microsoft.AspNetCore.JsonPatch.Adapters.ObjectAdapter.Replace(Operation operation, Object objectToApplyTo)
   at Microsoft.AspNetCore.JsonPatch.Operations.Operation.Apply(Object objectToApplyTo, IObjectAdapter adapter)
   at Microsoft.AspNetCore.JsonPatch.JsonPatchDocument.ApplyTo(Object objectToApplyTo, IObjectAdapter adapter)
   at Microsoft.AspNetCore.JsonPatch.JsonPatchDocument.ApplyTo(Object objectToApplyTo)
   at HealthcareApi.Services.AppointmentService.UpdateAppointment(Int32 id, JsonPatchDocument patch) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\AppointmentService.cs:line 48
   at HealthcareApi.Controllers.AppointmentController.Patch(Int32 id, JsonPatchDocument patch) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\AppointmentController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 11:11:04.872 +05:30 [ERR] HTTP PATCH /api/appointment/26 responded 500 in 10.2751 ms
2025-08-01 11:11:04.872 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - 500 null application/json 11.6311ms
2025-08-01 11:11:53.784 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:11:53.786 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:11:53.788 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 3.5914ms
2025-08-01 11:11:53.816 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:11:53.816 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:11:53.816 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:11:53.816 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:11:53.817 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.0782ms
2025-08-01 11:11:54.966 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:11:54.966 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:11:54.966 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:11:54.967 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:11:54.967 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.2275ms
2025-08-01 11:11:55.646 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:11:55.647 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:11:55.648 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.1411ms
2025-08-01 11:11:55.649 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:11:55.650 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:11:55.650 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:11:55.651 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:11:55.655 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:11:56.256 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:11:56.257 +05:30 [INF] Role: Admin
2025-08-01 11:11:56.257 +05:30 [INF] Role: Admin
2025-08-01 11:11:56.257 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:11:56.265 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:11:56.266 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:11:56.267 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 615.766ms
2025-08-01 11:11:56.267 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:11:56.268 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 617.1802 ms
2025-08-01 11:11:56.268 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 618.6385ms
2025-08-01 11:11:56.272 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:11:56.272 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:11:56.273 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.8357ms
2025-08-01 11:11:56.275 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:11:56.275 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:11:56.275 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:11:56.276 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:11:56.276 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:11:56.278 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:11:56.281 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:11:56.282 +05:30 [INF] Found 1 users among search
2025-08-01 11:11:56.282 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:11:56.282 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.711ms
2025-08-01 11:11:56.283 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:11:56.283 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.6702 ms
2025-08-01 11:11:56.284 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 8.7647ms
2025-08-01 11:11:56.305 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:11:56.306 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:11:56.306 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.4895ms
2025-08-01 11:11:56.310 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:11:56.311 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:11:56.311 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:11:56.311 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:11:56.312 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:11:56.313 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:11:56.316 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:11:56.317 +05:30 [INF] Found 1 users among search
2025-08-01 11:11:56.317 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:11:56.317 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.8329ms
2025-08-01 11:11:56.317 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:11:56.318 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.5468 ms
2025-08-01 11:11:56.318 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 7.4343ms
2025-08-01 11:11:57.435 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:11:57.435 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:11:57.436 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:11:57.436 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:11:57.439 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:11:57.441 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:11:57.442 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:11:57.442 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 5.639ms
2025-08-01 11:11:57.442 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:11:57.443 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 6.6327 ms
2025-08-01 11:11:57.443 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 8.327ms
2025-08-01 11:12:00.144 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:12:00.144 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:12:00.144 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.5345ms
2025-08-01 11:12:00.146 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:12:00.147 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:12:00.147 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:12:00.148 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:12:00.150 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:12:00.158 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:12:00.159 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:12:00.159 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 11.3625ms
2025-08-01 11:12:00.159 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:12:00.160 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 12.3368 ms
2025-08-01 11:12:00.160 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 13.6808ms
2025-08-01 11:12:00.312 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:12:00.312 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:12:00.313 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.7659ms
2025-08-01 11:12:00.315 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:12:00.315 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:12:00.316 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:12:00.316 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:12:00.318 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:12:00.319 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:12:00.320 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:12:00.320 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.178ms
2025-08-01 11:12:00.321 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:12:00.321 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 5.5941 ms
2025-08-01 11:12:00.322 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 627 application/json; charset=utf-8 7.0233ms
2025-08-01 11:12:01.390 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:12:01.391 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:12:01.391 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.7356ms
2025-08-01 11:12:01.393 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:12:01.393 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:12:01.394 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:12:01.394 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:12:01.394 +05:30 [INF] Fetching all patients
2025-08-01 11:12:01.397 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:12:01.398 +05:30 [INF] Returned 10 patients
2025-08-01 11:12:01.398 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:12:01.398 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.2933ms
2025-08-01 11:12:01.399 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:12:01.399 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.3636 ms
2025-08-01 11:12:01.399 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 6.3597ms
2025-08-01 11:12:01.437 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:12:01.437 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:12:01.437 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7342ms
2025-08-01 11:12:01.439 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:12:01.440 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:12:01.440 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:12:01.440 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:12:01.443 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:12:01.446 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:12:01.448 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:12:01.449 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.0185ms
2025-08-01 11:12:01.449 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:12:01.450 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.6401 ms
2025-08-01 11:12:01.450 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.118ms
2025-08-01 11:12:08.229 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:12:08.229 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:12:08.229 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 204 null null 0.6308ms
2025-08-01 11:12:08.232 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:12:08.232 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:12:08.233 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:12:08.233 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:12:08.235 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:12:08.237 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:12:08.237 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:12:08.237 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 3.97ms
2025-08-01 11:12:08.238 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:12:08.238 +05:30 [INF] HTTP GET /api/appointment responded 200 in 5.1057 ms
2025-08-01 11:12:08.238 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 200 627 application/json; charset=utf-8 6.2512ms
2025-08-01 11:12:08.244 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - null null
2025-08-01 11:12:08.244 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:12:08.244 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - 204 null null 0.6682ms
2025-08-01 11:12:08.246 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - application/json-patch+json 501
2025-08-01 11:12:08.246 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:12:08.247 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:12:08.248 +05:30 [INF] Route matched with {action = "Patch", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:12:08.253 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive]
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit) AND [a].[AppointmentID] = @__id_0
2025-08-01 11:12:08.254 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi) in 5.4921ms
2025-08-01 11:12:08.254 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:12:08.255 +05:30 [ERR] Unhandled exception occurred
Microsoft.AspNetCore.JsonPatch.Exceptions.JsonPatchException: The value '' is invalid for target location.
   at Microsoft.AspNetCore.JsonPatch.Internal.ErrorReporter.<>c.<.cctor>b__1_0(JsonPatchError error)
   at Microsoft.AspNetCore.JsonPatch.Adapters.ObjectAdapter.Replace(Operation operation, Object objectToApplyTo)
   at Microsoft.AspNetCore.JsonPatch.Operations.Operation.Apply(Object objectToApplyTo, IObjectAdapter adapter)
   at Microsoft.AspNetCore.JsonPatch.JsonPatchDocument.ApplyTo(Object objectToApplyTo, IObjectAdapter adapter)
   at Microsoft.AspNetCore.JsonPatch.JsonPatchDocument.ApplyTo(Object objectToApplyTo)
   at HealthcareApi.Services.AppointmentService.UpdateAppointment(Int32 id, JsonPatchDocument patch) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\AppointmentService.cs:line 48
   at HealthcareApi.Controllers.AppointmentController.Patch(Int32 id, JsonPatchDocument patch) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\AppointmentController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 11:12:08.257 +05:30 [ERR] HTTP PATCH /api/appointment/26 responded 500 in 10.2327 ms
2025-08-01 11:12:08.258 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - 500 null application/json 11.9803ms
2025-08-01 11:13:16.193 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:13:16.194 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:16.195 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.3616ms
2025-08-01 11:13:16.200 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:13:16.201 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:16.203 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:13:16.205 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:13:16.207 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 7.1294ms
2025-08-01 11:13:16.566 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:13:16.568 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:16.572 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:13:16.574 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:13:16.574 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 7.807ms
2025-08-01 11:13:17.372 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:13:17.372 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:17.373 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.8643ms
2025-08-01 11:13:17.375 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:13:17.375 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:17.375 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:13:17.375 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:13:17.394 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:13:18.274 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:13:18.274 +05:30 [INF] Role: Admin
2025-08-01 11:13:18.274 +05:30 [INF] Role: Admin
2025-08-01 11:13:18.275 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:13:18.283 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:13:18.284 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:13:18.285 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 909.5491ms
2025-08-01 11:13:18.285 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:13:18.285 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 910.4704 ms
2025-08-01 11:13:18.286 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 911.7546ms
2025-08-01 11:13:18.292 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:13:18.292 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:18.292 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7053ms
2025-08-01 11:13:18.294 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:13:18.294 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:18.295 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:13:18.295 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:13:18.296 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:13:18.298 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:13:18.304 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:13:18.305 +05:30 [INF] Found 1 users among search
2025-08-01 11:13:18.306 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:13:18.309 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 13.4119ms
2025-08-01 11:13:18.309 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:13:18.310 +05:30 [INF] HTTP GET /api/user/search responded 200 in 14.8520 ms
2025-08-01 11:13:18.310 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 15.8716ms
2025-08-01 11:13:18.328 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:13:18.329 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:18.331 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.648ms
2025-08-01 11:13:18.336 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:13:18.336 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:18.338 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:13:18.338 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:13:18.339 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:13:18.342 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:13:18.344 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:13:18.344 +05:30 [INF] Found 1 users among search
2025-08-01 11:13:18.344 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:13:18.345 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.1266ms
2025-08-01 11:13:18.345 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:13:18.345 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.6369 ms
2025-08-01 11:13:18.345 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 9.3233ms
2025-08-01 11:13:19.248 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:13:19.248 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:19.249 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:13:19.250 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:13:19.260 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:13:19.264 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:13:19.264 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:13:19.265 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 14.4247ms
2025-08-01 11:13:19.265 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:13:19.265 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 16.0343 ms
2025-08-01 11:13:19.266 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 18.0344ms
2025-08-01 11:13:21.586 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:13:21.587 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:21.587 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.6612ms
2025-08-01 11:13:21.590 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:13:21.591 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:21.591 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:13:21.592 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:13:21.594 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:13:21.606 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:13:21.606 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:13:21.606 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 14.7124ms
2025-08-01 11:13:21.607 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:13:21.607 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 15.8867 ms
2025-08-01 11:13:21.607 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 17.0813ms
2025-08-01 11:13:21.732 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:13:21.732 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:21.732 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.5794ms
2025-08-01 11:13:21.734 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:13:21.735 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:21.735 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:13:21.735 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:13:21.737 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:13:21.738 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:13:21.739 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:13:21.739 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 3.8595ms
2025-08-01 11:13:21.739 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:13:21.740 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 4.5732 ms
2025-08-01 11:13:21.740 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 627 application/json; charset=utf-8 5.4251ms
2025-08-01 11:13:22.716 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:13:22.716 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:22.716 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6501ms
2025-08-01 11:13:22.718 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:13:22.719 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:22.720 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:13:22.720 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:13:22.721 +05:30 [INF] Fetching all patients
2025-08-01 11:13:22.723 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:13:22.724 +05:30 [INF] Returned 10 patients
2025-08-01 11:13:22.724 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:13:22.724 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.9276ms
2025-08-01 11:13:22.725 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:13:22.725 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.3888 ms
2025-08-01 11:13:22.725 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 6.8085ms
2025-08-01 11:13:22.759 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:13:22.759 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:22.760 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.719ms
2025-08-01 11:13:22.761 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:13:22.762 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:22.762 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:13:22.762 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:13:22.764 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:13:22.814 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:13:22.815 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:13:22.815 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 53.3579ms
2025-08-01 11:13:22.816 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:13:22.816 +05:30 [INF] HTTP GET /api/doctor responded 200 in 54.0417 ms
2025-08-01 11:13:22.816 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 54.7555ms
2025-08-01 11:13:28.246 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:13:28.246 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:28.246 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 204 null null 0.7774ms
2025-08-01 11:13:28.248 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - null null
2025-08-01 11:13:28.249 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:28.250 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:13:28.250 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:13:28.252 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:13:28.254 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:13:28.255 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:13:28.255 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 4.8835ms
2025-08-01 11:13:28.255 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:13:28.256 +05:30 [INF] HTTP GET /api/appointment responded 200 in 6.0971 ms
2025-08-01 11:13:28.256 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T08:00:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes= - 200 627 application/json; charset=utf-8 7.4285ms
2025-08-01 11:13:28.261 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - null null
2025-08-01 11:13:28.261 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:28.262 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - 204 null null 0.6201ms
2025-08-01 11:13:28.264 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - application/json-patch+json 428
2025-08-01 11:13:28.264 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:28.264 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:13:28.265 +05:30 [INF] Route matched with {action = "Patch", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:13:28.269 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive]
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit) AND [a].[AppointmentID] = @__id_0
2025-08-01 11:13:28.279 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointment] SET [AppointmentDate] = @p0, [CreatedAt] = @p1, [DoctorID] = @p2, [ModifiedAt] = @p3, [Notes] = @p4, [PatientID] = @p5, [Reason] = @p6, [Status] = @p7, [isActive] = @p8
OUTPUT 1
WHERE [AppointmentID] = @p9;
2025-08-01 11:13:28.334 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-01 11:13:28.334 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi) in 69.4742ms
2025-08-01 11:13:28.335 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:13:28.335 +05:30 [INF] HTTP PATCH /api/appointment/26 responded 204 in 70.3320 ms
2025-08-01 11:13:28.335 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - 204 null null 71.1995ms
2025-08-01 11:13:28.348 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:13:28.349 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:28.349 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.6978ms
2025-08-01 11:13:28.351 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:13:28.351 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:28.352 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:13:28.352 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:13:28.354 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:13:28.356 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:13:28.357 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:13:28.358 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 5.5158ms
2025-08-01 11:13:28.358 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:13:28.359 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 6.7697 ms
2025-08-01 11:13:28.359 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 631 application/json; charset=utf-8 8.1162ms
2025-08-01 11:13:42.630 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:13:42.630 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:42.631 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.7405ms
2025-08-01 11:13:42.633 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:13:42.633 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:42.634 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:13:42.634 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:13:42.635 +05:30 [INF] Fetching all patients
2025-08-01 11:13:42.650 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:13:42.651 +05:30 [INF] Returned 10 patients
2025-08-01 11:13:42.652 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:13:42.652 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 17.514ms
2025-08-01 11:13:42.653 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:13:42.653 +05:30 [INF] HTTP GET /api/patient responded 200 in 19.2246 ms
2025-08-01 11:13:42.653 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 20.562ms
2025-08-01 11:13:42.661 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:13:42.661 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:42.662 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.5479ms
2025-08-01 11:13:42.664 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:13:42.664 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:42.664 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:13:42.665 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:13:42.676 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:13:42.681 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:13:42.681 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:13:42.682 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 17.2157ms
2025-08-01 11:13:42.682 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:13:42.683 +05:30 [INF] HTTP GET /api/doctor responded 200 in 18.4428 ms
2025-08-01 11:13:42.683 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 19.3942ms
2025-08-01 11:13:50.064 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T09:30:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes=None - null null
2025-08-01 11:13:50.064 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:50.065 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T09:30:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes=None - 204 null null 0.4817ms
2025-08-01 11:13:50.067 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T09:30:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes=None - null null
2025-08-01 11:13:50.067 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:50.067 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:13:50.067 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:13:50.084 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:13:50.087 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:13:50.088 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:13:50.088 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 20.6745ms
2025-08-01 11:13:50.088 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:13:50.089 +05:30 [INF] HTTP GET /api/appointment responded 200 in 21.6245 ms
2025-08-01 11:13:50.089 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20Samuel%20Wilson&appointmentDate=2025-08-01T09:30:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes=None - 200 631 application/json; charset=utf-8 22.5153ms
2025-08-01 11:13:50.091 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - null null
2025-08-01 11:13:50.092 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:50.092 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - 204 null null 0.4042ms
2025-08-01 11:13:50.093 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - application/json-patch+json 423
2025-08-01 11:13:50.093 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:50.093 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:13:50.094 +05:30 [INF] Route matched with {action = "Patch", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:13:50.096 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive]
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit) AND [a].[AppointmentID] = @__id_0
2025-08-01 11:13:50.104 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointment] SET [AppointmentDate] = @p0, [CreatedAt] = @p1, [DoctorID] = @p2, [ModifiedAt] = @p3, [Notes] = @p4, [PatientID] = @p5, [Reason] = @p6, [Status] = @p7, [isActive] = @p8
OUTPUT 1
WHERE [AppointmentID] = @p9;
2025-08-01 11:13:50.153 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-01 11:13:50.153 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi) in 59.1141ms
2025-08-01 11:13:50.153 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:13:50.153 +05:30 [INF] HTTP PATCH /api/appointment/26 responded 204 in 59.7287 ms
2025-08-01 11:13:50.153 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - 204 null null 60.3396ms
2025-08-01 11:13:50.161 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:13:50.162 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:50.162 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.5591ms
2025-08-01 11:13:50.164 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:13:50.164 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:50.164 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:13:50.164 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:13:50.166 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:13:50.167 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:13:50.168 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:13:50.168 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 3.2941ms
2025-08-01 11:13:50.168 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:13:50.168 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 4.1593 ms
2025-08-01 11:13:50.169 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 628 application/json; charset=utf-8 4.9962ms
2025-08-01 11:13:52.159 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:13:52.160 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:52.160 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5988ms
2025-08-01 11:13:52.162 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:13:52.162 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:52.162 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:13:52.162 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:13:52.163 +05:30 [INF] Fetching all patients
2025-08-01 11:13:52.165 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:13:52.166 +05:30 [INF] Returned 10 patients
2025-08-01 11:13:52.166 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:13:52.166 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.6599ms
2025-08-01 11:13:52.167 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:13:52.167 +05:30 [INF] HTTP GET /api/patient responded 200 in 4.9169 ms
2025-08-01 11:13:52.167 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 5.8178ms
2025-08-01 11:13:52.180 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:13:52.180 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:52.181 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.83ms
2025-08-01 11:13:52.183 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:13:52.183 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:13:52.183 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:13:52.183 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:13:52.186 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:13:52.190 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:13:52.191 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:13:52.192 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.5196ms
2025-08-01 11:13:52.193 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:13:52.193 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.6944 ms
2025-08-01 11:13:52.194 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 10.9231ms
2025-08-01 11:14:02.247 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20John%20Smith&appointmentDate=2025-08-01T09:30:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes=None - null null
2025-08-01 11:14:02.248 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:14:02.248 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20John%20Smith&appointmentDate=2025-08-01T09:30:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes=None - 204 null null 0.4197ms
2025-08-01 11:14:02.250 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20John%20Smith&appointmentDate=2025-08-01T09:30:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes=None - null null
2025-08-01 11:14:02.250 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:14:02.250 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:14:02.250 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:14:02.252 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:14:02.253 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:14:02.253 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:14:02.254 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 3.1748ms
2025-08-01 11:14:02.254 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 11:14:02.254 +05:30 [INF] HTTP GET /api/appointment responded 200 in 3.8136 ms
2025-08-01 11:14:02.254 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=3&pageSize=10&patientName=Aakarsh%20Batra&doctorName=Dr.%20John%20Smith&appointmentDate=2025-08-01T09:30:00&reason=Emergency%20OT%20(Admin%20entered)&status=Scheduled&notes=None - 200 628 application/json; charset=utf-8 4.5848ms
2025-08-01 11:14:02.258 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - null null
2025-08-01 11:14:02.258 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:14:02.258 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/26 - 204 null null 0.4449ms
2025-08-01 11:14:02.260 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - application/json-patch+json 428
2025-08-01 11:14:02.260 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:14:02.260 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:14:02.260 +05:30 [INF] Route matched with {action = "Patch", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:14:02.262 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive]
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit) AND [a].[AppointmentID] = @__id_0
2025-08-01 11:14:02.264 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointment] SET [AppointmentDate] = @p0, [CreatedAt] = @p1, [DoctorID] = @p2, [ModifiedAt] = @p3, [Notes] = @p4, [PatientID] = @p5, [Reason] = @p6, [Status] = @p7, [isActive] = @p8
OUTPUT 1
WHERE [AppointmentID] = @p9;
2025-08-01 11:14:02.318 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-01 11:14:02.318 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi) in 57.402ms
2025-08-01 11:14:02.318 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 11:14:02.318 +05:30 [INF] HTTP PATCH /api/appointment/26 responded 204 in 58.1643 ms
2025-08-01 11:14:02.318 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/appointment/26 - 204 null null 58.8267ms
2025-08-01 11:14:02.330 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:14:02.330 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:14:02.330 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.4569ms
2025-08-01 11:14:02.332 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-08-01 11:14:02.333 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:14:02.333 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:14:02.333 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:14:02.335 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:14:02.336 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:14:02.336 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:14:02.337 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 3.369ms
2025-08-01 11:14:02.337 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:14:02.337 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 4.0814 ms
2025-08-01 11:14:02.337 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 631 application/json; charset=utf-8 5.0531ms
2025-08-01 11:14:12.402 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:14:12.403 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:14:12.403 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.8451ms
2025-08-01 11:14:12.405 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-08-01 11:14:12.406 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:14:12.406 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:14:12.407 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:14:12.408 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:14:12.416 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:14:12.416 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:14:12.416 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 9.5261ms
2025-08-01 11:14:12.417 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:14:12.417 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 10.5167 ms
2025-08-01 11:14:12.417 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 11.4247ms
2025-08-01 11:14:12.529 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:14:12.529 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:14:12.529 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.5299ms
2025-08-01 11:14:12.531 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:14:12.532 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:14:12.532 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:14:12.533 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:14:12.535 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:14:12.536 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:14:12.536 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:14:12.537 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 3.8277ms
2025-08-01 11:14:12.537 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:14:12.537 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 4.8270 ms
2025-08-01 11:14:12.537 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 5.9367ms
2025-08-01 11:14:13.392 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:14:13.393 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:14:13.393 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.4535ms
2025-08-01 11:14:13.395 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:14:13.395 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:14:13.395 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:14:13.395 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:14:13.396 +05:30 [INF] Fetching all patients
2025-08-01 11:14:13.397 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:14:13.398 +05:30 [INF] Returned 10 patients
2025-08-01 11:14:13.398 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:14:13.398 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 2.5441ms
2025-08-01 11:14:13.398 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:14:13.398 +05:30 [INF] HTTP GET /api/patient responded 200 in 3.2764 ms
2025-08-01 11:14:13.399 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 3.9126ms
2025-08-01 11:14:13.411 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:14:13.412 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:14:13.412 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.0381ms
2025-08-01 11:14:13.414 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:14:13.415 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:14:13.415 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:14:13.415 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:14:13.417 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:14:13.418 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:14:13.418 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:14:13.418 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 2.9975ms
2025-08-01 11:14:13.419 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:14:13.419 +05:30 [INF] HTTP GET /api/doctor responded 200 in 3.8901 ms
2025-08-01 11:14:13.419 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 4.6712ms
2025-08-01 11:15:45.547 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:15:45.547 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:15:45.548 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.2155ms
2025-08-01 11:15:45.550 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:15:45.550 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:15:45.551 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:15:45.551 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:15:45.551 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.1298ms
2025-08-01 11:16:38.530 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:16:38.531 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:16:38.531 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6923ms
2025-08-01 11:16:38.533 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:16:38.534 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:16:38.537 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:16:38.539 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:16:38.539 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 6.2647ms
2025-08-01 11:16:42.895 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:16:42.896 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:16:42.896 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:16:42.896 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:16:42.896 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.8188ms
2025-08-01 11:17:15.460 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:17:15.461 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:15.461 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6691ms
2025-08-01 11:17:15.462 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:17:15.463 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:15.463 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:17:15.463 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:17:15.482 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:17:16.054 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:17:16.055 +05:30 [INF] Role: Admin
2025-08-01 11:17:16.055 +05:30 [INF] Role: Admin
2025-08-01 11:17:16.055 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:17:16.063 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:17:16.064 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:17:16.065 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 601.537ms
2025-08-01 11:17:16.065 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:17:16.065 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 602.5648 ms
2025-08-01 11:17:16.066 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 603.2388ms
2025-08-01 11:17:16.070 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:17:16.071 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:16.071 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 1.2867ms
2025-08-01 11:17:16.074 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:17:16.074 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:16.075 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:17:16.075 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:17:16.076 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:17:16.079 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:17:16.082 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:17:16.082 +05:30 [INF] Found 1 users among search
2025-08-01 11:17:16.083 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:17:16.084 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.2401ms
2025-08-01 11:17:16.084 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:17:16.085 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.9617 ms
2025-08-01 11:17:16.085 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 11.3204ms
2025-08-01 11:17:16.098 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:17:16.098 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:16.098 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.8859ms
2025-08-01 11:17:16.101 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:17:16.101 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:16.101 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:17:16.101 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:17:16.102 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:17:16.105 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:17:16.108 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:17:16.108 +05:30 [INF] Found 1 users among search
2025-08-01 11:17:16.109 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:17:16.109 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.4855ms
2025-08-01 11:17:16.110 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:17:16.110 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.9401 ms
2025-08-01 11:17:16.110 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 9.6285ms
2025-08-01 11:17:19.666 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:17:19.667 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:19.668 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:17:19.669 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:17:19.670 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 3.137ms
2025-08-01 11:17:20.597 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:17:20.598 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:20.598 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7318ms
2025-08-01 11:17:20.600 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:17:20.601 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:20.601 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:17:20.601 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:17:20.603 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:17:21.401 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:17:21.401 +05:30 [INF] Role: Admin
2025-08-01 11:17:21.401 +05:30 [INF] Role: Admin
2025-08-01 11:17:21.402 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:17:21.406 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:17:21.407 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:17:21.407 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 805.5045ms
2025-08-01 11:17:21.407 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:17:21.407 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 806.3579 ms
2025-08-01 11:17:21.407 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 807.2783ms
2025-08-01 11:17:21.412 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:17:21.412 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:21.412 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6419ms
2025-08-01 11:17:21.414 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:17:21.414 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:21.415 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:17:21.415 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:17:21.416 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:17:21.418 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:17:21.424 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:17:21.425 +05:30 [INF] Found 1 users among search
2025-08-01 11:17:21.426 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:17:21.427 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 11.4855ms
2025-08-01 11:17:21.428 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:17:21.428 +05:30 [INF] HTTP GET /api/user/search responded 200 in 13.2944 ms
2025-08-01 11:17:21.429 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 14.4257ms
2025-08-01 11:17:21.451 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:17:21.452 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:21.453 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.8781ms
2025-08-01 11:17:21.464 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:17:21.465 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:21.466 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:17:21.466 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:17:21.470 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:17:21.477 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:17:21.480 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:17:21.481 +05:30 [INF] Found 1 users among search
2025-08-01 11:17:21.481 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:17:21.482 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 12.6136ms
2025-08-01 11:17:21.482 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:17:21.482 +05:30 [INF] HTTP GET /api/user/search responded 200 in 16.5345 ms
2025-08-01 11:17:21.482 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 17.8791ms
2025-08-01 11:17:22.603 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:17:22.603 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:22.604 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.4788ms
2025-08-01 11:17:22.607 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:17:22.607 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:22.608 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:17:22.608 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:17:22.615 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:17:22.619 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:17:22.621 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:17:22.622 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 13.2976ms
2025-08-01 11:17:22.622 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:17:22.622 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 14.7768 ms
2025-08-01 11:17:22.623 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 16.1486ms
2025-08-01 11:17:26.562 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:17:26.562 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:26.563 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5948ms
2025-08-01 11:17:26.564 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:17:26.565 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:26.565 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:17:26.566 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:17:26.566 +05:30 [INF] Fetching all patients
2025-08-01 11:17:26.569 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:17:26.570 +05:30 [INF] Returned 10 patients
2025-08-01 11:17:26.570 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:17:26.571 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.8522ms
2025-08-01 11:17:26.571 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:17:26.572 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.1899 ms
2025-08-01 11:17:26.572 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.9009ms
2025-08-01 11:17:26.601 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:17:26.601 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:26.602 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.8229ms
2025-08-01 11:17:26.604 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:17:26.605 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:17:26.605 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:17:26.605 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:17:26.612 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:17:26.616 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:17:26.618 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:17:26.619 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 12.9145ms
2025-08-01 11:17:26.619 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:17:26.619 +05:30 [INF] HTTP GET /api/doctor responded 200 in 14.0715 ms
2025-08-01 11:17:26.620 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 15.4115ms
2025-08-01 11:20:28.893 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:20:28.893 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:28.894 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1566ms
2025-08-01 11:20:28.912 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:20:28.918 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:28.918 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:20:28.919 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:20:28.936 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 23.3873ms
2025-08-01 11:20:29.801 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:20:29.801 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:29.801 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:20:29.801 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:20:29.802 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.1235ms
2025-08-01 11:20:30.628 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:20:30.628 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:30.628 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6044ms
2025-08-01 11:20:30.630 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:20:30.630 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:30.630 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:20:30.631 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:20:30.646 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:20:31.226 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:20:31.226 +05:30 [INF] Role: Admin
2025-08-01 11:20:31.226 +05:30 [INF] Role: Admin
2025-08-01 11:20:31.226 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:20:31.233 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:20:31.234 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:20:31.234 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 603.0163ms
2025-08-01 11:20:31.234 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:20:31.234 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 603.8158 ms
2025-08-01 11:20:31.234 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 604.5324ms
2025-08-01 11:20:31.239 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:20:31.239 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:31.239 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6947ms
2025-08-01 11:20:31.241 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:20:31.242 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:31.242 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:20:31.242 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:20:31.243 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:20:31.244 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:20:31.247 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:20:31.248 +05:30 [INF] Found 1 users among search
2025-08-01 11:20:31.248 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:20:31.248 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.4883ms
2025-08-01 11:20:31.248 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:20:31.249 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.5013 ms
2025-08-01 11:20:31.249 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 508 application/json; charset=utf-8 7.5805ms
2025-08-01 11:20:31.271 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:20:31.272 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:31.273 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.895ms
2025-08-01 11:20:31.279 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:20:31.279 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:31.279 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:20:31.279 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:20:31.280 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:20:31.282 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:20:31.283 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:20:31.283 +05:30 [INF] Found 1 users among search
2025-08-01 11:20:31.284 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:20:31.284 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.5137ms
2025-08-01 11:20:31.284 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:20:31.284 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.3436 ms
2025-08-01 11:20:31.285 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 508 application/json; charset=utf-8 6.0065ms
2025-08-01 11:20:32.526 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:20:32.527 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:32.527 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:20:32.528 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:20:32.539 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:20:32.542 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:20:32.543 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:20:32.543 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 14.8605ms
2025-08-01 11:20:32.543 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:20:32.543 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 16.1196 ms
2025-08-01 11:20:32.544 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 17.6774ms
2025-08-01 11:20:34.481 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:20:34.481 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:34.482 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.8157ms
2025-08-01 11:20:34.486 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:20:34.486 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:34.486 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:20:34.487 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:20:34.488 +05:30 [INF] Fetching all patients
2025-08-01 11:20:34.492 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:20:34.493 +05:30 [INF] Returned 10 patients
2025-08-01 11:20:34.494 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:20:34.494 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 6.9071ms
2025-08-01 11:20:34.495 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:20:34.495 +05:30 [INF] HTTP GET /api/patient responded 200 in 8.9941 ms
2025-08-01 11:20:34.496 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 10.3318ms
2025-08-01 11:20:34.526 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:20:34.526 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:34.526 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6079ms
2025-08-01 11:20:34.528 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:20:34.529 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:34.529 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:20:34.529 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:20:34.533 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:20:34.537 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:20:34.538 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:20:34.538 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.7538ms
2025-08-01 11:20:34.538 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:20:34.539 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.8457 ms
2025-08-01 11:20:34.539 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 10.8571ms
2025-08-01 11:20:56.011 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:20:56.011 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:56.012 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.0004ms
2025-08-01 11:20:56.028 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:20:56.028 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:56.029 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:20:56.029 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:20:56.029 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.4194ms
2025-08-01 11:20:56.734 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:20:56.734 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:56.735 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:20:56.735 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:20:56.736 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 2.1166ms
2025-08-01 11:20:57.602 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:20:57.603 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:57.604 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 2.0042ms
2025-08-01 11:20:57.606 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:20:57.606 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:57.606 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:20:57.607 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:20:57.608 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:20:58.202 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:20:58.202 +05:30 [INF] Role: Admin
2025-08-01 11:20:58.202 +05:30 [INF] Role: Admin
2025-08-01 11:20:58.202 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:20:58.207 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:20:58.207 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:20:58.207 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 600.5209ms
2025-08-01 11:20:58.207 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:20:58.208 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 601.2779 ms
2025-08-01 11:20:58.208 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 602.0306ms
2025-08-01 11:20:58.213 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:20:58.213 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:58.213 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6279ms
2025-08-01 11:20:58.215 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:20:58.215 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:58.216 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:20:58.216 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:20:58.217 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:20:58.219 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:20:58.220 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:20:58.222 +05:30 [INF] Found 1 users among search
2025-08-01 11:20:58.223 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:20:58.223 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.661ms
2025-08-01 11:20:58.223 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:20:58.224 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.1219 ms
2025-08-01 11:20:58.224 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 9.1549ms
2025-08-01 11:20:58.251 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:20:58.254 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:58.255 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 4.1452ms
2025-08-01 11:20:58.295 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:20:58.296 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:58.297 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:20:58.298 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:20:58.299 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:20:58.302 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:20:58.303 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:20:58.304 +05:30 [INF] Found 1 users among search
2025-08-01 11:20:58.304 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:20:58.305 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.9323ms
2025-08-01 11:20:58.305 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:20:58.305 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.8203 ms
2025-08-01 11:20:58.305 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 9.6533ms
2025-08-01 11:20:59.364 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:20:59.364 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:20:59.365 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:20:59.366 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:20:59.368 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:20:59.370 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:20:59.371 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:20:59.371 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.7767ms
2025-08-01 11:20:59.371 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:20:59.371 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 6.1154 ms
2025-08-01 11:20:59.372 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 8.23ms
2025-08-01 11:21:00.757 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:21:00.758 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:21:00.758 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6113ms
2025-08-01 11:21:00.760 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:21:00.760 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:21:00.760 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:21:00.760 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:21:00.761 +05:30 [INF] Fetching all patients
2025-08-01 11:21:00.762 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:21:00.763 +05:30 [INF] Returned 10 patients
2025-08-01 11:21:00.763 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:21:00.764 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.1801ms
2025-08-01 11:21:00.764 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:21:00.764 +05:30 [INF] HTTP GET /api/patient responded 200 in 4.1241 ms
2025-08-01 11:21:00.765 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 5.0602ms
2025-08-01 11:21:00.809 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:21:00.809 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:21:00.810 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6084ms
2025-08-01 11:21:00.811 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:21:00.812 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:21:00.812 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:21:00.812 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:21:00.814 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:21:00.815 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:21:00.816 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:21:00.816 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 3.4091ms
2025-08-01 11:21:00.816 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:21:00.816 +05:30 [INF] HTTP GET /api/doctor responded 200 in 4.3763 ms
2025-08-01 11:21:00.817 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 5.4012ms
2025-08-01 11:22:04.703 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:22:04.703 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:22:04.704 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.714ms
2025-08-01 11:22:04.713 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:22:04.714 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:22:04.714 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:22:04.715 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:22:04.718 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 4.7444ms
2025-08-01 11:22:05.575 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:22:05.576 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:22:05.576 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:22:05.578 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:22:05.578 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 3.044ms
2025-08-01 11:22:06.333 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:22:06.333 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:22:06.334 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6326ms
2025-08-01 11:22:06.335 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:22:06.335 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:22:06.336 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:22:06.336 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:22:06.345 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:22:06.934 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:22:06.934 +05:30 [INF] Role: Admin
2025-08-01 11:22:06.934 +05:30 [INF] Role: Admin
2025-08-01 11:22:06.934 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:22:06.938 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:22:06.938 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:22:06.938 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 602.2193ms
2025-08-01 11:22:06.938 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:22:06.938 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 602.9894 ms
2025-08-01 11:22:06.939 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 603.7309ms
2025-08-01 11:22:06.945 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:22:06.946 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:22:06.946 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.3869ms
2025-08-01 11:22:06.948 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:22:06.948 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:22:06.948 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:22:06.949 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:22:06.949 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:22:06.951 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:22:06.953 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:22:06.954 +05:30 [INF] Found 1 users among search
2025-08-01 11:22:06.954 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:22:06.954 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.5234ms
2025-08-01 11:22:06.955 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:22:06.955 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.1434 ms
2025-08-01 11:22:06.956 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 8.028ms
2025-08-01 11:22:06.978 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:22:06.978 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:22:06.978 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.7285ms
2025-08-01 11:22:06.982 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:22:06.982 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:22:06.983 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:22:06.983 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:22:06.984 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:22:06.986 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:22:06.988 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:22:06.988 +05:30 [INF] Found 1 users among search
2025-08-01 11:22:06.988 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:22:06.988 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.7343ms
2025-08-01 11:22:06.989 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:22:06.989 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.8133 ms
2025-08-01 11:22:06.989 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 7.1285ms
2025-08-01 11:22:07.999 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:22:07.999 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:22:08.000 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:22:08.000 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:22:08.004 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:22:08.008 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:22:08.008 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:22:08.009 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 8.9782ms
2025-08-01 11:22:08.010 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:22:08.010 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 10.9302 ms
2025-08-01 11:22:08.011 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 12.6066ms
2025-08-01 11:22:08.956 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:22:08.956 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:22:08.956 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6694ms
2025-08-01 11:22:08.959 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:22:08.959 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:22:08.960 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:22:08.960 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:22:08.960 +05:30 [INF] Fetching all patients
2025-08-01 11:22:08.963 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:22:08.964 +05:30 [INF] Returned 10 patients
2025-08-01 11:22:08.964 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:22:08.964 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.1826ms
2025-08-01 11:22:08.964 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:22:08.965 +05:30 [INF] HTTP GET /api/patient responded 200 in 4.9545 ms
2025-08-01 11:22:08.965 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 6.0203ms
2025-08-01 11:22:09.003 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:22:09.003 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:22:09.003 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7389ms
2025-08-01 11:22:09.005 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:22:09.006 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:22:09.006 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:22:09.006 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:22:09.009 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:22:09.014 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:22:09.015 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:22:09.015 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.9846ms
2025-08-01 11:22:09.015 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:22:09.016 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.9051 ms
2025-08-01 11:22:09.016 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 10.6947ms
2025-08-01 11:31:36.837 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:31:36.844 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:31:36.845 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 7.8455ms
2025-08-01 11:31:36.851 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:31:36.853 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:31:36.853 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:31:36.854 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:31:36.854 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.4084ms
2025-08-01 11:31:37.891 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:31:37.891 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:31:37.892 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:31:37.892 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:31:37.892 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.1224ms
2025-08-01 11:31:47.200 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:31:47.201 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:31:47.201 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7672ms
2025-08-01 11:31:47.203 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:31:47.203 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:31:47.204 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:31:47.204 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:31:47.238 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:31:47.958 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:31:47.959 +05:30 [INF] Role: Admin
2025-08-01 11:31:47.959 +05:30 [INF] Role: Admin
2025-08-01 11:31:47.959 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:31:47.965 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:31:47.966 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:31:47.967 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 762.5273ms
2025-08-01 11:31:47.967 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:31:47.968 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 764.3224 ms
2025-08-01 11:31:47.969 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 765.6458ms
2025-08-01 11:31:47.973 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:31:47.973 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:31:47.974 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6495ms
2025-08-01 11:31:47.976 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:31:47.976 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:31:47.977 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:31:47.977 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:31:47.978 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:31:47.980 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:31:47.984 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:31:47.986 +05:30 [INF] Found 1 users among search
2025-08-01 11:31:47.986 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:31:47.987 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.7359ms
2025-08-01 11:31:47.987 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:31:47.988 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.1063 ms
2025-08-01 11:31:47.988 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 508 application/json; charset=utf-8 12.4353ms
2025-08-01 11:31:48.010 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:31:48.010 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:31:48.013 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 3.0996ms
2025-08-01 11:31:48.018 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:31:48.019 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:31:48.019 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:31:48.020 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:31:48.020 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:31:48.023 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:31:48.024 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:31:48.025 +05:30 [INF] Found 1 users among search
2025-08-01 11:31:48.025 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:31:48.025 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.2329ms
2025-08-01 11:31:48.025 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:31:48.026 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.5679 ms
2025-08-01 11:31:48.026 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 508 application/json; charset=utf-8 7.5862ms
2025-08-01 11:31:49.019 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:31:49.019 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:31:49.020 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.649ms
2025-08-01 11:31:49.021 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:31:49.022 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:31:49.022 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:31:49.023 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:31:49.030 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:31:49.036 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:31:49.038 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:31:49.038 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 15.1406ms
2025-08-01 11:31:49.038 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:31:49.038 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 16.1257 ms
2025-08-01 11:31:49.039 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 17.3154ms
2025-08-01 11:31:50.331 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:31:50.332 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:31:50.332 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6287ms
2025-08-01 11:31:50.334 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:31:50.335 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:31:50.335 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:31:50.336 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:31:50.336 +05:30 [INF] Fetching all patients
2025-08-01 11:31:50.340 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:31:50.341 +05:30 [INF] Returned 10 patients
2025-08-01 11:31:50.341 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:31:50.342 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.7029ms
2025-08-01 11:31:50.342 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:31:50.342 +05:30 [INF] HTTP GET /api/patient responded 200 in 7.1684 ms
2025-08-01 11:31:50.343 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.3372ms
2025-08-01 11:31:50.386 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:31:50.386 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:31:50.386 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7673ms
2025-08-01 11:31:50.394 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:31:50.395 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:31:50.395 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:31:50.396 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:31:50.403 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:31:50.410 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:31:50.411 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:31:50.411 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 15.0278ms
2025-08-01 11:31:50.411 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:31:50.412 +05:30 [INF] HTTP GET /api/doctor responded 200 in 16.1625 ms
2025-08-01 11:31:50.412 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 17.6974ms
2025-08-01 11:34:19.508 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:34:19.509 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:34:19.513 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 5.8826ms
2025-08-01 11:34:19.534 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:34:19.535 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:34:19.536 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:34:19.538 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:34:19.539 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 4.7822ms
2025-08-01 11:34:20.226 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:34:20.226 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:34:20.227 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:34:20.227 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:34:20.228 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.7667ms
2025-08-01 11:34:20.961 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:34:20.961 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:34:20.962 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.0403ms
2025-08-01 11:34:20.963 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:34:20.964 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:34:20.964 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:34:20.964 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:34:20.984 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:34:21.572 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:34:21.573 +05:30 [INF] Role: Admin
2025-08-01 11:34:21.573 +05:30 [INF] Role: Admin
2025-08-01 11:34:21.573 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:34:21.579 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:34:21.580 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:34:21.580 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 615.2373ms
2025-08-01 11:34:21.580 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:34:21.580 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 615.9289 ms
2025-08-01 11:34:21.580 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 616.826ms
2025-08-01 11:34:21.585 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:34:21.586 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:34:21.586 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6485ms
2025-08-01 11:34:21.588 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:34:21.588 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:34:21.588 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:34:21.589 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:34:21.589 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:34:21.591 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:34:21.592 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:34:21.594 +05:30 [INF] Found 1 users among search
2025-08-01 11:34:21.594 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:34:21.595 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.1781ms
2025-08-01 11:34:21.596 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:34:21.596 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.8916 ms
2025-08-01 11:34:21.597 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 9.5774ms
2025-08-01 11:34:21.618 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:34:21.619 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:34:21.620 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.7229ms
2025-08-01 11:34:21.623 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:34:21.623 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:34:21.623 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:34:21.624 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:34:21.624 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:34:21.626 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:34:21.628 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:34:21.629 +05:30 [INF] Found 1 users among search
2025-08-01 11:34:21.629 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:34:21.630 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.7291ms
2025-08-01 11:34:21.630 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:34:21.630 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.8946 ms
2025-08-01 11:34:21.631 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 8.0745ms
2025-08-01 11:34:22.693 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:34:22.694 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:34:22.694 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:34:22.695 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:34:22.705 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:34:22.709 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:34:22.709 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:34:22.709 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 14.3952ms
2025-08-01 11:34:22.710 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:34:22.710 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 16.1601 ms
2025-08-01 11:34:22.711 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 18.346ms
2025-08-01 11:34:24.518 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:34:24.518 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:34:24.518 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.7009ms
2025-08-01 11:34:24.521 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:34:24.521 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:34:24.522 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:34:24.522 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:34:24.523 +05:30 [INF] Fetching all patients
2025-08-01 11:34:24.527 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:34:24.528 +05:30 [INF] Returned 10 patients
2025-08-01 11:34:24.528 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:34:24.529 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 6.3274ms
2025-08-01 11:34:24.529 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:34:24.529 +05:30 [INF] HTTP GET /api/patient responded 200 in 7.4937 ms
2025-08-01 11:34:24.530 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.9473ms
2025-08-01 11:34:24.561 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:34:24.561 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:34:24.562 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.1392ms
2025-08-01 11:34:24.565 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:34:24.565 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:34:24.566 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:34:24.566 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:34:24.573 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:34:24.576 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:34:24.577 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:34:24.578 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 11.9723ms
2025-08-01 11:34:24.578 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:34:24.578 +05:30 [INF] HTTP GET /api/doctor responded 200 in 13.0472 ms
2025-08-01 11:34:24.579 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 14.1567ms
2025-08-01 11:39:06.817 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:39:06.818 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:39:06.818 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.27ms
2025-08-01 11:39:06.836 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:39:06.836 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:39:06.837 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:39:06.837 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:39:06.837 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.3977ms
2025-08-01 11:39:07.553 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:39:07.554 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:39:07.554 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:39:07.554 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:39:07.554 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.898ms
2025-08-01 11:39:08.856 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:39:08.857 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:39:08.857 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.3823ms
2025-08-01 11:39:08.858 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:39:08.858 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:39:08.859 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:39:08.859 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:39:08.889 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:39:09.466 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:39:09.466 +05:30 [INF] Role: Admin
2025-08-01 11:39:09.466 +05:30 [INF] Role: Admin
2025-08-01 11:39:09.467 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:39:09.474 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:39:09.474 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:39:09.474 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 614.9059ms
2025-08-01 11:39:09.475 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:39:09.475 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 616.0804 ms
2025-08-01 11:39:09.475 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 616.8977ms
2025-08-01 11:39:09.480 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:39:09.480 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:39:09.481 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6907ms
2025-08-01 11:39:09.482 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:39:09.483 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:39:09.483 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:39:09.483 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:39:09.484 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:39:09.485 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:39:09.488 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:39:09.489 +05:30 [INF] Found 1 users among search
2025-08-01 11:39:09.489 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:39:09.489 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.1213ms
2025-08-01 11:39:09.490 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:39:09.490 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.0020 ms
2025-08-01 11:39:09.490 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 507 application/json; charset=utf-8 7.9022ms
2025-08-01 11:39:09.516 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:39:09.517 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:39:09.518 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.9717ms
2025-08-01 11:39:09.521 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:39:09.521 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:39:09.522 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:39:09.522 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:39:09.523 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:39:09.525 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:39:09.529 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:39:09.529 +05:30 [INF] Found 1 users among search
2025-08-01 11:39:09.530 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:39:09.530 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.657ms
2025-08-01 11:39:09.530 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:39:09.531 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.1177 ms
2025-08-01 11:39:09.531 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 507 application/json; charset=utf-8 10.2111ms
2025-08-01 11:39:10.612 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:39:10.613 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:39:10.614 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:39:10.614 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:39:10.623 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:39:10.639 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:39:10.642 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:39:10.642 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 27.4295ms
2025-08-01 11:39:10.649 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:39:10.650 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 36.8626 ms
2025-08-01 11:39:10.651 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 38.9954ms
2025-08-01 11:39:11.811 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:39:11.811 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:39:11.812 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6634ms
2025-08-01 11:39:11.814 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:39:11.815 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:39:11.816 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:39:11.816 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:39:11.816 +05:30 [INF] Fetching all patients
2025-08-01 11:39:11.819 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:39:11.820 +05:30 [INF] Returned 10 patients
2025-08-01 11:39:11.820 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:39:11.821 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.7302ms
2025-08-01 11:39:11.821 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:39:11.822 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.1748 ms
2025-08-01 11:39:11.822 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.7132ms
2025-08-01 11:39:11.855 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:39:11.856 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:39:11.856 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6734ms
2025-08-01 11:39:11.858 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:39:11.858 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:39:11.858 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:39:11.859 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:39:11.864 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:39:11.867 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:39:11.868 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:39:11.868 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 9.5821ms
2025-08-01 11:39:11.869 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:39:11.869 +05:30 [INF] HTTP GET /api/doctor responded 200 in 10.4984 ms
2025-08-01 11:39:11.869 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.4289ms
2025-08-01 11:42:42.883 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:42:42.886 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:42:42.887 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 4.276ms
2025-08-01 11:42:42.892 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:42:42.893 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:42:42.893 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:42:42.894 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:42:42.895 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.4814ms
2025-08-01 11:43:03.773 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:43:03.774 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:43:03.774 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8854ms
2025-08-01 11:43:03.779 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:43:03.779 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:43:03.780 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:43:03.780 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:43:03.780 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.1307ms
2025-08-01 11:43:41.079 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:43:41.079 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:43:41.080 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:43:41.080 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:43:41.080 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.4414ms
2025-08-01 11:43:41.903 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:43:41.903 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:43:41.904 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7507ms
2025-08-01 11:43:41.906 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:43:41.906 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:43:41.906 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:43:41.907 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:43:41.933 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:43:42.518 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:43:42.518 +05:30 [INF] Role: Admin
2025-08-01 11:43:42.519 +05:30 [INF] Role: Admin
2025-08-01 11:43:42.519 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:43:42.522 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:43:42.523 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:43:42.523 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 616.2114ms
2025-08-01 11:43:42.524 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:43:42.524 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 617.6429 ms
2025-08-01 11:43:42.524 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 618.5866ms
2025-08-01 11:43:42.528 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:43:42.529 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:43:42.529 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.4716ms
2025-08-01 11:43:42.530 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:43:42.531 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:43:42.531 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:43:42.531 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:43:42.532 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:43:42.534 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:43:42.535 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:43:42.536 +05:30 [INF] Found 1 users among search
2025-08-01 11:43:42.536 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:43:42.537 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.3395ms
2025-08-01 11:43:42.538 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:43:42.538 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.0251 ms
2025-08-01 11:43:42.538 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 8.0275ms
2025-08-01 11:43:42.560 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:43:42.562 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:43:42.564 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 3.9895ms
2025-08-01 11:43:42.569 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:43:42.569 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:43:42.570 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:43:42.570 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:43:42.570 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:43:42.573 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:43:42.575 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:43:42.575 +05:30 [INF] Found 1 users among search
2025-08-01 11:43:42.575 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:43:42.576 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.5688ms
2025-08-01 11:43:42.576 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:43:42.576 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.4144 ms
2025-08-01 11:43:42.576 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 7.3437ms
2025-08-01 11:43:43.832 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:43:43.832 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:43:43.833 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6053ms
2025-08-01 11:43:43.834 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:43:43.835 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:43:43.835 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:43:43.835 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:43:43.844 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:43:43.848 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:43:43.849 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:43:43.850 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 14.5964ms
2025-08-01 11:43:43.851 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:43:43.851 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 15.9633 ms
2025-08-01 11:43:43.851 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 17.2817ms
2025-08-01 11:43:45.293 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:43:45.294 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:43:45.295 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 1.4944ms
2025-08-01 11:43:45.298 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:43:45.298 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:43:45.299 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:43:45.299 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:43:45.300 +05:30 [INF] Fetching all patients
2025-08-01 11:43:45.304 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:43:45.305 +05:30 [INF] Returned 10 patients
2025-08-01 11:43:45.305 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:43:45.306 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 6.9431ms
2025-08-01 11:43:45.307 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:43:45.307 +05:30 [INF] HTTP GET /api/patient responded 200 in 8.8044 ms
2025-08-01 11:43:45.308 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 10.0475ms
2025-08-01 11:43:45.340 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:43:45.340 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:43:45.340 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6729ms
2025-08-01 11:43:45.342 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:43:45.343 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:43:45.343 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:43:45.343 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:43:45.351 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:43:45.354 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:43:45.355 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:43:45.355 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 11.6593ms
2025-08-01 11:43:45.355 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:43:45.356 +05:30 [INF] HTTP GET /api/doctor responded 200 in 12.8395 ms
2025-08-01 11:43:45.356 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 13.6708ms
2025-08-01 11:46:21.319 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:46:21.319 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:46:21.320 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.3504ms
2025-08-01 11:46:21.324 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:46:21.324 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:46:21.325 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:46:21.334 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:46:21.335 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 11.1433ms
2025-08-01 11:46:22.222 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:46:22.222 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:46:22.223 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:46:22.223 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:46:22.223 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.5151ms
2025-08-01 11:46:22.782 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:46:22.783 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:46:22.783 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.4386ms
2025-08-01 11:46:22.784 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:46:22.784 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:46:22.785 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:46:22.785 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:46:22.801 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:46:23.367 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:46:23.367 +05:30 [INF] Role: Admin
2025-08-01 11:46:23.367 +05:30 [INF] Role: Admin
2025-08-01 11:46:23.367 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:46:23.371 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:46:23.372 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:46:23.372 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 587.3884ms
2025-08-01 11:46:23.372 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:46:23.373 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 588.0455 ms
2025-08-01 11:46:23.373 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 588.6229ms
2025-08-01 11:46:23.378 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:46:23.378 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:46:23.378 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.4616ms
2025-08-01 11:46:23.380 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:46:23.380 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:46:23.381 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:46:23.381 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:46:23.382 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:46:23.383 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:46:23.387 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:46:23.387 +05:30 [INF] Found 1 users among search
2025-08-01 11:46:23.388 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:46:23.389 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.3123ms
2025-08-01 11:46:23.389 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:46:23.389 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.6874 ms
2025-08-01 11:46:23.390 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 9.776ms
2025-08-01 11:46:23.411 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:46:23.411 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:46:23.412 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.9504ms
2025-08-01 11:46:23.414 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:46:23.415 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:46:23.415 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:46:23.415 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:46:23.416 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:46:23.418 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:46:23.419 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:46:23.419 +05:30 [INF] Found 1 users among search
2025-08-01 11:46:23.420 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:46:23.420 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.3995ms
2025-08-01 11:46:23.420 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:46:23.420 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.2153 ms
2025-08-01 11:46:23.420 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 6.0414ms
2025-08-01 11:46:25.476 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:46:25.476 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:46:25.477 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:46:25.477 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:46:25.485 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:46:25.489 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:46:25.490 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:46:25.490 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 12.7053ms
2025-08-01 11:46:25.490 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:46:25.491 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 14.0592 ms
2025-08-01 11:46:25.491 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 15.4036ms
2025-08-01 11:46:26.541 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:46:26.542 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:46:26.542 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6451ms
2025-08-01 11:46:26.544 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:46:26.545 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:46:26.545 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:46:26.545 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:46:26.546 +05:30 [INF] Fetching all patients
2025-08-01 11:46:26.549 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:46:26.549 +05:30 [INF] Returned 10 patients
2025-08-01 11:46:26.550 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:46:26.550 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.1553ms
2025-08-01 11:46:26.550 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:46:26.550 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.1045 ms
2025-08-01 11:46:26.550 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 6.4442ms
2025-08-01 11:46:26.584 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:46:26.584 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:46:26.585 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.7194ms
2025-08-01 11:46:26.588 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:46:26.588 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:46:26.589 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:46:26.590 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:46:26.597 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:46:26.601 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:46:26.601 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:46:26.602 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 11.4752ms
2025-08-01 11:46:26.602 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:46:26.602 +05:30 [INF] HTTP GET /api/doctor responded 200 in 12.7829 ms
2025-08-01 11:46:26.602 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 14.3912ms
2025-08-01 11:50:26.059 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:50:26.061 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:26.062 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.4597ms
2025-08-01 11:50:26.117 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:50:26.118 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:26.119 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:50:26.120 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:50:26.120 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.5063ms
2025-08-01 11:50:26.629 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:50:26.630 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:26.630 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:50:26.630 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:50:26.630 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.81ms
2025-08-01 11:50:27.473 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:50:27.473 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:27.474 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.8084ms
2025-08-01 11:50:27.475 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:50:27.476 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:27.476 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:50:27.476 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:50:27.504 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:50:28.086 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:50:28.086 +05:30 [INF] Role: Admin
2025-08-01 11:50:28.086 +05:30 [INF] Role: Admin
2025-08-01 11:50:28.086 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:50:28.094 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:50:28.095 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:50:28.095 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 618.8099ms
2025-08-01 11:50:28.096 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:50:28.096 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 620.4455 ms
2025-08-01 11:50:28.097 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 621.4736ms
2025-08-01 11:50:28.102 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:50:28.102 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:28.103 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.5661ms
2025-08-01 11:50:28.105 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:50:28.105 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:28.106 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:50:28.106 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:50:28.107 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:50:28.109 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:50:28.168 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:50:28.170 +05:30 [INF] Found 1 users among search
2025-08-01 11:50:28.172 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:50:28.176 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 69.4317ms
2025-08-01 11:50:28.176 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:50:28.178 +05:30 [INF] HTTP GET /api/user/search responded 200 in 72.0479 ms
2025-08-01 11:50:28.178 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 73.5727ms
2025-08-01 11:50:28.202 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:50:28.203 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:28.203 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.8942ms
2025-08-01 11:50:28.207 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:50:28.207 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:28.208 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:50:28.208 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:50:28.208 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:50:28.210 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:50:28.212 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:50:28.213 +05:30 [INF] Found 1 users among search
2025-08-01 11:50:28.213 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:50:28.214 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.7378ms
2025-08-01 11:50:28.214 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:50:28.215 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.8911 ms
2025-08-01 11:50:28.215 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 8.3963ms
2025-08-01 11:50:29.560 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:50:29.561 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:29.562 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:50:29.562 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:50:29.573 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:50:29.577 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:50:29.577 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:50:29.578 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 15.358ms
2025-08-01 11:50:29.578 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:50:29.578 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 16.4860 ms
2025-08-01 11:50:29.578 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 17.723ms
2025-08-01 11:50:30.654 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:50:30.655 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:30.655 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6872ms
2025-08-01 11:50:30.658 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:50:30.658 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:30.659 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:50:30.660 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:50:30.661 +05:30 [INF] Fetching all patients
2025-08-01 11:50:30.664 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:50:30.665 +05:30 [INF] Returned 10 patients
2025-08-01 11:50:30.665 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:50:30.665 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.953ms
2025-08-01 11:50:30.666 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:50:30.666 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.9225 ms
2025-08-01 11:50:30.666 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.5819ms
2025-08-01 11:50:30.699 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:50:30.699 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:30.699 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6819ms
2025-08-01 11:50:30.701 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:50:30.702 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:30.702 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:50:30.702 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:50:30.707 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:50:30.711 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:50:30.711 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:50:30.712 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 9.1441ms
2025-08-01 11:50:30.712 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:50:30.712 +05:30 [INF] HTTP GET /api/doctor responded 200 in 10.1574 ms
2025-08-01 11:50:30.713 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.2623ms
2025-08-01 11:50:53.551 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:50:53.552 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:53.554 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 2.1006ms
2025-08-01 11:50:53.557 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:50:53.557 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:53.558 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:50:53.559 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:50:53.559 +05:30 [INF] Fetching all patients
2025-08-01 11:50:53.561 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:50:53.562 +05:30 [INF] Returned 10 patients
2025-08-01 11:50:53.562 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:50:53.563 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.4896ms
2025-08-01 11:50:53.563 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:50:53.563 +05:30 [INF] HTTP GET /api/patient responded 200 in 4.8183 ms
2025-08-01 11:50:53.563 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 6.7276ms
2025-08-01 11:50:53.586 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:50:53.587 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:53.587 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.8146ms
2025-08-01 11:50:53.589 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:50:53.589 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:53.590 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:50:53.590 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:50:53.592 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:50:53.594 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:50:53.595 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:50:53.595 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 5.4654ms
2025-08-01 11:50:53.596 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:50:53.597 +05:30 [INF] HTTP GET /api/doctor responded 200 in 7.2238 ms
2025-08-01 11:50:53.597 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 8.149ms
2025-08-01 11:50:59.884 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:50:59.884 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:59.884 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.554ms
2025-08-01 11:50:59.886 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:50:59.886 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:59.887 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:50:59.887 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:50:59.888 +05:30 [INF] Fetching all patients
2025-08-01 11:50:59.902 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:50:59.902 +05:30 [INF] Returned 10 patients
2025-08-01 11:50:59.902 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:50:59.903 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 15.711ms
2025-08-01 11:50:59.904 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:50:59.904 +05:30 [INF] HTTP GET /api/patient responded 200 in 17.1459 ms
2025-08-01 11:50:59.904 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 18.4402ms
2025-08-01 11:50:59.917 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:50:59.917 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:59.918 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.5583ms
2025-08-01 11:50:59.919 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:50:59.920 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:50:59.920 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:50:59.920 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:50:59.924 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:50:59.930 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:50:59.930 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:50:59.931 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 10.4357ms
2025-08-01 11:50:59.931 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:50:59.932 +05:30 [INF] HTTP GET /api/doctor responded 200 in 11.7085 ms
2025-08-01 11:50:59.932 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 12.6953ms
2025-08-01 11:51:31.534 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:51:31.535 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:31.536 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 1.9221ms
2025-08-01 11:51:31.540 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:51:31.540 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:31.540 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:51:31.541 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:51:31.541 +05:30 [INF] Fetching all patients
2025-08-01 11:51:31.546 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:51:31.546 +05:30 [INF] Returned 10 patients
2025-08-01 11:51:31.547 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:51:31.548 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 7.1889ms
2025-08-01 11:51:31.549 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:51:31.549 +05:30 [INF] HTTP GET /api/patient responded 200 in 8.8842 ms
2025-08-01 11:51:31.550 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 10.0578ms
2025-08-01 11:51:31.573 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:51:31.574 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:31.574 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.5997ms
2025-08-01 11:51:31.576 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:51:31.577 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:31.579 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:51:31.581 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:51:31.585 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:51:31.589 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:51:31.590 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:51:31.590 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 9.3447ms
2025-08-01 11:51:31.591 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:51:31.591 +05:30 [INF] HTTP GET /api/doctor responded 200 in 12.2524 ms
2025-08-01 11:51:31.591 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 15.2274ms
2025-08-01 11:51:36.317 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:51:36.318 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:36.318 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:51:36.318 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:51:36.319 +05:30 [INF] Fetching all patients
2025-08-01 11:51:36.320 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:51:36.321 +05:30 [INF] Returned 10 patients
2025-08-01 11:51:36.321 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:51:36.322 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.3996ms
2025-08-01 11:51:36.322 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:51:36.323 +05:30 [INF] HTTP GET /api/patient responded 200 in 4.6003 ms
2025-08-01 11:51:36.323 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 5.6996ms
2025-08-01 11:51:36.347 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:51:36.347 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:36.347 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:51:36.348 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:51:36.350 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:51:36.352 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:51:36.353 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:51:36.353 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 5.4871ms
2025-08-01 11:51:36.354 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:51:36.354 +05:30 [INF] HTTP GET /api/doctor responded 200 in 6.5557 ms
2025-08-01 11:51:36.354 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 7.667ms
2025-08-01 11:51:38.695 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:51:38.696 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:38.696 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 1.1559ms
2025-08-01 11:51:38.699 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:51:38.699 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:38.699 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:51:38.700 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:51:38.700 +05:30 [INF] Fetching all patients
2025-08-01 11:51:38.702 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:51:38.702 +05:30 [INF] Returned 10 patients
2025-08-01 11:51:38.703 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:51:38.703 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.3801ms
2025-08-01 11:51:38.704 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:51:38.704 +05:30 [INF] HTTP GET /api/patient responded 200 in 4.5529 ms
2025-08-01 11:51:38.704 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 5.5575ms
2025-08-01 11:51:38.729 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:51:38.729 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:38.730 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.902ms
2025-08-01 11:51:38.733 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:51:38.734 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:38.734 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:51:38.735 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:51:38.736 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:51:38.738 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:51:38.739 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:51:38.739 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 3.9417ms
2025-08-01 11:51:38.739 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:51:38.739 +05:30 [INF] HTTP GET /api/doctor responded 200 in 4.9082 ms
2025-08-01 11:51:38.739 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 6.8832ms
2025-08-01 11:51:50.074 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:51:50.075 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:50.075 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.57ms
2025-08-01 11:51:50.077 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:51:50.078 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:50.080 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:51:50.080 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:51:50.081 +05:30 [INF] Fetching all patients
2025-08-01 11:51:50.083 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:51:50.083 +05:30 [INF] Returned 10 patients
2025-08-01 11:51:50.084 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:51:50.084 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.3263ms
2025-08-01 11:51:50.084 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:51:50.085 +05:30 [INF] HTTP GET /api/patient responded 200 in 4.9781 ms
2025-08-01 11:51:50.085 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.427ms
2025-08-01 11:51:50.106 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:51:50.106 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:50.106 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6516ms
2025-08-01 11:51:50.109 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:51:50.110 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:50.110 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:51:50.110 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:51:50.113 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:51:50.114 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:51:50.115 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:51:50.115 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 4.7765ms
2025-08-01 11:51:50.116 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:51:50.116 +05:30 [INF] HTTP GET /api/doctor responded 200 in 6.0942 ms
2025-08-01 11:51:50.117 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 7.428ms
2025-08-01 11:51:54.718 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:51:54.719 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:54.719 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.2069ms
2025-08-01 11:51:54.723 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:51:54.724 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:54.725 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:51:54.726 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:51:54.726 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.7349ms
2025-08-01 11:51:55.299 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:51:55.299 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:55.299 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:51:55.300 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:51:55.300 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.8607ms
2025-08-01 11:51:56.159 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:51:56.159 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:56.160 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5944ms
2025-08-01 11:51:56.161 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:51:56.161 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:56.162 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:51:56.162 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:51:56.172 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:51:57.070 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:51:57.071 +05:30 [INF] Role: Admin
2025-08-01 11:51:57.071 +05:30 [INF] Role: Admin
2025-08-01 11:51:57.072 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:51:57.081 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:51:57.082 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:51:57.083 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 920.5854ms
2025-08-01 11:51:57.083 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:51:57.084 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 922.2556 ms
2025-08-01 11:51:57.084 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 923.1584ms
2025-08-01 11:51:57.089 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:51:57.089 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:57.090 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.9416ms
2025-08-01 11:51:57.092 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:51:57.092 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:57.093 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:51:57.093 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:51:57.094 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:51:57.096 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:51:57.100 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:51:57.100 +05:30 [INF] Found 1 users among search
2025-08-01 11:51:57.100 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:51:57.101 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.397ms
2025-08-01 11:51:57.101 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:51:57.101 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.2481 ms
2025-08-01 11:51:57.101 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 9.2228ms
2025-08-01 11:51:57.120 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:51:57.120 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:57.121 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.9739ms
2025-08-01 11:51:57.124 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:51:57.124 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:57.125 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:51:57.125 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:51:57.126 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:51:57.127 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:51:57.129 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:51:57.129 +05:30 [INF] Found 1 users among search
2025-08-01 11:51:57.130 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:51:57.130 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.4984ms
2025-08-01 11:51:57.130 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:51:57.131 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.8570 ms
2025-08-01 11:51:57.131 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 7.3637ms
2025-08-01 11:51:58.118 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:51:58.118 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:58.119 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:51:58.119 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:51:58.127 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:51:58.129 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:51:58.130 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:51:58.131 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 11.3163ms
2025-08-01 11:51:58.131 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:51:58.132 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 13.1116 ms
2025-08-01 11:51:58.133 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 15.0178ms
2025-08-01 11:51:59.709 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:51:59.710 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:59.710 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.7466ms
2025-08-01 11:51:59.713 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:51:59.713 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:59.713 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:51:59.714 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:51:59.714 +05:30 [INF] Fetching all patients
2025-08-01 11:51:59.716 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:51:59.717 +05:30 [INF] Returned 10 patients
2025-08-01 11:51:59.717 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:51:59.717 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.4658ms
2025-08-01 11:51:59.718 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:51:59.718 +05:30 [INF] HTTP GET /api/patient responded 200 in 4.4388 ms
2025-08-01 11:51:59.718 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 5.5763ms
2025-08-01 11:51:59.753 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:51:59.754 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:59.754 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7241ms
2025-08-01 11:51:59.756 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:51:59.756 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:51:59.757 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:51:59.758 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:51:59.767 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:51:59.773 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:51:59.774 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:51:59.774 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 13.8833ms
2025-08-01 11:51:59.774 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:51:59.774 +05:30 [INF] HTTP GET /api/doctor responded 200 in 17.4954 ms
2025-08-01 11:51:59.775 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 19.1067ms
2025-08-01 11:58:45.651 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:58:45.651 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:58:45.652 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.8995ms
2025-08-01 11:58:45.668 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:58:45.668 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:58:45.669 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 11:58:45.670 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:58:45.670 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.8068ms
2025-08-01 11:58:50.898 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 11:58:50.898 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:58:50.899 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 11:58:50.899 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 11:58:50.899 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.5687ms
2025-08-01 11:58:52.208 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 11:58:52.209 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:58:52.209 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.935ms
2025-08-01 11:58:52.211 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 11:58:52.211 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:58:52.212 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:58:52.212 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 11:58:52.238 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 11:58:53.085 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 11:58:53.086 +05:30 [INF] Role: Admin
2025-08-01 11:58:53.086 +05:30 [INF] Role: Admin
2025-08-01 11:58:53.086 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 11:58:53.092 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 11:58:53.093 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 11:58:53.093 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 881.0632ms
2025-08-01 11:58:53.094 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 11:58:53.094 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 882.3065 ms
2025-08-01 11:58:53.094 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 883.4911ms
2025-08-01 11:58:53.099 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:58:53.100 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:58:53.100 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6639ms
2025-08-01 11:58:53.102 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 11:58:53.102 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:58:53.103 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:58:53.103 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:58:53.104 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:58:53.105 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 11:58:53.110 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 11:58:53.112 +05:30 [INF] Found 1 users among search
2025-08-01 11:58:53.113 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:58:53.114 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 10.5448ms
2025-08-01 11:58:53.114 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:58:53.114 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.7065 ms
2025-08-01 11:58:53.115 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 12.7375ms
2025-08-01 11:58:53.136 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:58:53.136 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:58:53.137 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.1155ms
2025-08-01 11:58:53.141 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 11:58:53.142 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:58:53.142 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:58:53.143 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 11:58:53.144 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 11:58:53.146 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 11:58:53.148 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 11:58:53.148 +05:30 [INF] Found 1 users among search
2025-08-01 11:58:53.149 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:58:53.149 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.2186ms
2025-08-01 11:58:53.149 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 11:58:53.150 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.5135 ms
2025-08-01 11:58:53.150 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 8.6738ms
2025-08-01 11:58:54.152 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:58:54.152 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:58:54.152 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.4228ms
2025-08-01 11:58:54.154 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 11:58:54.155 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:58:54.156 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:58:54.156 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 11:58:54.167 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 11:58:54.171 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 11:58:54.171 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:58:54.171 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 15.2069ms
2025-08-01 11:58:54.172 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 11:58:54.172 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 16.4895 ms
2025-08-01 11:58:54.172 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 17.8837ms
2025-08-01 11:58:55.286 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 11:58:55.286 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:58:55.287 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.543ms
2025-08-01 11:58:55.292 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 11:58:55.293 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:58:55.294 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:58:55.294 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 11:58:55.294 +05:30 [INF] Fetching all patients
2025-08-01 11:58:55.298 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 11:58:55.298 +05:30 [INF] Returned 10 patients
2025-08-01 11:58:55.298 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:58:55.299 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.7028ms
2025-08-01 11:58:55.299 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 11:58:55.299 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.8560 ms
2025-08-01 11:58:55.300 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.6849ms
2025-08-01 11:58:55.324 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 11:58:55.324 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:58:55.325 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6007ms
2025-08-01 11:58:55.327 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 11:58:55.328 +05:30 [INF] CORS policy execution successful.
2025-08-01 11:58:55.329 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:58:55.329 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 11:58:55.336 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 11:58:55.339 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 11:58:55.340 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 11:58:55.340 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 10.7709ms
2025-08-01 11:58:55.340 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 11:58:55.340 +05:30 [INF] HTTP GET /api/doctor responded 200 in 11.7728 ms
2025-08-01 11:58:55.341 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 13.6474ms
2025-08-01 12:03:53.734 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:03:53.734 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:03:53.735 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.0918ms
2025-08-01 12:03:53.747 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:03:53.748 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:03:53.748 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 12:03:53.749 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:03:53.749 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.6391ms
2025-08-01 12:03:54.710 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:03:54.710 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:03:54.710 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:03:54.710 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:03:54.711 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.9979ms
2025-08-01 12:03:55.377 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:03:55.377 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:03:55.377 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5406ms
2025-08-01 12:03:55.379 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:03:55.379 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:03:55.379 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:03:55.380 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:03:55.398 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:03:55.996 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:03:55.997 +05:30 [INF] Role: Admin
2025-08-01 12:03:55.998 +05:30 [INF] Role: Admin
2025-08-01 12:03:55.998 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:03:56.003 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:03:56.003 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:03:56.004 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 623.9892ms
2025-08-01 12:03:56.004 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:03:56.005 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 625.3790 ms
2025-08-01 12:03:56.005 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 626.1267ms
2025-08-01 12:03:56.009 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:03:56.010 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:03:56.010 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6766ms
2025-08-01 12:03:56.012 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:03:56.012 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:03:56.013 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:03:56.013 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:03:56.014 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:03:56.016 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:03:56.020 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:03:56.021 +05:30 [INF] Found 1 users among search
2025-08-01 12:03:56.023 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:03:56.023 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.7502ms
2025-08-01 12:03:56.023 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:03:56.024 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.2618 ms
2025-08-01 12:03:56.025 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 12.7257ms
2025-08-01 12:03:56.044 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:03:56.045 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:03:56.045 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.5538ms
2025-08-01 12:03:56.050 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:03:56.051 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:03:56.051 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:03:56.051 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:03:56.052 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:03:56.054 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:03:56.056 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:03:56.057 +05:30 [INF] Found 1 users among search
2025-08-01 12:03:56.057 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:03:56.057 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.8523ms
2025-08-01 12:03:56.058 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:03:56.058 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.0664 ms
2025-08-01 12:03:56.058 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 7.9659ms
2025-08-01 12:03:57.166 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:03:57.167 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:03:57.168 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:03:57.169 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:03:57.182 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:03:57.185 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:03:57.186 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:03:57.187 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 17.8625ms
2025-08-01 12:03:57.187 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:03:57.187 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 18.7568 ms
2025-08-01 12:03:57.187 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 20.9043ms
2025-08-01 12:03:58.243 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:03:58.244 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:03:58.244 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6036ms
2025-08-01 12:03:58.246 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:03:58.246 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:03:58.247 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:03:58.247 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:03:58.247 +05:30 [INF] Fetching all patients
2025-08-01 12:03:58.251 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:03:58.252 +05:30 [INF] Returned 10 patients
2025-08-01 12:03:58.252 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:03:58.253 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.7635ms
2025-08-01 12:03:58.253 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:03:58.254 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.9118 ms
2025-08-01 12:03:58.254 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.2797ms
2025-08-01 12:03:58.284 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:03:58.285 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:03:58.285 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.1585ms
2025-08-01 12:03:58.288 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:03:58.288 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:03:58.288 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:03:58.289 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:03:58.292 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:03:58.296 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:03:58.296 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:03:58.297 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.9311ms
2025-08-01 12:03:58.297 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:03:58.297 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.0071 ms
2025-08-01 12:03:58.298 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 10.1534ms
2025-08-01 12:04:37.845 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:04:37.846 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:04:37.846 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.6175ms
2025-08-01 12:04:37.866 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:04:37.869 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:04:37.871 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 12:04:37.875 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:04:37.875 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 9.2651ms
2025-08-01 12:04:38.941 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:04:38.942 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:04:38.942 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:04:38.942 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:04:38.942 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.2103ms
2025-08-01 12:04:39.876 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:04:39.876 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:04:39.876 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.722ms
2025-08-01 12:04:39.879 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:04:39.879 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:04:39.879 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:04:39.880 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:04:39.896 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:04:40.462 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:04:40.463 +05:30 [INF] Role: Admin
2025-08-01 12:04:40.463 +05:30 [INF] Role: Admin
2025-08-01 12:04:40.463 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:04:40.470 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:04:40.471 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:04:40.471 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 591.1135ms
2025-08-01 12:04:40.471 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:04:40.471 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 592.1783 ms
2025-08-01 12:04:40.472 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 593.2487ms
2025-08-01 12:04:40.477 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:04:40.477 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:04:40.478 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6577ms
2025-08-01 12:04:40.480 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:04:40.480 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:04:40.481 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:04:40.481 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:04:40.482 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:04:40.484 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:04:40.486 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:04:40.486 +05:30 [INF] Found 1 users among search
2025-08-01 12:04:40.487 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:04:40.488 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.2315ms
2025-08-01 12:04:40.488 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:04:40.489 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.7977 ms
2025-08-01 12:04:40.490 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 9.6963ms
2025-08-01 12:04:40.512 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:04:40.514 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:04:40.515 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.1507ms
2025-08-01 12:04:40.518 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:04:40.518 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:04:40.519 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:04:40.520 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:04:40.520 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:04:40.522 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:04:40.523 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:04:40.523 +05:30 [INF] Found 1 users among search
2025-08-01 12:04:40.524 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:04:40.524 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.0763ms
2025-08-01 12:04:40.524 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:04:40.524 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.2123 ms
2025-08-01 12:04:40.525 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 7.0126ms
2025-08-01 12:04:41.779 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:04:41.780 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:04:41.781 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:04:41.781 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:04:41.791 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:04:41.794 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:04:41.795 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:04:41.795 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 13.4453ms
2025-08-01 12:04:41.795 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:04:41.795 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 14.6002 ms
2025-08-01 12:04:41.796 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 16.0912ms
2025-08-01 12:04:43.009 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:04:43.009 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:04:43.009 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6271ms
2025-08-01 12:04:43.011 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:04:43.012 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:04:43.012 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:04:43.013 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:04:43.013 +05:30 [INF] Fetching all patients
2025-08-01 12:04:43.016 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:04:43.017 +05:30 [INF] Returned 10 patients
2025-08-01 12:04:43.017 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:04:43.017 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.3447ms
2025-08-01 12:04:43.018 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:04:43.018 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.2460 ms
2025-08-01 12:04:43.019 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.4532ms
2025-08-01 12:04:43.049 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:04:43.049 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:04:43.050 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7594ms
2025-08-01 12:04:43.052 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:04:43.053 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:04:43.054 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:04:43.055 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:04:43.057 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:04:43.060 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:04:43.061 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:04:43.061 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 6.532ms
2025-08-01 12:04:43.062 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:04:43.062 +05:30 [INF] HTTP GET /api/doctor responded 200 in 7.9225 ms
2025-08-01 12:04:43.062 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 9.8266ms
2025-08-01 12:06:07.052 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:06:07.053 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:07.054 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.0239ms
2025-08-01 12:06:07.063 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:06:07.064 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:07.065 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 12:06:07.065 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:06:07.067 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.8156ms
2025-08-01 12:06:07.442 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:06:07.443 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:07.443 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:06:07.443 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:06:07.443 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.2597ms
2025-08-01 12:06:08.223 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:06:08.224 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:08.224 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.898ms
2025-08-01 12:06:08.226 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:06:08.226 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:08.226 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:06:08.226 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:06:08.241 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:06:08.823 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:06:08.824 +05:30 [INF] Role: Admin
2025-08-01 12:06:08.824 +05:30 [INF] Role: Admin
2025-08-01 12:06:08.824 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:06:08.828 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:06:08.828 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:06:08.828 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 601.9439ms
2025-08-01 12:06:08.829 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:06:08.829 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 602.4108 ms
2025-08-01 12:06:08.829 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 602.9813ms
2025-08-01 12:06:08.834 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:06:08.834 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:08.834 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.5505ms
2025-08-01 12:06:08.836 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:06:08.836 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:08.837 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:06:08.837 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:06:08.837 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:06:08.839 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:06:08.843 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:06:08.844 +05:30 [INF] Found 1 users among search
2025-08-01 12:06:08.844 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:06:08.845 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.5674ms
2025-08-01 12:06:08.845 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:06:08.845 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.6240 ms
2025-08-01 12:06:08.845 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 9.3438ms
2025-08-01 12:06:08.868 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:06:08.869 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:08.871 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.7415ms
2025-08-01 12:06:08.875 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:06:08.876 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:08.876 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:06:08.876 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:06:08.876 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:06:08.878 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:06:08.879 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:06:08.880 +05:30 [INF] Found 1 users among search
2025-08-01 12:06:08.880 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:06:08.880 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.1468ms
2025-08-01 12:06:08.881 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:06:08.881 +05:30 [INF] HTTP GET /api/user/search responded 200 in 4.9094 ms
2025-08-01 12:06:08.881 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 5.955ms
2025-08-01 12:06:09.943 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:06:09.944 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:09.945 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:06:09.945 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:06:09.956 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:06:09.960 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:06:09.961 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:06:09.961 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 15.2982ms
2025-08-01 12:06:09.961 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:06:09.961 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 16.4616 ms
2025-08-01 12:06:09.961 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 18.2593ms
2025-08-01 12:06:11.629 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:06:11.629 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:11.630 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.9183ms
2025-08-01 12:06:11.631 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:06:11.632 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:11.633 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:06:11.633 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:06:11.633 +05:30 [INF] Fetching all patients
2025-08-01 12:06:11.637 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:06:11.638 +05:30 [INF] Returned 10 patients
2025-08-01 12:06:11.638 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:06:11.639 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.5446ms
2025-08-01 12:06:11.639 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:06:11.639 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.9413 ms
2025-08-01 12:06:11.640 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.664ms
2025-08-01 12:06:11.667 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:06:11.668 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:11.668 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6541ms
2025-08-01 12:06:11.670 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:06:11.670 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:11.671 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:06:11.671 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:06:11.676 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:06:11.680 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:06:11.680 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:06:11.681 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 9.367ms
2025-08-01 12:06:11.681 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:06:11.681 +05:30 [INF] HTTP GET /api/doctor responded 200 in 10.6777 ms
2025-08-01 12:06:11.682 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.8026ms
2025-08-01 12:06:35.238 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:06:35.239 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:35.240 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1404ms
2025-08-01 12:06:35.245 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:06:35.245 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:35.246 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 12:06:35.246 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:06:35.247 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.8184ms
2025-08-01 12:06:36.086 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:06:36.086 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:36.087 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:06:36.087 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:06:36.087 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.2673ms
2025-08-01 12:06:36.804 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:06:36.804 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:36.804 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.4056ms
2025-08-01 12:06:36.806 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:06:36.806 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:36.807 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:06:36.807 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:06:36.816 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:06:37.405 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:06:37.406 +05:30 [INF] Role: Admin
2025-08-01 12:06:37.406 +05:30 [INF] Role: Admin
2025-08-01 12:06:37.406 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:06:37.413 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:06:37.414 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:06:37.414 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 606.9375ms
2025-08-01 12:06:37.414 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:06:37.415 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 608.1273 ms
2025-08-01 12:06:37.415 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 609.1962ms
2025-08-01 12:06:37.420 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:06:37.421 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:37.421 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 1.217ms
2025-08-01 12:06:37.423 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:06:37.424 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:37.424 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:06:37.424 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:06:37.425 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:06:37.427 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:06:37.430 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:06:37.431 +05:30 [INF] Found 1 users among search
2025-08-01 12:06:37.431 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:06:37.432 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.9964ms
2025-08-01 12:06:37.432 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:06:37.433 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.7137 ms
2025-08-01 12:06:37.433 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 508 application/json; charset=utf-8 9.842ms
2025-08-01 12:06:37.457 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:06:37.459 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:37.460 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.6979ms
2025-08-01 12:06:37.464 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:06:37.464 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:37.465 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:06:37.465 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:06:37.466 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:06:37.468 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:06:37.470 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:06:37.470 +05:30 [INF] Found 1 users among search
2025-08-01 12:06:37.471 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:06:37.472 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.9129ms
2025-08-01 12:06:37.472 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:06:37.472 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.5980 ms
2025-08-01 12:06:37.473 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 508 application/json; charset=utf-8 8.6065ms
2025-08-01 12:06:38.696 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:06:38.697 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:38.697 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:06:38.698 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:06:38.706 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:06:38.710 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:06:38.711 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:06:38.711 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 13.1208ms
2025-08-01 12:06:38.711 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:06:38.711 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 14.1303 ms
2025-08-01 12:06:38.712 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 15.3962ms
2025-08-01 12:06:40.503 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:06:40.503 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:40.504 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.9535ms
2025-08-01 12:06:40.506 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:06:40.506 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:40.506 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:06:40.507 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:06:40.507 +05:30 [INF] Fetching all patients
2025-08-01 12:06:40.510 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:06:40.511 +05:30 [INF] Returned 10 patients
2025-08-01 12:06:40.512 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:06:40.512 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.0642ms
2025-08-01 12:06:40.512 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:06:40.512 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.0140 ms
2025-08-01 12:06:40.513 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.0359ms
2025-08-01 12:06:40.542 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:06:40.542 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:40.543 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.0927ms
2025-08-01 12:06:40.546 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:06:40.547 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:06:40.548 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:06:40.548 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:06:40.551 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:06:40.554 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:06:40.555 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:06:40.555 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.3249ms
2025-08-01 12:06:40.556 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:06:40.556 +05:30 [INF] HTTP GET /api/doctor responded 200 in 8.4558 ms
2025-08-01 12:06:40.556 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 9.7373ms
2025-08-01 12:07:21.641 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:07:21.642 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:07:21.642 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.5446ms
2025-08-01 12:07:21.680 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:07:21.681 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:07:21.682 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 12:07:21.683 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:07:21.684 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.2187ms
2025-08-01 12:07:22.434 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:07:22.434 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:07:22.434 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:07:22.435 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:07:22.435 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.3157ms
2025-08-01 12:07:23.119 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:07:23.120 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:07:23.120 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5374ms
2025-08-01 12:07:23.121 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:07:23.122 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:07:23.122 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:07:23.122 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:07:23.124 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:07:23.718 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:07:23.718 +05:30 [INF] Role: Admin
2025-08-01 12:07:23.718 +05:30 [INF] Role: Admin
2025-08-01 12:07:23.718 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:07:23.723 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:07:23.723 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:07:23.723 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 601.2307ms
2025-08-01 12:07:23.724 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:07:23.724 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 601.9475 ms
2025-08-01 12:07:23.724 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 602.6481ms
2025-08-01 12:07:23.749 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:07:23.750 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:07:23.750 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.879ms
2025-08-01 12:07:23.800 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:07:23.801 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:07:23.801 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:07:23.801 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:07:23.802 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:07:23.804 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:07:23.805 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:07:23.806 +05:30 [INF] Found 1 users among search
2025-08-01 12:07:23.806 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:07:23.806 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.3165ms
2025-08-01 12:07:23.806 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:07:23.807 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.4845 ms
2025-08-01 12:07:23.807 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 7.0897ms
2025-08-01 12:07:23.820 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:07:23.820 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:07:23.821 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.9514ms
2025-08-01 12:07:23.824 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:07:23.824 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:07:23.824 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:07:23.824 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:07:23.825 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:07:23.826 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:07:23.827 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:07:23.827 +05:30 [INF] Found 1 users among search
2025-08-01 12:07:23.827 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:07:23.828 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 3.1248ms
2025-08-01 12:07:23.828 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:07:23.828 +05:30 [INF] HTTP GET /api/user/search responded 200 in 3.7372 ms
2025-08-01 12:07:23.828 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 4.4675ms
2025-08-01 12:07:24.722 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:07:24.724 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:07:24.725 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:07:24.725 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:07:24.727 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:07:24.731 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:07:24.731 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:07:24.732 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 6.9585ms
2025-08-01 12:07:24.733 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:07:24.733 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 8.5285 ms
2025-08-01 12:07:24.733 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 11.1674ms
2025-08-01 12:07:26.373 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:07:26.374 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:07:26.374 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6554ms
2025-08-01 12:07:26.376 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:07:26.377 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:07:26.377 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:07:26.377 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:07:26.378 +05:30 [INF] Fetching all patients
2025-08-01 12:07:26.389 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:07:26.390 +05:30 [INF] Returned 10 patients
2025-08-01 12:07:26.391 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:07:26.391 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 13.314ms
2025-08-01 12:07:26.391 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:07:26.391 +05:30 [INF] HTTP GET /api/patient responded 200 in 14.4956 ms
2025-08-01 12:07:26.392 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 15.4961ms
2025-08-01 12:07:26.422 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:07:26.422 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:07:26.423 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7516ms
2025-08-01 12:07:26.424 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:07:26.425 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:07:26.425 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:07:26.426 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:07:26.431 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:07:26.441 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:07:26.441 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:07:26.442 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 16.0952ms
2025-08-01 12:07:26.442 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:07:26.442 +05:30 [INF] HTTP GET /api/doctor responded 200 in 17.2171 ms
2025-08-01 12:07:26.443 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 18.3086ms
2025-08-01 12:08:50.599 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:08:50.600 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:08:50.600 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6714ms
2025-08-01 12:08:50.612 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:08:50.613 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:08:50.614 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 12:08:50.615 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:08:50.616 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 4.2905ms
2025-08-01 12:08:51.563 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:08:51.563 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:08:51.564 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:08:51.564 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:08:51.564 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.1274ms
2025-08-01 12:08:52.378 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:08:52.378 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:08:52.378 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7064ms
2025-08-01 12:08:52.381 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:08:52.381 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:08:52.381 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:08:52.382 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:08:52.394 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:08:52.947 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:08:52.947 +05:30 [INF] Role: Admin
2025-08-01 12:08:52.947 +05:30 [INF] Role: Admin
2025-08-01 12:08:52.947 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:08:52.952 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:08:52.952 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:08:52.952 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 570.7298ms
2025-08-01 12:08:52.953 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:08:52.953 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 571.3210 ms
2025-08-01 12:08:52.953 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 572.0769ms
2025-08-01 12:08:52.958 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:08:52.958 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:08:52.958 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6509ms
2025-08-01 12:08:52.960 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:08:52.960 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:08:52.961 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:08:52.961 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:08:52.961 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:08:52.963 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:08:52.967 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:08:52.967 +05:30 [INF] Found 1 users among search
2025-08-01 12:08:52.968 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:08:52.969 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.9381ms
2025-08-01 12:08:52.970 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:08:52.970 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.4075 ms
2025-08-01 12:08:52.971 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 508 application/json; charset=utf-8 10.508ms
2025-08-01 12:08:53.003 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:08:53.004 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:08:53.005 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.3198ms
2025-08-01 12:08:53.007 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:08:53.008 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:08:53.009 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:08:53.009 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:08:53.010 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:08:53.012 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:08:53.014 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:08:53.014 +05:30 [INF] Found 1 users among search
2025-08-01 12:08:53.014 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:08:53.015 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.0126ms
2025-08-01 12:08:53.015 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:08:53.015 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.0727 ms
2025-08-01 12:08:53.015 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 508 application/json; charset=utf-8 7.8305ms
2025-08-01 12:08:54.502 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:08:54.503 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:08:54.505 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:08:54.505 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:08:54.516 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:08:54.520 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:08:54.520 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:08:54.521 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 15.3481ms
2025-08-01 12:08:54.521 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:08:54.521 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 16.6169 ms
2025-08-01 12:08:54.521 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 18.9064ms
2025-08-01 12:08:55.838 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:08:55.838 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:08:55.839 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.7909ms
2025-08-01 12:08:55.841 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:08:55.841 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:08:55.842 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:08:55.842 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:08:55.843 +05:30 [INF] Fetching all patients
2025-08-01 12:08:55.846 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:08:55.847 +05:30 [INF] Returned 10 patients
2025-08-01 12:08:55.847 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:08:55.848 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.356ms
2025-08-01 12:08:55.848 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:08:55.848 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.5500 ms
2025-08-01 12:08:55.848 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.5834ms
2025-08-01 12:08:55.883 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:08:55.883 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:08:55.884 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7012ms
2025-08-01 12:08:55.886 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:08:55.887 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:08:55.889 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:08:55.889 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:08:55.894 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:08:55.897 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:08:55.897 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:08:55.898 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.4967ms
2025-08-01 12:08:55.898 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:08:55.898 +05:30 [INF] HTTP GET /api/doctor responded 200 in 10.0189 ms
2025-08-01 12:08:55.899 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 12.542ms
2025-08-01 12:09:09.948 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:09:09.949 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:09:09.949 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8605ms
2025-08-01 12:09:09.956 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:09:09.958 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:09:09.961 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 12:09:09.962 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:09:09.964 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 7.6623ms
2025-08-01 12:09:10.876 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:09:10.876 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:09:10.877 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:09:10.877 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:09:10.877 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.9285ms
2025-08-01 12:09:11.385 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:09:11.385 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:09:11.386 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.3437ms
2025-08-01 12:09:11.388 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:09:11.388 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:09:11.388 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:09:11.389 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:09:11.391 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:09:12.145 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:09:12.146 +05:30 [INF] Role: Admin
2025-08-01 12:09:12.146 +05:30 [INF] Role: Admin
2025-08-01 12:09:12.146 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:09:12.151 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:09:12.151 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:09:12.152 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 762.6928ms
2025-08-01 12:09:12.152 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:09:12.152 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 763.6343 ms
2025-08-01 12:09:12.152 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 764.7457ms
2025-08-01 12:09:12.158 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:09:12.158 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:09:12.158 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6027ms
2025-08-01 12:09:12.160 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:09:12.161 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:09:12.161 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:09:12.161 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:09:12.162 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:09:12.164 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:09:12.167 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:09:12.167 +05:30 [INF] Found 1 users among search
2025-08-01 12:09:12.167 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:09:12.168 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.1162ms
2025-08-01 12:09:12.168 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:09:12.170 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.8783 ms
2025-08-01 12:09:12.171 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 10.2903ms
2025-08-01 12:09:12.191 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:09:12.192 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:09:12.192 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.7776ms
2025-08-01 12:09:12.196 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:09:12.196 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:09:12.196 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:09:12.196 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:09:12.197 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:09:12.198 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:09:12.200 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:09:12.200 +05:30 [INF] Found 1 users among search
2025-08-01 12:09:12.200 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:09:12.201 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.0577ms
2025-08-01 12:09:12.201 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:09:12.201 +05:30 [INF] HTTP GET /api/user/search responded 200 in 4.8804 ms
2025-08-01 12:09:12.201 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 5.6482ms
2025-08-01 12:09:13.159 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:09:13.159 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:09:13.160 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:09:13.160 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:09:13.162 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:09:13.164 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:09:13.166 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:09:13.167 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 6.5336ms
2025-08-01 12:09:13.167 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:09:13.168 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 8.4401 ms
2025-08-01 12:09:13.168 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 9.5681ms
2025-08-01 12:09:14.074 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:09:14.075 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:09:14.075 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6725ms
2025-08-01 12:09:14.077 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:09:14.078 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:09:14.078 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:09:14.079 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:09:14.079 +05:30 [INF] Fetching all patients
2025-08-01 12:09:14.081 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:09:14.082 +05:30 [INF] Returned 10 patients
2025-08-01 12:09:14.082 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:09:14.083 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.5708ms
2025-08-01 12:09:14.083 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:09:14.083 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.1368 ms
2025-08-01 12:09:14.084 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 6.737ms
2025-08-01 12:09:14.113 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:09:14.113 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:09:14.114 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.847ms
2025-08-01 12:09:14.116 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:09:14.116 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:09:14.116 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:09:14.117 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:09:14.118 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:09:14.119 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:09:14.120 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:09:14.121 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 4.7935ms
2025-08-01 12:09:14.122 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:09:14.123 +05:30 [INF] HTTP GET /api/doctor responded 200 in 6.6195 ms
2025-08-01 12:09:14.123 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 7.7147ms
2025-08-01 12:10:56.634 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:10:56.636 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:10:56.636 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.2349ms
2025-08-01 12:10:56.660 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:10:56.660 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:10:56.661 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 12:10:56.662 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:10:56.662 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.8389ms
2025-08-01 12:10:57.508 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:10:57.509 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:10:57.509 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:10:57.509 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:10:57.509 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.8714ms
2025-08-01 12:10:58.170 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:10:58.171 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:10:58.171 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5464ms
2025-08-01 12:10:58.172 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:10:58.173 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:10:58.173 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:10:58.173 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:10:58.182 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:10:58.767 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:10:58.767 +05:30 [INF] Role: Admin
2025-08-01 12:10:58.767 +05:30 [INF] Role: Admin
2025-08-01 12:10:58.768 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:10:58.775 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:10:58.776 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:10:58.776 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 602.6965ms
2025-08-01 12:10:58.776 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:10:58.776 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 603.5546 ms
2025-08-01 12:10:58.777 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 604.3203ms
2025-08-01 12:10:58.782 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:10:58.782 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:10:58.783 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.877ms
2025-08-01 12:10:58.785 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:10:58.785 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:10:58.785 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:10:58.786 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:10:58.786 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:10:58.788 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:10:58.792 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:10:58.793 +05:30 [INF] Found 1 users among search
2025-08-01 12:10:58.794 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:10:58.795 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.5844ms
2025-08-01 12:10:58.795 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:10:58.795 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.9228 ms
2025-08-01 12:10:58.796 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 10.9304ms
2025-08-01 12:10:58.823 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:10:58.823 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:10:58.824 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.4248ms
2025-08-01 12:10:58.828 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:10:58.829 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:10:58.829 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:10:58.829 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:10:58.830 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:10:58.831 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:10:58.833 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:10:58.833 +05:30 [INF] Found 1 users among search
2025-08-01 12:10:58.833 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:10:58.834 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.0577ms
2025-08-01 12:10:58.834 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:10:58.834 +05:30 [INF] HTTP GET /api/user/search responded 200 in 4.9605 ms
2025-08-01 12:10:58.834 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 5.8689ms
2025-08-01 12:10:59.793 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:10:59.793 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:10:59.794 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:10:59.795 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:10:59.806 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:10:59.809 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:10:59.809 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:10:59.810 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 13.9455ms
2025-08-01 12:10:59.815 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:10:59.821 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 20.7522 ms
2025-08-01 12:10:59.821 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 28.3172ms
2025-08-01 12:11:01.575 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:11:01.576 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:11:01.576 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 1.48ms
2025-08-01 12:11:01.578 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:11:01.579 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:11:01.579 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:11:01.579 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:11:01.580 +05:30 [INF] Fetching all patients
2025-08-01 12:11:01.583 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:11:01.583 +05:30 [INF] Returned 10 patients
2025-08-01 12:11:01.584 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:11:01.584 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.3823ms
2025-08-01 12:11:01.584 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:11:01.585 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.4127 ms
2025-08-01 12:11:01.585 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 6.3612ms
2025-08-01 12:11:01.619 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:11:01.620 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:11:01.620 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7026ms
2025-08-01 12:11:01.622 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:11:01.622 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:11:01.622 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:11:01.623 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:11:01.627 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:11:01.632 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:11:01.632 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:11:01.632 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 9.5735ms
2025-08-01 12:11:01.633 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:11:01.633 +05:30 [INF] HTTP GET /api/doctor responded 200 in 10.3870 ms
2025-08-01 12:11:01.633 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.182ms
2025-08-01 12:11:55.335 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:11:55.400 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:11:55.416 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 80.4046ms
2025-08-01 12:11:55.465 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:11:55.466 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:11:55.466 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 12:11:55.467 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:11:55.467 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.8536ms
2025-08-01 12:11:56.134 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:11:56.136 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:11:56.136 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:11:56.137 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:11:56.138 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 3.2584ms
2025-08-01 12:11:57.217 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:11:57.218 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:11:57.219 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.8164ms
2025-08-01 12:11:57.221 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:11:57.222 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:11:57.222 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:11:57.223 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:11:57.230 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:11:57.801 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:11:57.802 +05:30 [INF] Role: Admin
2025-08-01 12:11:57.802 +05:30 [INF] Role: Admin
2025-08-01 12:11:57.802 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:11:57.808 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:11:57.809 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:11:57.809 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 586.5196ms
2025-08-01 12:11:57.810 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:11:57.810 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 587.5741 ms
2025-08-01 12:11:57.810 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 588.5599ms
2025-08-01 12:11:57.814 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:11:57.815 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:11:57.815 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.5672ms
2025-08-01 12:11:57.817 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:11:57.817 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:11:57.817 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:11:57.818 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:11:57.818 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:11:57.820 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:11:57.823 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:11:57.824 +05:30 [INF] Found 1 users among search
2025-08-01 12:11:57.824 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:11:57.824 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.1682ms
2025-08-01 12:11:57.825 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:11:57.825 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.6415 ms
2025-08-01 12:11:57.825 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 8.6538ms
2025-08-01 12:11:57.848 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:11:57.848 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:11:57.849 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.2512ms
2025-08-01 12:11:57.854 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:11:57.854 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:11:57.855 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:11:57.855 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:11:57.856 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:11:57.858 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:11:57.859 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:11:57.860 +05:30 [INF] Found 1 users among search
2025-08-01 12:11:57.860 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:11:57.860 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.0036ms
2025-08-01 12:11:57.861 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:11:57.861 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.3000 ms
2025-08-01 12:11:57.862 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 7.6857ms
2025-08-01 12:11:58.921 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:11:58.922 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:11:58.928 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:11:58.929 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:11:58.938 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:11:58.940 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:11:58.940 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:11:58.941 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 10.6784ms
2025-08-01 12:11:58.941 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:11:58.941 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 12.7238 ms
2025-08-01 12:11:58.941 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 20.033ms
2025-08-01 12:12:00.085 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:12:00.085 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:00.085 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6194ms
2025-08-01 12:12:00.087 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:12:00.087 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:00.088 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:12:00.088 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:12:00.089 +05:30 [INF] Fetching all patients
2025-08-01 12:12:00.092 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:12:00.092 +05:30 [INF] Returned 10 patients
2025-08-01 12:12:00.093 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:12:00.093 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.8434ms
2025-08-01 12:12:00.094 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:12:00.094 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.4326 ms
2025-08-01 12:12:00.095 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.5657ms
2025-08-01 12:12:00.126 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:12:00.126 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:00.127 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7114ms
2025-08-01 12:12:00.130 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:12:00.130 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:00.131 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:12:00.131 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:12:00.139 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:12:00.141 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:12:00.142 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:12:00.142 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 10.3292ms
2025-08-01 12:12:00.142 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:12:00.142 +05:30 [INF] HTTP GET /api/doctor responded 200 in 11.2571 ms
2025-08-01 12:12:00.143 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 12.8074ms
2025-08-01 12:12:43.195 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:12:43.201 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:43.201 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 6.606ms
2025-08-01 12:12:43.225 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:12:43.225 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:43.228 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 12:12:43.228 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:12:43.229 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.9641ms
2025-08-01 12:12:43.755 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:12:43.755 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:43.756 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:12:43.756 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:12:43.756 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.3578ms
2025-08-01 12:12:46.152 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:12:46.152 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:46.152 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.605ms
2025-08-01 12:12:46.154 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:12:46.154 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:46.154 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:12:46.155 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:12:46.156 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:12:46.745 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:12:46.746 +05:30 [INF] Role: Admin
2025-08-01 12:12:46.746 +05:30 [INF] Role: Admin
2025-08-01 12:12:46.746 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:12:46.751 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:12:46.751 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:12:46.751 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 596.5116ms
2025-08-01 12:12:46.751 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:12:46.752 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 597.3227 ms
2025-08-01 12:12:46.752 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 598.272ms
2025-08-01 12:12:46.757 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:12:46.757 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:46.757 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.5658ms
2025-08-01 12:12:46.759 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:12:46.759 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:46.760 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:12:46.760 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:12:46.760 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:12:46.762 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:12:46.764 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:12:46.771 +05:30 [INF] Found 1 users among search
2025-08-01 12:12:46.771 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:12:46.772 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 11.6856ms
2025-08-01 12:12:46.772 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:12:46.772 +05:30 [INF] HTTP GET /api/user/search responded 200 in 12.6989 ms
2025-08-01 12:12:46.773 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 13.6544ms
2025-08-01 12:12:46.799 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:12:46.802 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:46.802 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.7826ms
2025-08-01 12:12:46.808 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:12:46.808 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:46.809 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:12:46.809 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:12:46.811 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:12:46.812 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:12:46.815 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:12:46.815 +05:30 [INF] Found 1 users among search
2025-08-01 12:12:46.815 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:12:46.815 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.2187ms
2025-08-01 12:12:46.816 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:12:46.816 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.9316 ms
2025-08-01 12:12:46.816 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 7.9764ms
2025-08-01 12:12:47.757 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:12:47.757 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:47.758 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:12:47.758 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:12:47.761 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:12:47.764 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:12:47.764 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:12:47.765 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 6.8483ms
2025-08-01 12:12:47.766 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:12:47.767 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 8.6942 ms
2025-08-01 12:12:47.767 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 9.9641ms
2025-08-01 12:12:48.916 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:12:48.917 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:48.917 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6755ms
2025-08-01 12:12:48.919 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:12:48.920 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:48.921 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:12:48.921 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:12:48.921 +05:30 [INF] Fetching all patients
2025-08-01 12:12:48.923 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:12:48.924 +05:30 [INF] Returned 10 patients
2025-08-01 12:12:48.924 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:12:48.925 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.5479ms
2025-08-01 12:12:48.925 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:12:48.926 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.4139 ms
2025-08-01 12:12:48.926 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.0905ms
2025-08-01 12:12:48.965 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:12:48.965 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:48.966 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.5277ms
2025-08-01 12:12:48.968 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:12:48.969 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:48.969 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:12:48.969 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:12:48.971 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:12:48.973 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:12:48.973 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:12:48.974 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 3.941ms
2025-08-01 12:12:48.974 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:12:48.974 +05:30 [INF] HTTP GET /api/doctor responded 200 in 4.9624 ms
2025-08-01 12:12:48.974 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 5.9438ms
2025-08-01 12:12:58.347 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:12:58.348 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:58.348 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5919ms
2025-08-01 12:12:58.350 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:12:58.351 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:58.352 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:12:58.353 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:12:58.353 +05:30 [INF] Fetching all patients
2025-08-01 12:12:58.369 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:12:58.370 +05:30 [INF] Returned 10 patients
2025-08-01 12:12:58.370 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:12:58.370 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 17.1289ms
2025-08-01 12:12:58.370 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:12:58.371 +05:30 [INF] HTTP GET /api/patient responded 200 in 18.1527 ms
2025-08-01 12:12:58.371 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 20.6882ms
2025-08-01 12:12:58.382 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:12:58.383 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:58.384 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 2.1611ms
2025-08-01 12:12:58.386 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:12:58.387 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:12:58.387 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:12:58.387 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:12:58.391 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:12:58.394 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:12:58.395 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:12:58.395 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.3854ms
2025-08-01 12:12:58.395 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:12:58.395 +05:30 [INF] HTTP GET /api/doctor responded 200 in 8.3381 ms
2025-08-01 12:12:58.396 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 9.271ms
2025-08-01 12:13:24.575 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:13:24.576 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:13:24.577 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.9394ms
2025-08-01 12:13:24.583 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:13:24.584 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:13:24.584 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 12:13:24.584 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:13:24.585 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.5547ms
2025-08-01 12:13:30.246 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:13:30.246 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:13:30.246 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:13:30.246 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:13:30.246 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.8174ms
2025-08-01 12:13:30.905 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:13:30.905 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:13:30.906 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.482ms
2025-08-01 12:13:30.907 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:13:30.907 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:13:30.907 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:13:30.908 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:13:30.922 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:13:31.510 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:13:31.510 +05:30 [INF] Role: Admin
2025-08-01 12:13:31.510 +05:30 [INF] Role: Admin
2025-08-01 12:13:31.511 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:13:31.517 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:13:31.518 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:13:31.518 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 610.6356ms
2025-08-01 12:13:31.518 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:13:31.519 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 611.3770 ms
2025-08-01 12:13:31.519 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 612.1009ms
2025-08-01 12:13:31.523 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:13:31.523 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:13:31.524 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6496ms
2025-08-01 12:13:31.526 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:13:31.526 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:13:31.526 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:13:31.526 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:13:31.527 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:13:31.529 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:13:31.532 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:13:31.533 +05:30 [INF] Found 1 users among search
2025-08-01 12:13:31.533 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:13:31.533 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.6193ms
2025-08-01 12:13:31.534 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:13:31.535 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.4956 ms
2025-08-01 12:13:31.535 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 508 application/json; charset=utf-8 9.598ms
2025-08-01 12:13:31.556 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:13:31.557 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:13:31.559 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.1474ms
2025-08-01 12:13:31.561 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:13:31.562 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:13:31.562 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:13:31.562 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:13:31.563 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:13:31.564 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:13:31.568 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:13:31.568 +05:30 [INF] Found 1 users among search
2025-08-01 12:13:31.568 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:13:31.569 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.3265ms
2025-08-01 12:13:31.569 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:13:31.569 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.1536 ms
2025-08-01 12:13:31.569 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 508 application/json; charset=utf-8 7.8491ms
2025-08-01 12:13:32.687 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:13:32.687 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:13:32.688 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7481ms
2025-08-01 12:13:32.690 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:13:32.690 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:13:32.691 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:13:32.691 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:13:32.702 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:13:32.706 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:13:32.706 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:13:32.706 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 15.2797ms
2025-08-01 12:13:32.707 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:13:32.707 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 16.3399 ms
2025-08-01 12:13:32.707 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 17.7907ms
2025-08-01 12:13:33.552 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:13:33.552 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:13:33.552 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5416ms
2025-08-01 12:13:33.554 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:13:33.555 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:13:33.555 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:13:33.555 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:13:33.556 +05:30 [INF] Fetching all patients
2025-08-01 12:13:33.611 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:13:33.612 +05:30 [INF] Returned 10 patients
2025-08-01 12:13:33.612 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:13:33.613 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 57.0131ms
2025-08-01 12:13:33.613 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:13:33.613 +05:30 [INF] HTTP GET /api/patient responded 200 in 58.3409 ms
2025-08-01 12:13:33.614 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 59.2281ms
2025-08-01 12:13:33.627 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:13:33.627 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:13:33.627 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7713ms
2025-08-01 12:13:33.629 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:13:33.630 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:13:33.630 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:13:33.631 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:13:33.646 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:13:33.650 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:13:33.651 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:13:33.651 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 20.506ms
2025-08-01 12:13:33.652 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:13:33.652 +05:30 [INF] HTTP GET /api/doctor responded 200 in 21.4953 ms
2025-08-01 12:13:33.652 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 22.6347ms
2025-08-01 12:14:10.682 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:14:10.683 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:10.685 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.451ms
2025-08-01 12:14:10.707 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:14:10.708 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:10.709 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 12:14:10.710 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:14:10.711 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.5092ms
2025-08-01 12:14:11.913 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:14:11.913 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:11.914 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:14:11.914 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:14:11.914 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.0896ms
2025-08-01 12:14:12.876 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:14:12.877 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:12.877 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.2835ms
2025-08-01 12:14:12.880 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:14:12.881 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:12.882 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:14:12.882 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:14:12.936 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:14:13.545 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:14:13.545 +05:30 [INF] Role: Admin
2025-08-01 12:14:13.546 +05:30 [INF] Role: Admin
2025-08-01 12:14:13.546 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:14:13.553 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:14:13.553 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:14:13.554 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 671.5394ms
2025-08-01 12:14:13.554 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:14:13.554 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 673.0047 ms
2025-08-01 12:14:13.555 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 674.5241ms
2025-08-01 12:14:13.558 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:14:13.559 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:13.559 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7108ms
2025-08-01 12:14:13.561 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:14:13.561 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:13.562 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:14:13.562 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:14:13.563 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:14:13.564 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:14:13.566 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:14:13.567 +05:30 [INF] Found 1 users among search
2025-08-01 12:14:13.569 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:14:13.569 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.1884ms
2025-08-01 12:14:13.570 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:14:13.570 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.8524 ms
2025-08-01 12:14:13.571 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 9.9523ms
2025-08-01 12:14:13.596 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:14:13.597 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:13.597 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.0109ms
2025-08-01 12:14:13.600 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:14:13.601 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:13.602 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:14:13.602 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:14:13.603 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:14:13.605 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:14:13.606 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:14:13.606 +05:30 [INF] Found 1 users among search
2025-08-01 12:14:13.607 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:14:13.607 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.0397ms
2025-08-01 12:14:13.607 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:14:13.607 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.1211 ms
2025-08-01 12:14:13.607 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 6.9476ms
2025-08-01 12:14:14.724 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:14:14.724 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:14.725 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:14:14.725 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:14:14.732 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:14:14.736 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:14:14.737 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:14:14.737 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 11.6088ms
2025-08-01 12:14:14.737 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:14:14.737 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 12.4177 ms
2025-08-01 12:14:14.737 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 13.4915ms
2025-08-01 12:14:18.457 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=1&pageSize=10&patientName=Jane%20Smith&doctorName=Dr.%20Emily%20Johnson&appointmentDate=2025-01-21T14:30:00&reason=Skin%20Consultation&status=Scheduled&notes=Rash%20on%20arm - null null
2025-08-01 12:14:18.458 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:18.458 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=1&pageSize=10&patientName=Jane%20Smith&doctorName=Dr.%20Emily%20Johnson&appointmentDate=2025-01-21T14:30:00&reason=Skin%20Consultation&status=Scheduled&notes=Rash%20on%20arm - 204 null null 0.6712ms
2025-08-01 12:14:18.460 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=1&pageSize=10&patientName=Jane%20Smith&doctorName=Dr.%20Emily%20Johnson&appointmentDate=2025-01-21T14:30:00&reason=Skin%20Consultation&status=Scheduled&notes=Rash%20on%20arm - null null
2025-08-01 12:14:18.460 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:18.460 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 12:14:18.461 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:14:18.463 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:14:18.464 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:14:18.465 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:14:18.465 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 4.1973ms
2025-08-01 12:14:18.465 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 12:14:18.466 +05:30 [INF] HTTP GET /api/appointment responded 200 in 5.2304 ms
2025-08-01 12:14:18.466 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=1&pageSize=10&patientName=Jane%20Smith&doctorName=Dr.%20Emily%20Johnson&appointmentDate=2025-01-21T14:30:00&reason=Skin%20Consultation&status=Scheduled&notes=Rash%20on%20arm - 200 2045 application/json; charset=utf-8 6.3561ms
2025-08-01 12:14:18.470 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/2 - null null
2025-08-01 12:14:18.471 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:18.471 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/2 - 204 null null 0.6402ms
2025-08-01 12:14:18.473 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5122/api/appointment/2 - null null
2025-08-01 12:14:18.473 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:18.474 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Delete (HealthcareApi)'
2025-08-01 12:14:18.479 +05:30 [INF] Route matched with {action = "Delete", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:14:18.483 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive]
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit) AND [a].[AppointmentID] = @__id_0
2025-08-01 12:14:18.491 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointment] SET [AppointmentDate] = @p0, [CreatedAt] = @p1, [DoctorID] = @p2, [ModifiedAt] = @p3, [Notes] = @p4, [PatientID] = @p5, [Reason] = @p6, [Status] = @p7, [isActive] = @p8
OUTPUT 1
WHERE [AppointmentID] = @p9;
2025-08-01 12:14:18.505 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-01 12:14:18.505 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Delete (HealthcareApi) in 25.5999ms
2025-08-01 12:14:18.506 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Delete (HealthcareApi)'
2025-08-01 12:14:18.506 +05:30 [INF] HTTP DELETE /api/appointment/2 responded 204 in 31.7975 ms
2025-08-01 12:14:18.506 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5122/api/appointment/2 - 204 null null 33.1502ms
2025-08-01 12:14:18.521 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:14:18.521 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:18.522 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7937ms
2025-08-01 12:14:18.524 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:14:18.524 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:18.524 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:14:18.525 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:14:18.527 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:14:18.528 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:14:18.529 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:14:18.529 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.3577ms
2025-08-01 12:14:18.530 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:14:18.530 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 5.9339 ms
2025-08-01 12:14:18.531 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 7.0643ms
2025-08-01 12:14:20.093 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:14:20.093 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:20.093 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.9113ms
2025-08-01 12:14:20.096 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:14:20.096 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:20.097 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:14:20.097 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:14:20.098 +05:30 [INF] Fetching all patients
2025-08-01 12:14:20.101 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:14:20.102 +05:30 [INF] Returned 10 patients
2025-08-01 12:14:20.102 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:14:20.103 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.2094ms
2025-08-01 12:14:20.103 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:14:20.104 +05:30 [INF] HTTP GET /api/patient responded 200 in 7.1276 ms
2025-08-01 12:14:20.105 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.8862ms
2025-08-01 12:14:20.135 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:14:20.136 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:20.136 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7973ms
2025-08-01 12:14:20.139 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:14:20.140 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:20.140 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:14:20.141 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:14:20.144 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:14:20.147 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:14:20.149 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:14:20.150 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 9.4611ms
2025-08-01 12:14:20.152 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:14:20.153 +05:30 [INF] HTTP GET /api/doctor responded 200 in 12.4634 ms
2025-08-01 12:14:20.154 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 14.0892ms
2025-08-01 12:14:32.108 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=1&pageSize=10&patientName=Ruby%20Johnson&doctorName=Dr.%20Sarah%20Brown&appointmentDate=2025-01-23T15:00:00&reason=Vaccination&status=Scheduled&notes=Annual%20flu%20shot - null null
2025-08-01 12:14:32.108 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:32.109 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=1&pageSize=10&patientName=Ruby%20Johnson&doctorName=Dr.%20Sarah%20Brown&appointmentDate=2025-01-23T15:00:00&reason=Vaccination&status=Scheduled&notes=Annual%20flu%20shot - 204 null null 0.736ms
2025-08-01 12:14:32.110 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=1&pageSize=10&patientName=Ruby%20Johnson&doctorName=Dr.%20Sarah%20Brown&appointmentDate=2025-01-23T15:00:00&reason=Vaccination&status=Scheduled&notes=Annual%20flu%20shot - null null
2025-08-01 12:14:32.111 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:32.111 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 12:14:32.112 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:14:32.114 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:14:32.115 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:14:32.115 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:14:32.116 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 3.8393ms
2025-08-01 12:14:32.116 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 12:14:32.116 +05:30 [INF] HTTP GET /api/appointment responded 200 in 4.9452 ms
2025-08-01 12:14:32.116 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=1&pageSize=10&patientName=Ruby%20Johnson&doctorName=Dr.%20Sarah%20Brown&appointmentDate=2025-01-23T15:00:00&reason=Vaccination&status=Scheduled&notes=Annual%20flu%20shot - 200 2036 application/json; charset=utf-8 5.9566ms
2025-08-01 12:14:32.121 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/4 - null null
2025-08-01 12:14:32.121 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:32.122 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/4 - 204 null null 0.6049ms
2025-08-01 12:14:32.123 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/appointment/4 - application/json-patch+json 412
2025-08-01 12:14:32.124 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:32.124 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 12:14:32.125 +05:30 [INF] Route matched with {action = "Patch", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:14:32.127 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive]
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit) AND [a].[AppointmentID] = @__id_0
2025-08-01 12:14:32.134 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointment] SET [AppointmentDate] = @p0, [CreatedAt] = @p1, [DoctorID] = @p2, [ModifiedAt] = @p3, [Notes] = @p4, [PatientID] = @p5, [Reason] = @p6, [Status] = @p7, [isActive] = @p8
OUTPUT 1
WHERE [AppointmentID] = @p9;
2025-08-01 12:14:32.190 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-01 12:14:32.191 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi) in 65.8799ms
2025-08-01 12:14:32.191 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 12:14:32.191 +05:30 [INF] HTTP PATCH /api/appointment/4 responded 204 in 66.7274 ms
2025-08-01 12:14:32.191 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/appointment/4 - 204 null null 67.7053ms
2025-08-01 12:14:32.204 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:14:32.205 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:32.205 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7452ms
2025-08-01 12:14:32.207 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:14:32.207 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:32.207 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:14:32.208 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:14:32.209 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:14:32.211 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:14:32.211 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:14:32.212 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 3.9196ms
2025-08-01 12:14:32.212 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:14:32.212 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 4.8512 ms
2025-08-01 12:14:32.212 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 5.7898ms
2025-08-01 12:14:55.514 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:14:55.514 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:55.514 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.7373ms
2025-08-01 12:14:55.516 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:14:55.517 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:55.517 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:14:55.517 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:14:55.518 +05:30 [INF] Fetching all patients
2025-08-01 12:14:55.521 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:14:55.521 +05:30 [INF] Returned 10 patients
2025-08-01 12:14:55.522 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:14:55.523 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.8108ms
2025-08-01 12:14:55.523 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:14:55.523 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.3133 ms
2025-08-01 12:14:55.524 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.379ms
2025-08-01 12:14:55.544 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:14:55.545 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:55.546 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 2.9025ms
2025-08-01 12:14:55.552 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:14:55.553 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:55.555 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:14:55.556 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:14:55.566 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:14:55.571 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:14:55.573 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:14:55.573 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 13.1538ms
2025-08-01 12:14:55.574 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:14:55.574 +05:30 [INF] HTTP GET /api/doctor responded 200 in 21.2479 ms
2025-08-01 12:14:55.575 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 22.7683ms
2025-08-01 12:14:59.692 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:14:59.692 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:59.693 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:14:59.693 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:14:59.693 +05:30 [INF] Fetching all patients
2025-08-01 12:14:59.695 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:14:59.696 +05:30 [INF] Returned 10 patients
2025-08-01 12:14:59.697 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:14:59.697 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.1352ms
2025-08-01 12:14:59.698 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:14:59.698 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.3101 ms
2025-08-01 12:14:59.699 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 6.5095ms
2025-08-01 12:14:59.712 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:14:59.712 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:14:59.713 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:14:59.713 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:14:59.714 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:14:59.716 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:14:59.716 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:14:59.716 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 3.3642ms
2025-08-01 12:14:59.717 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:14:59.717 +05:30 [INF] HTTP GET /api/doctor responded 200 in 4.2321 ms
2025-08-01 12:14:59.717 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 5.153ms
2025-08-01 12:17:04.590 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:17:04.591 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:04.591 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8374ms
2025-08-01 12:17:04.593 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:17:04.593 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:04.593 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 12:17:04.594 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:17:04.594 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 0.7714ms
2025-08-01 12:17:05.842 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:17:05.842 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:05.842 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:17:05.842 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:17:05.842 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.6235ms
2025-08-01 12:17:06.572 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:17:06.572 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:06.573 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.4801ms
2025-08-01 12:17:06.574 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:17:06.574 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:06.574 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:17:06.575 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:17:06.594 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:17:07.180 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:17:07.180 +05:30 [INF] Role: Admin
2025-08-01 12:17:07.180 +05:30 [INF] Role: Admin
2025-08-01 12:17:07.181 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:17:07.187 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:17:07.187 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:17:07.188 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 613.1137ms
2025-08-01 12:17:07.188 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:17:07.188 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 614.0209 ms
2025-08-01 12:17:07.189 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 614.7875ms
2025-08-01 12:17:07.192 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:17:07.193 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:07.193 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7342ms
2025-08-01 12:17:07.195 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:17:07.195 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:07.196 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:17:07.196 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:17:07.197 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:17:07.199 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:17:07.202 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:17:07.203 +05:30 [INF] Found 1 users among search
2025-08-01 12:17:07.204 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:17:07.206 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.6752ms
2025-08-01 12:17:07.206 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:17:07.208 +05:30 [INF] HTTP GET /api/user/search responded 200 in 12.3661 ms
2025-08-01 12:17:07.209 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 13.8412ms
2025-08-01 12:17:07.216 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:17:07.217 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:07.217 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.7779ms
2025-08-01 12:17:07.219 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:17:07.219 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:07.220 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:17:07.220 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:17:07.221 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:17:07.224 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:17:07.226 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:17:07.226 +05:30 [INF] Found 1 users among search
2025-08-01 12:17:07.226 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:17:07.227 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.1813ms
2025-08-01 12:17:07.228 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:17:07.228 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.2956 ms
2025-08-01 12:17:07.229 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 9.63ms
2025-08-01 12:17:08.472 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:17:08.472 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:08.473 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:17:08.473 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:17:08.482 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:17:08.486 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:17:08.487 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:17:08.488 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 14.6502ms
2025-08-01 12:17:08.488 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:17:08.489 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 15.9154 ms
2025-08-01 12:17:08.489 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 16.9029ms
2025-08-01 12:17:09.620 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:17:09.621 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:09.621 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.7358ms
2025-08-01 12:17:09.623 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:17:09.623 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:09.624 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:17:09.624 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:17:09.624 +05:30 [INF] Fetching all patients
2025-08-01 12:17:09.628 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:17:09.629 +05:30 [INF] Returned 10 patients
2025-08-01 12:17:09.629 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:17:09.630 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.7558ms
2025-08-01 12:17:09.630 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:17:09.630 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.5669 ms
2025-08-01 12:17:09.630 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.4111ms
2025-08-01 12:17:09.645 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:17:09.645 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:09.646 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.1441ms
2025-08-01 12:17:09.648 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:17:09.649 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:09.649 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:17:09.650 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:17:09.656 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:17:09.660 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:17:09.661 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:17:09.661 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 11.2289ms
2025-08-01 12:17:09.661 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:17:09.662 +05:30 [INF] HTTP GET /api/doctor responded 200 in 12.6180 ms
2025-08-01 12:17:09.662 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 13.6847ms
2025-08-01 12:17:17.376 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=1&pageSize=10&patientName=John%20Doe&doctorName=Dr.%20John%20Smith&appointmentDate=2025-01-20T10:00:00&reason=Regular%20Checkup&status=Scheduled&notes=Patient%20reports%20feeling%20well - null null
2025-08-01 12:17:17.376 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:17.377 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment?pageNumber=1&pageSize=10&patientName=John%20Doe&doctorName=Dr.%20John%20Smith&appointmentDate=2025-01-20T10:00:00&reason=Regular%20Checkup&status=Scheduled&notes=Patient%20reports%20feeling%20well - 204 null null 0.8098ms
2025-08-01 12:17:17.378 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=1&pageSize=10&patientName=John%20Doe&doctorName=Dr.%20John%20Smith&appointmentDate=2025-01-20T10:00:00&reason=Regular%20Checkup&status=Scheduled&notes=Patient%20reports%20feeling%20well - null null
2025-08-01 12:17:17.379 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:17.380 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 12:17:17.381 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:17:17.384 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:17:17.385 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:17:17.385 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:17:17.386 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 4.2736ms
2025-08-01 12:17:17.386 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-08-01 12:17:17.387 +05:30 [INF] HTTP GET /api/appointment responded 200 in 6.4817 ms
2025-08-01 12:17:17.387 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=1&pageSize=10&patientName=John%20Doe&doctorName=Dr.%20John%20Smith&appointmentDate=2025-01-20T10:00:00&reason=Regular%20Checkup&status=Scheduled&notes=Patient%20reports%20feeling%20well - 200 2036 application/json; charset=utf-8 8.6424ms
2025-08-01 12:17:17.390 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/1 - null null
2025-08-01 12:17:17.390 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:17.391 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/1 - 204 null null 0.4927ms
2025-08-01 12:17:17.392 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/appointment/1 - application/json-patch+json 429
2025-08-01 12:17:17.392 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:17.393 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 12:17:17.393 +05:30 [INF] Route matched with {action = "Patch", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:17:17.398 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive]
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit) AND [a].[AppointmentID] = @__id_0
2025-08-01 12:17:17.404 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Appointment] SET [AppointmentDate] = @p0, [CreatedAt] = @p1, [DoctorID] = @p2, [ModifiedAt] = @p3, [Notes] = @p4, [PatientID] = @p5, [Reason] = @p6, [Status] = @p7, [isActive] = @p8
OUTPUT 1
WHERE [AppointmentID] = @p9;
2025-08-01 12:17:17.471 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-01 12:17:17.471 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi) in 77.8969ms
2025-08-01 12:17:17.471 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Patch (HealthcareApi)'
2025-08-01 12:17:17.472 +05:30 [INF] HTTP PATCH /api/appointment/1 responded 204 in 78.8525 ms
2025-08-01 12:17:17.472 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/appointment/1 - 204 null null 79.9544ms
2025-08-01 12:17:17.485 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:17:17.485 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:17.486 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7867ms
2025-08-01 12:17:17.488 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:17:17.488 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:17.489 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:17:17.489 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:17:17.491 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:17:17.493 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:17:17.494 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:17:17.494 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.977ms
2025-08-01 12:17:17.494 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:17:17.494 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 5.9949 ms
2025-08-01 12:17:17.495 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 7.3963ms
2025-08-01 12:17:19.572 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:17:19.573 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:19.573 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.8047ms
2025-08-01 12:17:19.575 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:17:19.575 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:19.576 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:17:19.577 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:17:19.577 +05:30 [INF] Fetching all patients
2025-08-01 12:17:19.590 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:17:19.599 +05:30 [INF] Returned 10 patients
2025-08-01 12:17:19.600 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:17:19.601 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 23.9093ms
2025-08-01 12:17:19.601 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:17:19.601 +05:30 [INF] HTTP GET /api/patient responded 200 in 25.4378 ms
2025-08-01 12:17:19.602 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 26.7458ms
2025-08-01 12:17:19.608 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:17:19.608 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:19.608 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7375ms
2025-08-01 12:17:19.610 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:17:19.611 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:19.611 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:17:19.611 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:17:19.623 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:17:19.627 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:17:19.627 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:17:19.628 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 15.9775ms
2025-08-01 12:17:19.628 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:17:19.628 +05:30 [INF] HTTP GET /api/doctor responded 200 in 16.9725 ms
2025-08-01 12:17:19.628 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 18.0363ms
2025-08-01 12:17:22.553 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:17:22.554 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:22.555 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:17:22.555 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:17:22.555 +05:30 [INF] Fetching all patients
2025-08-01 12:17:22.573 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:17:22.573 +05:30 [INF] Returned 10 patients
2025-08-01 12:17:22.574 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:17:22.574 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 18.8553ms
2025-08-01 12:17:22.574 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:17:22.574 +05:30 [INF] HTTP GET /api/patient responded 200 in 19.6933 ms
2025-08-01 12:17:22.574 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 20.9365ms
2025-08-01 12:17:22.578 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:17:22.578 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:17:22.579 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:17:22.579 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:17:22.584 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:17:22.587 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:17:22.588 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:17:22.589 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.8775ms
2025-08-01 12:17:22.589 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:17:22.589 +05:30 [INF] HTTP GET /api/doctor responded 200 in 10.5308 ms
2025-08-01 12:17:22.589 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.4722ms
2025-08-01 12:18:54.181 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:18:54.181 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:18:54.182 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6463ms
2025-08-01 12:18:54.183 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:18:54.184 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:18:54.184 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 12:18:54.184 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:18:54.184 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 0.6781ms
2025-08-01 12:18:54.914 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:18:54.914 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:18:54.914 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:18:54.915 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:18:54.915 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.3336ms
2025-08-01 12:18:55.624 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:18:55.624 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:18:55.624 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5173ms
2025-08-01 12:18:55.626 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:18:55.626 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:18:55.626 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:18:55.626 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:18:55.639 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:18:56.208 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:18:56.209 +05:30 [INF] Role: Admin
2025-08-01 12:18:56.209 +05:30 [INF] Role: Admin
2025-08-01 12:18:56.209 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:18:56.216 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:18:56.216 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:18:56.216 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 589.9618ms
2025-08-01 12:18:56.217 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:18:56.217 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 590.8126 ms
2025-08-01 12:18:56.217 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 591.3992ms
2025-08-01 12:18:56.220 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:18:56.221 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:18:56.221 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.4095ms
2025-08-01 12:18:56.222 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:18:56.223 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:18:56.223 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:18:56.223 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:18:56.224 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:18:56.226 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:18:56.229 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:18:56.229 +05:30 [INF] Found 1 users among search
2025-08-01 12:18:56.229 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:18:56.230 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.3038ms
2025-08-01 12:18:56.230 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:18:56.230 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.3662 ms
2025-08-01 12:18:56.231 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 8.3643ms
2025-08-01 12:18:56.244 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:18:56.245 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:18:56.245 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.1576ms
2025-08-01 12:18:56.248 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:18:56.248 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:18:56.248 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:18:56.249 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:18:56.250 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:18:56.251 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:18:56.255 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:18:56.255 +05:30 [INF] Found 1 users among search
2025-08-01 12:18:56.255 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:18:56.255 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.433ms
2025-08-01 12:18:56.255 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:18:56.256 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.3100 ms
2025-08-01 12:18:56.256 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 8.3576ms
2025-08-01 12:18:57.240 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:18:57.241 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:18:57.242 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:18:57.242 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:18:57.252 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:18:57.256 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:18:57.256 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:18:57.257 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 14.3333ms
2025-08-01 12:18:57.257 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:18:57.258 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 16.2277 ms
2025-08-01 12:18:57.258 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 17.6162ms
2025-08-01 12:18:58.197 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:18:58.198 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:18:58.198 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.7496ms
2025-08-01 12:18:58.199 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:18:58.200 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:18:58.200 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:18:58.203 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:18:58.204 +05:30 [INF] Fetching all patients
2025-08-01 12:18:58.270 +05:30 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:18:58.272 +05:30 [INF] Returned 10 patients
2025-08-01 12:18:58.272 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:18:58.273 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 69.2985ms
2025-08-01 12:18:58.274 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:18:58.274 +05:30 [INF] HTTP GET /api/patient responded 200 in 73.8589 ms
2025-08-01 12:18:58.274 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 74.6804ms
2025-08-01 12:18:58.280 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:18:58.280 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:18:58.280 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6598ms
2025-08-01 12:18:58.292 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:18:58.293 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:18:58.295 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:18:58.296 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:18:58.305 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:18:58.308 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:18:58.309 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:18:58.309 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 12.3259ms
2025-08-01 12:18:58.309 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:18:58.309 +05:30 [INF] HTTP GET /api/doctor responded 200 in 14.5035 ms
2025-08-01 12:18:58.309 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 17.1272ms
2025-08-01 12:19:10.929 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:19:10.929 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:10.930 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.0565ms
2025-08-01 12:19:10.932 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:19:10.932 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:10.933 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 12:19:10.933 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:19:10.934 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.2495ms
2025-08-01 12:19:11.884 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:19:11.885 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:11.885 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:19:11.885 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:19:11.886 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.6182ms
2025-08-01 12:19:12.551 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:19:12.552 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:12.552 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.4341ms
2025-08-01 12:19:12.554 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:19:12.554 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:12.554 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:19:12.555 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:19:12.556 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:19:13.129 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:19:13.129 +05:30 [INF] Role: Admin
2025-08-01 12:19:13.129 +05:30 [INF] Role: Admin
2025-08-01 12:19:13.129 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:19:13.131 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:19:13.132 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:19:13.132 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 577.3868ms
2025-08-01 12:19:13.133 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:19:13.133 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 578.4096 ms
2025-08-01 12:19:13.133 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 579.4024ms
2025-08-01 12:19:13.137 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:19:13.138 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:13.138 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7487ms
2025-08-01 12:19:13.140 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:19:13.140 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:13.141 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:19:13.141 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:19:13.142 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:19:13.143 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:19:13.146 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:19:13.146 +05:30 [INF] Found 1 users among search
2025-08-01 12:19:13.147 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:19:13.149 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.9285ms
2025-08-01 12:19:13.150 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:19:13.151 +05:30 [INF] HTTP GET /api/user/search responded 200 in 10.4219 ms
2025-08-01 12:19:13.152 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 11.9488ms
2025-08-01 12:19:13.159 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:19:13.159 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:13.160 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.7674ms
2025-08-01 12:19:13.163 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:19:13.164 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:13.164 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:19:13.165 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:19:13.165 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:19:13.167 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:19:13.169 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:19:13.169 +05:30 [INF] Found 1 users among search
2025-08-01 12:19:13.169 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:19:13.170 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.8025ms
2025-08-01 12:19:13.170 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:19:13.171 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.1562 ms
2025-08-01 12:19:13.171 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 7.2676ms
2025-08-01 12:19:14.065 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:19:14.065 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:14.065 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:19:14.065 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:19:14.067 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:19:14.068 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:19:14.069 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:19:14.069 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 3.8749ms
2025-08-01 12:19:14.069 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:19:14.070 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 5.0024 ms
2025-08-01 12:19:14.071 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 6.1234ms
2025-08-01 12:19:14.583 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:19:14.583 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:14.583 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.4173ms
2025-08-01 12:19:14.585 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:19:14.585 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:14.586 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:19:14.586 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:19:14.586 +05:30 [INF] Fetching all patients
2025-08-01 12:19:14.588 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:19:14.589 +05:30 [INF] Returned 10 patients
2025-08-01 12:19:14.589 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:19:14.589 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.2222ms
2025-08-01 12:19:14.590 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:19:14.590 +05:30 [INF] HTTP GET /api/patient responded 200 in 4.1997 ms
2025-08-01 12:19:14.590 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 4.9167ms
2025-08-01 12:19:14.612 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:19:14.612 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:14.612 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7647ms
2025-08-01 12:19:14.617 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:19:14.617 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:14.617 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:19:14.617 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:19:14.619 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:19:14.620 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:19:14.621 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:19:14.622 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 4.5402ms
2025-08-01 12:19:14.622 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:19:14.623 +05:30 [INF] HTTP GET /api/doctor responded 200 in 5.4736 ms
2025-08-01 12:19:14.623 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 6.2163ms
2025-08-01 12:19:19.608 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-08-01 12:19:19.608 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:19.608 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5366ms
2025-08-01 12:19:19.610 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-08-01 12:19:19.611 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:19.611 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:19:19.611 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:19:19.612 +05:30 [INF] Fetching all patients
2025-08-01 12:19:19.614 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:19:19.614 +05:30 [INF] Returned 10 patients
2025-08-01 12:19:19.615 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:19:19.615 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.9607ms
2025-08-01 12:19:19.616 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-08-01 12:19:19.616 +05:30 [INF] HTTP GET /api/patient responded 200 in 4.9297 ms
2025-08-01 12:19:19.616 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 5.7168ms
2025-08-01 12:19:19.628 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-08-01 12:19:19.628 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:19.628 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7863ms
2025-08-01 12:19:19.630 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-08-01 12:19:19.631 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:19.631 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:19:19.631 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:19:19.633 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:19:19.635 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:19:19.635 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:19:19.636 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 4.2195ms
2025-08-01 12:19:19.636 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-08-01 12:19:19.636 +05:30 [INF] HTTP GET /api/doctor responded 200 in 5.0869 ms
2025-08-01 12:19:19.636 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 6.1094ms
2025-08-01 12:19:24.326 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=j - null null
2025-08-01 12:19:24.326 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:24.327 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=j - 204 null null 0.6864ms
2025-08-01 12:19:24.329 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=j - null null
2025-08-01 12:19:24.329 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:24.330 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:19:24.331 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:19:24.382 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:19:24.382 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 51.1374ms
2025-08-01 12:19:24.382 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:19:24.383 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 52.6253 ms
2025-08-01 12:19:24.383 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=j - 200 70 application/json; charset=utf-8 54.008ms
2025-08-01 12:19:25.718 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-08-01 12:19:25.719 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:25.720 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=john - 204 null null 1.3225ms
2025-08-01 12:19:25.722 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-08-01 12:19:25.722 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:25.723 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:19:25.723 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:19:25.762 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:19:25.762 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 38.3738ms
2025-08-01 12:19:25.762 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:19:25.762 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 39.8906 ms
2025-08-01 12:19:25.763 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=john - 200 70 application/json; charset=utf-8 41.1543ms
2025-08-01 12:19:29.004 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:19:29.005 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:29.005 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6994ms
2025-08-01 12:19:29.007 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:19:29.007 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:29.008 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:19:29.008 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:19:29.021 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:19:29.022 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:19:29.023 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:19:29.024 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 15.3926ms
2025-08-01 12:19:29.024 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:19:29.024 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 16.4700 ms
2025-08-01 12:19:29.024 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 17.4418ms
2025-08-01 12:19:32.008 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:19:32.008 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:32.009 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7173ms
2025-08-01 12:19:32.010 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:19:32.011 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:32.011 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:19:32.012 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:19:32.024 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:19:32.028 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:19:32.028 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:19:32.029 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 16.5208ms
2025-08-01 12:19:32.029 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:19:32.029 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 17.7125 ms
2025-08-01 12:19:32.029 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 19.0199ms
2025-08-01 12:19:34.017 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=dr - null null
2025-08-01 12:19:34.017 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:34.018 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=dr - 204 null null 0.6753ms
2025-08-01 12:19:34.019 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=dr - null null
2025-08-01 12:19:34.020 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:34.020 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:19:34.020 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:19:34.043 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:19:34.044 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 23.172ms
2025-08-01 12:19:34.044 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:19:34.044 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 24.2966 ms
2025-08-01 12:19:34.045 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=dr - 200 1702 application/json; charset=utf-8 25.1931ms
2025-08-01 12:19:35.316 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:19:35.317 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:19:35.318 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:19:35.318 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:19:35.337 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:19:35.341 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:19:35.342 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:19:35.343 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 24.3673ms
2025-08-01 12:19:35.343 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:19:35.343 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 25.9863 ms
2025-08-01 12:19:35.344 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 27.404ms
2025-08-01 12:27:48.395 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=jo - null null
2025-08-01 12:27:48.396 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:27:48.397 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=jo - 204 null null 1.6097ms
2025-08-01 12:27:48.399 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=jo - null null
2025-08-01 12:27:48.400 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:27:48.401 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:27:48.401 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:27:48.436 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 34.8214ms
2025-08-01 12:27:48.437 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:27:48.437 +05:30 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at HealthcareApi.Services.LuceneDoctorIndexService.<>c__DisplayClass6_0.<Search>b__0(ScoreDoc h) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 80
   at System.Linq.Enumerable.SelectListPartitionIterator`2.Fill(IList`1 source, Span`1 destination, Func`2 func, Int32 sourceIndex)
   at System.Linq.Enumerable.SelectListPartitionIterator`2.ToList()
   at HealthcareApi.Services.LuceneDoctorIndexService.Search(String queryText, Int32 pageNumber, Int32 pageSize, String sortField, String sortOrder) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 74
   at HealthcareApi.Services.DoctorService.SearchDoctorsLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\DoctorService.cs:line 62
   at HealthcareApi.Controllers.DoctorController.SearchLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\DoctorController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 12:27:48.447 +05:30 [ERR] HTTP GET /api/doctor/search-lucene responded 500 in 46.0442 ms
2025-08-01 12:27:48.447 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=jo - 500 null application/json 48.1573ms
2025-08-01 12:27:59.237 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=j - null null
2025-08-01 12:27:59.237 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:27:59.238 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=j - 204 null null 1.1559ms
2025-08-01 12:27:59.240 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=j - null null
2025-08-01 12:27:59.240 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:27:59.241 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:27:59.242 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:27:59.281 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 39.0103ms
2025-08-01 12:27:59.282 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:27:59.283 +05:30 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at HealthcareApi.Services.LuceneDoctorIndexService.<>c__DisplayClass6_0.<Search>b__0(ScoreDoc h) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 80
   at System.Linq.Enumerable.SelectListPartitionIterator`2.Fill(IList`1 source, Span`1 destination, Func`2 func, Int32 sourceIndex)
   at System.Linq.Enumerable.SelectListPartitionIterator`2.ToList()
   at HealthcareApi.Services.LuceneDoctorIndexService.Search(String queryText, Int32 pageNumber, Int32 pageSize, String sortField, String sortOrder) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 74
   at HealthcareApi.Services.DoctorService.SearchDoctorsLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\DoctorService.cs:line 62
   at HealthcareApi.Controllers.DoctorController.SearchLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\DoctorController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 12:27:59.286 +05:30 [ERR] HTTP GET /api/doctor/search-lucene responded 500 in 44.8551 ms
2025-08-01 12:27:59.286 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=j - 500 null application/json 46.5262ms
2025-08-01 12:28:04.253 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:28:04.254 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:28:04.254 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7034ms
2025-08-01 12:28:04.258 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:28:04.259 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:28:04.259 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor)
2025-08-01 12:28:04.260 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:28:04.260 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.5017ms
2025-08-01 12:28:04.821 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:28:04.821 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:28:04.822 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:28:04.822 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:28:04.822 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.7169ms
2025-08-01 12:28:05.637 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:28:05.637 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:28:05.638 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6251ms
2025-08-01 12:28:05.640 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:28:05.640 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:28:05.641 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:28:05.641 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:28:05.663 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:28:06.495 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:28:06.496 +05:30 [INF] Role: Admin
2025-08-01 12:28:06.496 +05:30 [INF] Role: Admin
2025-08-01 12:28:06.496 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:28:06.505 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:28:06.506 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:28:06.506 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 864.9551ms
2025-08-01 12:28:06.507 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:28:06.507 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 866.0825 ms
2025-08-01 12:28:06.507 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 867.4398ms
2025-08-01 12:28:06.513 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:28:06.513 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:28:06.514 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6599ms
2025-08-01 12:28:06.516 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:28:06.517 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:28:06.518 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:28:06.518 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:28:06.519 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:28:06.521 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:28:06.529 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:28:06.529 +05:30 [INF] Found 1 users among search
2025-08-01 12:28:06.530 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:28:06.531 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 12.5022ms
2025-08-01 12:28:06.532 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:28:06.532 +05:30 [INF] HTTP GET /api/user/search responded 200 in 14.3741 ms
2025-08-01 12:28:06.533 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 16.2589ms
2025-08-01 12:28:06.552 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:28:06.553 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:28:06.553 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.1601ms
2025-08-01 12:28:06.559 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:28:06.559 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:28:06.559 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:28:06.560 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:28:06.560 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:28:06.562 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:28:06.566 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:28:06.566 +05:30 [INF] Found 1 users among search
2025-08-01 12:28:06.567 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:28:06.567 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.069ms
2025-08-01 12:28:06.568 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:28:06.568 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.6638 ms
2025-08-01 12:28:06.568 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 9.6712ms
2025-08-01 12:28:07.788 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:28:07.789 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:28:07.789 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:28:07.790 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:28:07.798 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:28:07.801 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:28:07.801 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:28:07.802 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 11.2238ms
2025-08-01 12:28:07.802 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:28:07.802 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 12.8424 ms
2025-08-01 12:28:07.802 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 13.9277ms
2025-08-01 12:28:09.005 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=j - null null
2025-08-01 12:28:09.005 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:28:09.006 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=j - 204 null null 0.5663ms
2025-08-01 12:28:09.008 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=j - null null
2025-08-01 12:28:09.008 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:28:09.009 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:28:09.009 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:28:09.029 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 19.404ms
2025-08-01 12:28:09.029 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:28:09.029 +05:30 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at HealthcareApi.Services.LuceneDoctorIndexService.<>c__DisplayClass6_0.<Search>b__0(ScoreDoc h) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 80
   at System.Linq.Enumerable.SelectListPartitionIterator`2.Fill(IList`1 source, Span`1 destination, Func`2 func, Int32 sourceIndex)
   at System.Linq.Enumerable.SelectListPartitionIterator`2.ToList()
   at HealthcareApi.Services.LuceneDoctorIndexService.Search(String queryText, Int32 pageNumber, Int32 pageSize, String sortField, String sortOrder) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 74
   at HealthcareApi.Services.DoctorService.SearchDoctorsLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\DoctorService.cs:line 62
   at HealthcareApi.Controllers.DoctorController.SearchLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\DoctorController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 12:28:09.032 +05:30 [ERR] HTTP GET /api/doctor/search-lucene responded 500 in 23.0823 ms
2025-08-01 12:28:09.032 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=j - 500 null application/json 24.3484ms
2025-08-01 12:34:34.061 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:34:34.062 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:34.062 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.2871ms
2025-08-01 12:34:34.066 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:34:34.067 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:34.068 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:34.069 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:34:34.094 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:34:34.097 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:34:34.097 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:34:34.098 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 28.9903ms
2025-08-01 12:34:34.098 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:34.099 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 30.6335 ms
2025-08-01 12:34:34.099 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 33.2072ms
2025-08-01 12:34:36.660 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=c - null null
2025-08-01 12:34:36.660 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:36.660 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=c - 204 null null 0.5716ms
2025-08-01 12:34:36.662 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=c - null null
2025-08-01 12:34:36.662 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:36.663 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:36.663 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:34:36.678 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:34:36.679 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 15.1398ms
2025-08-01 12:34:36.679 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:36.679 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 16.6726 ms
2025-08-01 12:34:36.680 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=c - 200 389 application/json; charset=utf-8 17.8184ms
2025-08-01 12:34:38.588 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:34:38.589 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:38.589 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:38.589 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:34:38.591 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:34:38.592 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:34:38.593 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:34:38.593 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 3.8041ms
2025-08-01 12:34:38.594 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:38.594 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 5.0495 ms
2025-08-01 12:34:38.594 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 6.1761ms
2025-08-01 12:34:39.470 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smi - null null
2025-08-01 12:34:39.471 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:39.471 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smi - 204 null null 0.8988ms
2025-08-01 12:34:39.477 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smi - null null
2025-08-01 12:34:39.478 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:39.479 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:39.480 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:34:39.504 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:34:39.504 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 24.297ms
2025-08-01 12:34:39.504 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:39.505 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 25.4180 ms
2025-08-01 12:34:39.505 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smi - 200 390 application/json; charset=utf-8 27.6726ms
2025-08-01 12:34:40.567 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smith - null null
2025-08-01 12:34:40.567 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:40.567 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smith - 204 null null 0.6694ms
2025-08-01 12:34:40.569 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smith - null null
2025-08-01 12:34:40.570 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:40.570 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:40.570 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:34:40.588 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:34:40.589 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 18.3905ms
2025-08-01 12:34:40.589 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:40.590 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 19.8055 ms
2025-08-01 12:34:40.590 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smith - 200 390 application/json; charset=utf-8 20.7307ms
2025-08-01 12:34:41.489 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:34:41.490 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:41.491 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.2574ms
2025-08-01 12:34:41.493 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:34:41.493 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:41.494 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:41.494 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:34:41.496 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:34:41.517 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:34:41.518 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:34:41.518 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 24.0666ms
2025-08-01 12:34:41.519 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:41.519 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 25.6101 ms
2025-08-01 12:34:41.520 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 26.8564ms
2025-08-01 12:34:42.025 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=d - null null
2025-08-01 12:34:42.025 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:42.026 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=d - 204 null null 1.0676ms
2025-08-01 12:34:42.028 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=d - null null
2025-08-01 12:34:42.028 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:42.029 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:42.029 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:34:42.038 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 9.0724ms
2025-08-01 12:34:42.039 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:42.040 +05:30 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at HealthcareApi.Services.LuceneDoctorIndexService.<>c__DisplayClass6_0.<Search>b__0(ScoreDoc h) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 80
   at System.Linq.Enumerable.SelectListPartitionIterator`2.Fill(IList`1 source, Span`1 destination, Func`2 func, Int32 sourceIndex)
   at System.Linq.Enumerable.SelectListPartitionIterator`2.ToList()
   at HealthcareApi.Services.LuceneDoctorIndexService.Search(String queryText, Int32 pageNumber, Int32 pageSize, String sortField, String sortOrder) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 74
   at HealthcareApi.Services.DoctorService.SearchDoctorsLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\DoctorService.cs:line 62
   at HealthcareApi.Controllers.DoctorController.SearchLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\DoctorController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 12:34:42.043 +05:30 [ERR] HTTP GET /api/doctor/search-lucene responded 500 in 14.4243 ms
2025-08-01 12:34:42.043 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=d - 500 null application/json 15.5618ms
2025-08-01 12:34:45.807 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:34:45.807 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:45.808 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:45.808 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:34:45.809 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:34:45.811 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:34:45.811 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:34:45.811 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 3.3798ms
2025-08-01 12:34:45.812 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:45.812 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 4.5813 ms
2025-08-01 12:34:45.812 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 5.5787ms
2025-08-01 12:34:47.475 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-08-01 12:34:47.475 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:47.476 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=john - 204 null null 1.2659ms
2025-08-01 12:34:47.478 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-08-01 12:34:47.479 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:47.479 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:47.479 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:34:47.490 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 9.8161ms
2025-08-01 12:34:47.490 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:47.490 +05:30 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at HealthcareApi.Services.LuceneDoctorIndexService.<>c__DisplayClass6_0.<Search>b__0(ScoreDoc h) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 80
   at System.Linq.Enumerable.SelectListPartitionIterator`2.Fill(IList`1 source, Span`1 destination, Func`2 func, Int32 sourceIndex)
   at System.Linq.Enumerable.SelectListPartitionIterator`2.ToList()
   at HealthcareApi.Services.LuceneDoctorIndexService.Search(String queryText, Int32 pageNumber, Int32 pageSize, String sortField, String sortOrder) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 74
   at HealthcareApi.Services.DoctorService.SearchDoctorsLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\DoctorService.cs:line 62
   at HealthcareApi.Controllers.DoctorController.SearchLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\DoctorController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 12:34:47.492 +05:30 [ERR] HTTP GET /api/doctor/search-lucene responded 500 in 13.0382 ms
2025-08-01 12:34:47.493 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=john - 500 null application/json 14.4195ms
2025-08-01 12:34:51.544 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:34:51.544 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:51.544 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6638ms
2025-08-01 12:34:51.546 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:34:51.547 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:34:51.548 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:51.548 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:34:51.561 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:34:51.565 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:34:51.566 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:34:51.566 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 17.8464ms
2025-08-01 12:34:51.567 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:34:51.567 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 19.2415 ms
2025-08-01 12:34:51.567 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 20.7395ms
2025-08-01 12:35:52.603 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:35:52.604 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:52.605 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.028ms
2025-08-01 12:35:52.634 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:35:52.636 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:52.637 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor)
2025-08-01 12:35:52.638 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:35:52.638 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 4.5543ms
2025-08-01 12:35:53.607 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 12:35:53.607 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:53.607 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 12:35:53.608 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:35:53.608 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.1048ms
2025-08-01 12:35:54.285 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 12:35:54.285 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:54.285 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.872ms
2025-08-01 12:35:54.287 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 12:35:54.287 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:54.288 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:35:54.288 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:35:54.306 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:35:54.883 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:35:54.883 +05:30 [INF] Role: Admin
2025-08-01 12:35:54.883 +05:30 [INF] Role: Admin
2025-08-01 12:35:54.883 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:35:54.886 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:35:54.887 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:35:54.887 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 598.3509ms
2025-08-01 12:35:54.887 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:35:54.887 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 599.3654 ms
2025-08-01 12:35:54.887 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 600.1872ms
2025-08-01 12:35:54.893 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:35:54.893 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:54.894 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.5793ms
2025-08-01 12:35:54.896 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 12:35:54.897 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:54.897 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:35:54.898 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:35:54.898 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:35:54.901 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 12:35:54.905 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 12:35:54.906 +05:30 [INF] Found 1 users among search
2025-08-01 12:35:54.907 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:35:54.909 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 10.8212ms
2025-08-01 12:35:54.909 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:35:54.911 +05:30 [INF] HTTP GET /api/user/search responded 200 in 13.4871 ms
2025-08-01 12:35:54.912 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 15.6908ms
2025-08-01 12:35:54.936 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:35:54.937 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:54.938 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.6416ms
2025-08-01 12:35:54.945 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 12:35:54.946 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:54.946 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:35:54.947 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 12:35:54.948 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 12:35:54.950 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 12:35:54.952 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 12:35:54.953 +05:30 [INF] Found 1 users among search
2025-08-01 12:35:54.953 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:35:54.954 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.5049ms
2025-08-01 12:35:54.954 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 12:35:54.954 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.2844 ms
2025-08-01 12:35:54.956 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 10.6512ms
2025-08-01 12:35:56.591 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:35:56.592 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:56.592 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1051ms
2025-08-01 12:35:56.597 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:35:56.597 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:56.598 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:35:56.598 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:35:56.599 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-08-01 12:35:56.600 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:35:56.601 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.0535ms
2025-08-01 12:35:56.601 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:35:56.601 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.5869 ms
2025-08-01 12:35:56.602 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3818 application/json; charset=utf-8 4.7908ms
2025-08-01 12:35:58.293 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=j - null null
2025-08-01 12:35:58.293 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:58.294 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=j - 204 null null 0.9079ms
2025-08-01 12:35:58.296 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=j - null null
2025-08-01 12:35:58.297 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:58.297 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:35:58.297 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:35:58.298 +05:30 [INF] Lucene search for query 'j' with sort 'null' order 'null'
2025-08-01 12:35:58.314 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:35:58.315 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 17.2031ms
2025-08-01 12:35:58.315 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:35:58.315 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 18.3239 ms
2025-08-01 12:35:58.316 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=j - 200 1905 application/json; charset=utf-8 19.4434ms
2025-08-01 12:35:59.272 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=joh - null null
2025-08-01 12:35:59.272 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:59.273 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=joh - 204 null null 1.3328ms
2025-08-01 12:35:59.276 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=joh - null null
2025-08-01 12:35:59.277 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:59.277 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:35:59.277 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:35:59.278 +05:30 [INF] Lucene search for query 'joh' with sort 'null' order 'null'
2025-08-01 12:35:59.295 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:35:59.296 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 17.9353ms
2025-08-01 12:35:59.296 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:35:59.296 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 19.3458 ms
2025-08-01 12:35:59.297 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=joh - 200 1514 application/json; charset=utf-8 20.553ms
2025-08-01 12:35:59.949 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-08-01 12:35:59.949 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:59.950 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - 204 null null 0.7121ms
2025-08-01 12:35:59.952 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-08-01 12:35:59.952 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:35:59.953 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:35:59.953 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:35:59.953 +05:30 [INF] Lucene search for query 'john' with sort 'null' order 'null'
2025-08-01 12:35:59.965 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:35:59.966 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 12.9612ms
2025-08-01 12:35:59.966 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:35:59.967 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 14.0431 ms
2025-08-01 12:35:59.967 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - 200 1516 application/json; charset=utf-8 15.1624ms
2025-08-01 12:36:03.968 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=rb - null null
2025-08-01 12:36:03.968 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:36:03.968 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=rb - 204 null null 0.6579ms
2025-08-01 12:36:03.970 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=rb - null null
2025-08-01 12:36:03.971 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:36:03.971 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:36:03.972 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:36:03.972 +05:30 [INF] Lucene search for query 'rb' with sort 'null' order 'null'
2025-08-01 12:36:03.997 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:36:03.998 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 25.9081ms
2025-08-01 12:36:03.998 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:36:03.998 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 27.0369 ms
2025-08-01 12:36:03.999 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=rb - 200 70 application/json; charset=utf-8 28.129ms
2025-08-01 12:36:05.044 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=r - null null
2025-08-01 12:36:05.044 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:36:05.045 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=r - 204 null null 0.6383ms
2025-08-01 12:36:05.050 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=r - null null
2025-08-01 12:36:05.051 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:36:05.051 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:36:05.052 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:36:05.052 +05:30 [INF] Lucene search for query 'r' with sort 'null' order 'null'
2025-08-01 12:36:05.065 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:36:05.065 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 13.2793ms
2025-08-01 12:36:05.066 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:36:05.066 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 14.8332 ms
2025-08-01 12:36:05.066 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=r - 200 819 application/json; charset=utf-8 15.9248ms
2025-08-01 12:36:05.720 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=rub - null null
2025-08-01 12:36:05.721 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:36:05.721 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=rub - 204 null null 1.1778ms
2025-08-01 12:36:05.724 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=rub - null null
2025-08-01 12:36:05.724 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:36:05.724 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:36:05.725 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:36:05.725 +05:30 [INF] Lucene search for query 'rub' with sort 'null' order 'null'
2025-08-01 12:36:05.746 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:36:05.746 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 21.1376ms
2025-08-01 12:36:05.746 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:36:05.747 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 22.1060 ms
2025-08-01 12:36:05.747 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=rub - 200 448 application/json; charset=utf-8 23.0989ms
2025-08-01 12:36:06.238 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=ruby - null null
2025-08-01 12:36:06.239 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:36:06.239 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=ruby - 204 null null 0.5845ms
2025-08-01 12:36:06.241 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=ruby - null null
2025-08-01 12:36:06.241 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:36:06.242 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:36:06.242 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:36:06.242 +05:30 [INF] Lucene search for query 'ruby' with sort 'null' order 'null'
2025-08-01 12:36:06.254 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:36:06.254 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 12.1867ms
2025-08-01 12:36:06.255 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:36:06.255 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 13.4013 ms
2025-08-01 12:36:06.255 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=ruby - 200 449 application/json; charset=utf-8 14.5137ms
2025-08-01 12:36:07.180 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:36:07.181 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:36:07.181 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6452ms
2025-08-01 12:36:07.183 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:36:07.183 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:36:07.184 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:36:07.184 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-08-01 12:36:07.185 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-08-01 12:36:07.186 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:36:07.187 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.461ms
2025-08-01 12:36:07.189 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-08-01 12:36:07.189 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.8751 ms
2025-08-01 12:36:07.189 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3818 application/json; charset=utf-8 5.8137ms
2025-08-01 12:36:11.133 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:36:11.133 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:36:11.133 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6873ms
2025-08-01 12:36:11.135 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:36:11.136 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:36:11.136 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:36:11.137 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:36:11.152 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:36:11.155 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:36:11.156 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:36:11.156 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 18.9243ms
2025-08-01 12:36:11.157 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:36:11.158 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 22.1016 ms
2025-08-01 12:36:11.159 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 23.499ms
2025-08-01 12:36:13.566 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=j - null null
2025-08-01 12:36:13.566 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:36:13.566 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=j - 204 null null 0.6134ms
2025-08-01 12:36:13.568 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=j - null null
2025-08-01 12:36:13.569 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:36:13.569 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:36:13.569 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:36:13.577 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 7.2811ms
2025-08-01 12:36:13.577 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:36:13.578 +05:30 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at HealthcareApi.Services.LuceneDoctorIndexService.<>c__DisplayClass6_0.<Search>b__0(ScoreDoc h) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 80
   at System.Linq.Enumerable.SelectListPartitionIterator`2.Fill(IList`1 source, Span`1 destination, Func`2 func, Int32 sourceIndex)
   at System.Linq.Enumerable.SelectListPartitionIterator`2.ToList()
   at HealthcareApi.Services.LuceneDoctorIndexService.Search(String queryText, Int32 pageNumber, Int32 pageSize, String sortField, String sortOrder) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 74
   at HealthcareApi.Services.DoctorService.SearchDoctorsLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\DoctorService.cs:line 62
   at HealthcareApi.Controllers.DoctorController.SearchLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\DoctorController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 12:36:13.580 +05:30 [ERR] HTTP GET /api/doctor/search-lucene responded 500 in 10.7158 ms
2025-08-01 12:36:13.580 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=j - 500 null application/json 11.7599ms
2025-08-01 12:38:26.448 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:38:26.448 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:38:26.448 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6144ms
2025-08-01 12:38:26.451 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:38:26.452 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:38:26.453 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:38:26.453 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:38:26.469 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:38:26.475 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 12:38:26.476 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:38:26.477 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 23.318ms
2025-08-01 12:38:26.477 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:38:26.478 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 25.0796 ms
2025-08-01 12:38:26.479 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 27.2211ms
2025-08-01 12:38:29.147 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=s - null null
2025-08-01 12:38:29.147 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:38:29.147 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=s - 204 null null 0.6977ms
2025-08-01 12:38:29.150 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=s - null null
2025-08-01 12:38:29.150 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:38:29.151 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:38:29.151 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:38:29.165 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 14.1143ms
2025-08-01 12:38:29.166 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:38:29.166 +05:30 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at HealthcareApi.Services.LuceneDoctorIndexService.<>c__DisplayClass6_0.<Search>b__0(ScoreDoc h) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 80
   at System.Linq.Enumerable.SelectListPartitionIterator`2.Fill(IList`1 source, Span`1 destination, Func`2 func, Int32 sourceIndex)
   at System.Linq.Enumerable.SelectListPartitionIterator`2.ToList()
   at HealthcareApi.Services.LuceneDoctorIndexService.Search(String queryText, Int32 pageNumber, Int32 pageSize, String sortField, String sortOrder) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 74
   at HealthcareApi.Services.DoctorService.SearchDoctorsLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\DoctorService.cs:line 62
   at HealthcareApi.Controllers.DoctorController.SearchLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\DoctorController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 12:38:29.169 +05:30 [ERR] HTTP GET /api/doctor/search-lucene responded 500 in 18.7582 ms
2025-08-01 12:38:29.170 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=s - 500 null application/json 19.8823ms
2025-08-01 12:39:11.548 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=s - null null
2025-08-01 12:39:11.549 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '31-07-2025 18:44:59', Current time (UTC): '01-08-2025 07:09:11'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-01 12:39:11.550 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '31-07-2025 18:44:59', Current time (UTC): '01-08-2025 07:09:11'.
2025-08-01 12:39:11.550 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor)
2025-08-01 12:39:11.551 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 12:39:11.551 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=s - 401 0 null 2.8958ms
2025-08-01 12:39:17.572 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 65
2025-08-01 12:39:17.572 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:39:17.573 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 12:39:17.593 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 12:39:18.769 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 12:39:18.769 +05:30 [INF] Role: Admin
2025-08-01 12:39:18.770 +05:30 [INF] Role: Admin
2025-08-01 12:39:18.770 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 12:39:18.781 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 12:39:18.781 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 12:39:18.782 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1207.8185ms
2025-08-01 12:39:18.782 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 12:39:18.782 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1209.7434 ms
2025-08-01 12:39:18.782 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 1210.5808ms
2025-08-01 12:39:26.295 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=s - null null
2025-08-01 12:39:26.295 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:39:26.295 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 12:39:26.301 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 5.7626ms
2025-08-01 12:39:26.302 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 12:39:26.302 +05:30 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at HealthcareApi.Services.LuceneDoctorIndexService.<>c__DisplayClass6_0.<Search>b__0(ScoreDoc h) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 80
   at System.Linq.Enumerable.SelectListPartitionIterator`2.Fill(IList`1 source, Span`1 destination, Func`2 func, Int32 sourceIndex)
   at System.Linq.Enumerable.SelectListPartitionIterator`2.ToList()
   at HealthcareApi.Services.LuceneDoctorIndexService.Search(String queryText, Int32 pageNumber, Int32 pageSize, String sortField, String sortOrder) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 74
   at HealthcareApi.Services.DoctorService.SearchDoctorsLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\DoctorService.cs:line 62
   at HealthcareApi.Controllers.DoctorController.SearchLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\DoctorController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 12:39:26.304 +05:30 [ERR] HTTP GET /api/doctor/search-lucene responded 500 in 8.8161 ms
2025-08-01 12:39:26.305 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=s - 500 null application/json 10.002ms
2025-08-01 12:40:24.784 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=s - null null
2025-08-01 12:40:24.784 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:24.785 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:40:24.828 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:40:24.831 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:40:24.832 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:40:24.834 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:40:24.835 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:40:24.836 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:40:24.838 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:40:24.839 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:40:24.840 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:40:24.841 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:40:24.842 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:40:24.843 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 57.8673ms
2025-08-01 12:40:24.843 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:24.843 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 58.8625 ms
2025-08-01 12:40:24.843 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=s - 200 1974 application/json; charset=utf-8 59.4794ms
2025-08-01 12:40:31.623 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=david - null null
2025-08-01 12:40:31.624 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:31.624 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:40:31.630 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:40:31.631 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 6.501ms
2025-08-01 12:40:31.631 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:31.631 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 7.5706 ms
2025-08-01 12:40:31.631 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=david - 200 70 application/json; charset=utf-8 8.2324ms
2025-08-01 12:40:35.989 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=davind - null null
2025-08-01 12:40:35.989 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:35.990 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:40:35.998 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:40:35.999 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 8.7719ms
2025-08-01 12:40:35.999 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:35.999 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 9.6994 ms
2025-08-01 12:40:35.999 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=davind - 200 70 application/json; charset=utf-8 10.3594ms
2025-08-01 12:40:38.183 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=davind - null null
2025-08-01 12:40:38.183 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:38.183 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:40:38.192 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:40:38.193 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 9.0856ms
2025-08-01 12:40:38.193 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:38.193 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 10.1443 ms
2025-08-01 12:40:38.193 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=davind - 200 70 application/json; charset=utf-8 10.8ms
2025-08-01 12:40:41.115 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query= - null null
2025-08-01 12:40:41.116 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:41.116 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:40:41.118 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:40:41.120 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:40:41.120 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:40:41.120 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.2631ms
2025-08-01 12:40:41.120 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:41.121 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 5.1371 ms
2025-08-01 12:40:41.121 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query= - 200 2036 application/json; charset=utf-8 5.7236ms
2025-08-01 12:40:51.028 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:40:51.028 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:40:51.029 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.2694ms
2025-08-01 12:40:51.032 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:40:51.032 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:40:51.033 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:51.033 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:40:51.035 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:40:51.037 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:40:51.037 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:40:51.038 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.0842ms
2025-08-01 12:40:51.038 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:51.038 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 5.0339 ms
2025-08-01 12:40:51.038 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 6.6134ms
2025-08-01 12:40:53.669 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=da - null null
2025-08-01 12:40:53.669 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:40:53.670 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=da - 204 null null 1.4651ms
2025-08-01 12:40:53.673 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=da - null null
2025-08-01 12:40:53.673 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:40:53.673 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:53.674 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:40:53.683 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:40:53.684 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 9.6782ms
2025-08-01 12:40:53.684 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:53.684 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 10.8992 ms
2025-08-01 12:40:53.685 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=da - 200 70 application/json; charset=utf-8 12.1518ms
2025-08-01 12:40:54.742 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=dav - null null
2025-08-01 12:40:54.742 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:40:54.743 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=dav - 204 null null 0.7696ms
2025-08-01 12:40:54.749 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=dav - null null
2025-08-01 12:40:54.750 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:40:54.750 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:54.751 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:40:54.766 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:40:54.766 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 14.9797ms
2025-08-01 12:40:54.767 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:54.767 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 16.4348 ms
2025-08-01 12:40:54.767 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=dav - 200 70 application/json; charset=utf-8 17.9331ms
2025-08-01 12:40:55.425 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=david - null null
2025-08-01 12:40:55.426 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:40:55.427 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=david - 204 null null 2.0702ms
2025-08-01 12:40:55.429 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=david - null null
2025-08-01 12:40:55.430 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:40:55.430 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:55.430 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:40:55.449 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:40:55.450 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 19.0724ms
2025-08-01 12:40:55.450 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:55.451 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 21.0979 ms
2025-08-01 12:40:55.452 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=david - 200 70 application/json; charset=utf-8 22.2266ms
2025-08-01 12:40:57.009 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:40:57.010 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:40:57.011 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1292ms
2025-08-01 12:40:57.012 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:40:57.013 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:40:57.013 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:57.014 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:40:57.015 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:40:57.016 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:40:57.017 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:40:57.017 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 3.4654ms
2025-08-01 12:40:57.017 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:57.018 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 4.4134 ms
2025-08-01 12:40:57.018 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 5.558ms
2025-08-01 12:40:58.585 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=jo - null null
2025-08-01 12:40:58.585 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:40:58.586 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=jo - 204 null null 1.1202ms
2025-08-01 12:40:58.588 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=jo - null null
2025-08-01 12:40:58.589 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:40:58.589 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:58.590 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:40:58.599 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:40:58.599 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 9.4109ms
2025-08-01 12:40:58.600 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:58.600 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 11.3233 ms
2025-08-01 12:40:58.601 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=jo - 200 70 application/json; charset=utf-8 12.8549ms
2025-08-01 12:40:59.768 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:40:59.769 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:40:59.770 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:59.770 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:40:59.772 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:40:59.774 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:40:59.775 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:40:59.775 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.7476ms
2025-08-01 12:40:59.776 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:40:59.776 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 6.8915 ms
2025-08-01 12:40:59.777 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 9.2588ms
2025-08-01 12:41:01.583 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=re - null null
2025-08-01 12:41:01.584 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:41:01.585 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=re - 204 null null 1.3954ms
2025-08-01 12:41:01.587 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=re - null null
2025-08-01 12:41:01.588 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:41:01.588 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:41:01.589 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:41:01.602 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:01.604 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:01.606 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:01.608 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:01.610 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:01.612 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:01.613 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:01.615 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:01.615 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:41:01.616 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 26.2281ms
2025-08-01 12:41:01.616 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:41:01.616 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 27.8955 ms
2025-08-01 12:41:01.617 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=re - 200 1608 application/json; charset=utf-8 29.0724ms
2025-08-01 12:41:02.658 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=reg - null null
2025-08-01 12:41:02.658 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:41:02.659 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=reg - 204 null null 1.3093ms
2025-08-01 12:41:02.662 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=reg - null null
2025-08-01 12:41:02.662 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:41:02.662 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:41:02.663 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:41:02.671 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:02.673 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:02.675 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:02.677 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:02.680 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:02.681 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:41:02.681 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 18.1266ms
2025-08-01 12:41:02.681 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:41:02.682 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 19.4378 ms
2025-08-01 12:41:02.682 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=reg - 200 1005 application/json; charset=utf-8 20.4218ms
2025-08-01 12:41:03.960 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=regu - null null
2025-08-01 12:41:03.962 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:41:03.962 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=regu - 204 null null 2.0957ms
2025-08-01 12:41:03.964 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=regu - null null
2025-08-01 12:41:03.965 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:41:03.965 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:41:03.965 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:41:03.985 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:03.987 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:03.989 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:04.019 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:04.021 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:04.021 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:41:04.022 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 56.0915ms
2025-08-01 12:41:04.022 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:41:04.023 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 57.4787 ms
2025-08-01 12:41:04.023 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=regu - 200 1005 application/json; charset=utf-8 58.9175ms
2025-08-01 12:41:04.774 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=regular - null null
2025-08-01 12:41:04.775 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:41:04.775 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=regular - 204 null null 0.6934ms
2025-08-01 12:41:04.780 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=regular - null null
2025-08-01 12:41:04.781 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:41:04.781 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:41:04.782 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:41:04.792 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:04.804 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:04.806 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:04.807 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:04.809 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 12:41:04.810 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:41:04.810 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 28.078ms
2025-08-01 12:41:04.810 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:41:04.811 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 30.2724 ms
2025-08-01 12:41:04.812 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=regular - 200 1005 application/json; charset=utf-8 31.6357ms
2025-08-01 12:41:05.914 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:41:05.914 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:41:05.915 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.0551ms
2025-08-01 12:41:05.917 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 12:41:05.917 +05:30 [INF] CORS policy execution successful.
2025-08-01 12:41:05.918 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:41:05.918 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 12:41:05.920 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:41:05.921 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 12:41:05.922 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 12:41:05.922 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 3.4089ms
2025-08-01 12:41:05.922 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 12:41:05.923 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 4.9049 ms
2025-08-01 12:41:05.923 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 5.9816ms
2025-08-01 12:46:34.905 +05:30 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:46:35.867 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 12:46:37.331 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 12:46:37.945 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 12:46:38.028 +05:30 [INF] Now listening on: http://localhost:5122
2025-08-01 12:46:38.030 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 12:46:38.031 +05:30 [INF] Hosting environment: Development
2025-08-01 12:46:38.031 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-08-01 12:50:44.120 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 12:50:45.089 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 13:14:40.252 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 13:14:41.124 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 13:14:42.560 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 13:14:43.066 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 13:14:43.138 +05:30 [INF] Now listening on: http://localhost:5122
2025-08-01 13:14:43.141 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 13:14:43.142 +05:30 [INF] Hosting environment: Development
2025-08-01 13:14:43.142 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-08-01 13:14:50.699 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query= - null null
2025-08-01 13:14:50.728 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-01 13:14:50.785 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01-08-2025 07:39:18', Current time (UTC): '01-08-2025 07:44:50'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-01 13:14:50.797 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01-08-2025 07:39:18', Current time (UTC): '01-08-2025 07:44:50'.
2025-08-01 13:14:50.800 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 13:14:50.803 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 13:14:50.813 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query= - 401 0 null 115.1884ms
2025-08-01 13:14:55.852 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 65
2025-08-01 13:14:55.863 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 13:14:55.879 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 13:14:56.008 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 13:14:56.795 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 13:14:56.795 +05:30 [INF] Role: Admin
2025-08-01 13:14:56.796 +05:30 [INF] Role: Admin
2025-08-01 13:14:56.796 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 13:14:56.861 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 13:14:56.878 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 13:14:56.901 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1019.6208ms
2025-08-01 13:14:56.902 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 13:14:56.905 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1045.8253 ms
2025-08-01 13:14:56.909 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 1057.1432ms
2025-08-01 13:15:12.645 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query= - null null
2025-08-01 13:15:12.653 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:15:12.660 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 13:15:12.727 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 13:15:12.732 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 13:15:12.732 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 13:15:12.750 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 13:15:12.752 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 13:15:12.761 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 100.2676ms
2025-08-01 13:15:12.761 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:15:12.761 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 108.1163 ms
2025-08-01 13:15:12.762 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query= - 200 2036 application/json; charset=utf-8 117.0754ms
2025-08-01 13:15:20.214 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=dav - null null
2025-08-01 13:15:20.217 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:15:20.217 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 13:15:20.305 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 13:15:20.308 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 89.818ms
2025-08-01 13:15:20.308 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:15:20.309 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 91.8554 ms
2025-08-01 13:15:20.309 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=dav - 200 70 application/json; charset=utf-8 95.0563ms
2025-08-01 13:17:11.430 +05:30 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 13:17:12.381 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 13:17:13.927 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 13:17:14.482 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 13:17:14.558 +05:30 [INF] Now listening on: http://localhost:5122
2025-08-01 13:17:14.561 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 13:17:14.562 +05:30 [INF] Hosting environment: Development
2025-08-01 13:17:14.562 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-08-01 13:17:36.069 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=dav - null null
2025-08-01 13:17:36.095 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-01 13:17:36.164 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:17:36.185 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 13:17:36.270 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 13:17:36.336 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 146.6612ms
2025-08-01 13:17:36.337 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:17:36.339 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 177.4085 ms
2025-08-01 13:17:36.342 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=dav - 200 70 application/json; charset=utf-8 274.4179ms
2025-08-01 13:21:08.968 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 13:21:09.890 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 13:21:11.560 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 13:21:12.249 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 13:21:12.326 +05:30 [INF] Now listening on: http://localhost:5122
2025-08-01 13:21:12.329 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 13:21:12.329 +05:30 [INF] Hosting environment: Development
2025-08-01 13:21:12.329 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-08-01 13:21:15.795 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=d - null null
2025-08-01 13:21:15.821 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-01 13:21:15.823 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:15.833 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=d - 204 null null 39.1404ms
2025-08-01 13:21:15.841 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=d - null null
2025-08-01 13:21:15.846 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:15.964 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01-08-2025 07:35:54', Current time (UTC): '01-08-2025 07:51:15'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-01 13:21:15.982 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01-08-2025 07:35:54', Current time (UTC): '01-08-2025 07:51:15'.
2025-08-01 13:21:15.989 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 13:21:15.993 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 13:21:15.994 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=d - 401 0 null 152.8755ms
2025-08-01 13:21:17.752 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 13:21:17.753 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:17.757 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 13:21:17.759 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 13:21:17.759 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 7.4479ms
2025-08-01 13:21:18.655 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 13:21:18.656 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:18.657 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 2.1982ms
2025-08-01 13:21:18.659 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 13:21:18.660 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:18.680 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 13:21:18.722 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 13:21:18.872 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 13:21:20.327 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 13:21:20.327 +05:30 [INF] Role: Admin
2025-08-01 13:21:20.328 +05:30 [INF] Role: Admin
2025-08-01 13:21:20.329 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 13:21:20.402 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 13:21:20.427 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 13:21:20.453 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1728.037ms
2025-08-01 13:21:20.454 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 13:21:20.457 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1793.7958 ms
2025-08-01 13:21:20.464 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 1805.0843ms
2025-08-01 13:21:20.465 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 13:21:20.466 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:20.466 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 1.6399ms
2025-08-01 13:21:20.470 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 13:21:20.476 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:20.505 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 13:21:20.521 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 13:21:20.548 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 13:21:20.707 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 13:21:20.716 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 13:21:20.718 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 13:21:20.733 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 13:21:20.736 +05:30 [INF] Found 1 users among search
2025-08-01 13:21:20.740 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 13:21:20.784 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 262.2298ms
2025-08-01 13:21:20.784 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 13:21:20.785 +05:30 [INF] HTTP GET /api/user/search responded 200 in 280.6433 ms
2025-08-01 13:21:20.785 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 315.0542ms
2025-08-01 13:21:20.791 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 13:21:20.792 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:20.792 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.0999ms
2025-08-01 13:21:20.795 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 13:21:20.795 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:20.797 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 13:21:20.798 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 13:21:20.805 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 13:21:20.823 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 13:21:20.826 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 13:21:20.826 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 13:21:20.837 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 13:21:20.838 +05:30 [INF] Found 1 users among search
2025-08-01 13:21:20.839 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 13:21:20.840 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 41.7745ms
2025-08-01 13:21:20.840 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 13:21:20.840 +05:30 [INF] HTTP GET /api/user/search responded 200 in 44.1036 ms
2025-08-01 13:21:20.841 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 46.2419ms
2025-08-01 13:21:23.112 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 13:21:23.114 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:23.114 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.5007ms
2025-08-01 13:21:23.117 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 13:21:23.118 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:23.121 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:21:23.129 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 13:21:23.183 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 13:21:23.196 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 13:21:23.196 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 13:21:23.212 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 13:21:23.214 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 13:21:23.219 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 89.4877ms
2025-08-01 13:21:23.219 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:21:23.219 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 98.3818 ms
2025-08-01 13:21:23.220 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 102.3651ms
2025-08-01 13:21:25.577 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=jan - null null
2025-08-01 13:21:25.578 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:25.579 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=jan - 204 null null 1.0769ms
2025-08-01 13:21:25.581 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=jan - null null
2025-08-01 13:21:25.581 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:25.583 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:21:25.583 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 13:21:25.669 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 13:21:25.669 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 85.5824ms
2025-08-01 13:21:25.670 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:21:25.670 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 87.2921 ms
2025-08-01 13:21:25.670 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=jan - 200 70 application/json; charset=utf-8 89.2106ms
2025-08-01 13:21:26.989 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 13:21:26.990 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:26.992 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:21:26.992 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 13:21:27.002 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 13:21:27.005 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 13:21:27.005 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 13:21:27.007 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 14.527ms
2025-08-01 13:21:27.007 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:21:27.008 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 15.8459 ms
2025-08-01 13:21:27.009 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 19.538ms
2025-08-01 13:21:28.025 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=18 - null null
2025-08-01 13:21:28.026 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:28.027 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=18 - 204 null null 2.0218ms
2025-08-01 13:21:28.029 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=18 - null null
2025-08-01 13:21:28.029 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:28.031 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:21:28.031 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 13:21:28.107 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_AppointmentID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] = @__dto_AppointmentID_0
2025-08-01 13:21:28.109 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 13:21:28.110 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 78.9283ms
2025-08-01 13:21:28.111 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:21:28.112 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 81.0748 ms
2025-08-01 13:21:28.112 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=18 - 200 259 application/json; charset=utf-8 83.5363ms
2025-08-01 13:21:32.292 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 13:21:32.293 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:32.293 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.908ms
2025-08-01 13:21:32.295 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 13:21:32.296 +05:30 [INF] CORS policy execution successful.
2025-08-01 13:21:32.297 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:21:32.297 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 13:21:32.301 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 13:21:32.303 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 13:21:32.304 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 13:21:32.305 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 7.6363ms
2025-08-01 13:21:32.305 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 13:21:32.306 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 9.0969 ms
2025-08-01 13:21:32.306 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 10.6869ms
2025-08-01 14:07:42.529 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-08-01 14:07:43.486 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 14:07:45.235 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 14:07:45.973 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 14:07:46.062 +05:30 [INF] Now listening on: http://localhost:5122
2025-08-01 14:07:46.066 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 14:07:46.067 +05:30 [INF] Hosting environment: Development
2025-08-01 14:07:46.067 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-08-01 14:08:01.847 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=dav - null null
2025-08-01 14:08:01.888 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-01 14:08:01.952 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01-08-2025 08:14:56', Current time (UTC): '01-08-2025 08:38:01'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-01 14:08:01.967 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01-08-2025 08:14:56', Current time (UTC): '01-08-2025 08:38:01'.
2025-08-01 14:08:01.972 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 14:08:01.976 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 14:08:01.982 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=dav - 401 0 null 139.7028ms
2025-08-01 14:08:05.379 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 65
2025-08-01 14:08:05.393 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 14:08:05.420 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 14:08:05.561 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 14:08:06.830 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 14:08:06.830 +05:30 [INF] Role: Admin
2025-08-01 14:08:06.832 +05:30 [INF] Role: Admin
2025-08-01 14:08:06.832 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 14:08:06.920 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 14:08:06.945 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 14:08:06.987 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1560.1256ms
2025-08-01 14:08:06.988 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 14:08:06.994 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1605.4049 ms
2025-08-01 14:08:07.001 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 1621.4934ms
2025-08-01 14:08:14.492 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=dav - null null
2025-08-01 14:08:14.502 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:14.510 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 14:08:14.795 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__appointmentIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__appointmentIds_0) WITH ([value] int '$') AS [a0]
)
2025-08-01 14:08:14.799 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:08:14.813 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 301.9965ms
2025-08-01 14:08:14.813 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:14.814 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 312.5754 ms
2025-08-01 14:08:14.815 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=dav - 200 1039 application/json; charset=utf-8 322.4897ms
2025-08-01 14:08:18.071 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=david - null null
2025-08-01 14:08:18.076 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:18.076 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 14:08:18.136 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__appointmentIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__appointmentIds_0) WITH ([value] int '$') AS [a0]
)
2025-08-01 14:08:18.138 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:08:18.140 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 62.7987ms
2025-08-01 14:08:18.140 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:18.140 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 64.8851 ms
2025-08-01 14:08:18.141 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=david - 200 841 application/json; charset=utf-8 69.9713ms
2025-08-01 14:08:25.687 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=davis - null null
2025-08-01 14:08:25.689 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:25.689 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 14:08:25.711 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__appointmentIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__appointmentIds_0) WITH ([value] int '$') AS [a0]
)
2025-08-01 14:08:25.712 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:08:25.713 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 23.5216ms
2025-08-01 14:08:25.713 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:25.714 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 24.8210 ms
2025-08-01 14:08:25.714 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=davis - 200 838 application/json; charset=utf-8 26.4168ms
2025-08-01 14:08:31.149 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=david%20davis - null null
2025-08-01 14:08:31.151 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:31.152 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 14:08:31.188 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__appointmentIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__appointmentIds_0) WITH ([value] int '$') AS [a0]
)
2025-08-01 14:08:31.190 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:08:31.191 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 38.8045ms
2025-08-01 14:08:31.191 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:31.192 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 40.9533 ms
2025-08-01 14:08:31.192 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=david%20davis - 200 1039 application/json; charset=utf-8 42.8198ms
2025-08-01 14:08:45.309 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=j - null null
2025-08-01 14:08:45.310 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:45.315 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=j - 204 null null 5.9964ms
2025-08-01 14:08:45.318 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=j - null null
2025-08-01 14:08:45.319 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:45.319 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01-08-2025 08:21:20', Current time (UTC): '01-08-2025 08:38:45'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-01 14:08:45.320 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '01-08-2025 08:21:20', Current time (UTC): '01-08-2025 08:38:45'.
2025-08-01 14:08:45.320 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-08-01 14:08:45.321 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 14:08:45.321 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=j - 401 0 null 3.2566ms
2025-08-01 14:08:46.258 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-08-01 14:08:46.259 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:46.261 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-01 14:08:46.261 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 14:08:46.261 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 3.4536ms
2025-08-01 14:08:47.392 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-08-01 14:08:47.393 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:47.394 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.2731ms
2025-08-01 14:08:47.396 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-08-01 14:08:47.396 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:47.397 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 14:08:47.398 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-08-01 14:08:47.408 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-08-01 14:08:48.292 +05:30 [INF] User logged in: ruby@raishin.com
2025-08-01 14:08:48.293 +05:30 [INF] Role: Admin
2025-08-01 14:08:48.293 +05:30 [INF] Role: Admin
2025-08-01 14:08:48.293 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-08-01 14:08:48.302 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-08-01 14:08:48.304 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-01 14:08:48.304 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 905.6638ms
2025-08-01 14:08:48.304 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-08-01 14:08:48.304 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 907.4258 ms
2025-08-01 14:08:48.305 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 909.1015ms
2025-08-01 14:08:48.312 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 14:08:48.312 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:48.312 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6745ms
2025-08-01 14:08:48.315 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-08-01 14:08:48.315 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:48.316 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 14:08:48.330 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 14:08:48.347 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 14:08:48.389 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-08-01 14:08:48.395 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 14:08:48.396 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 14:08:48.402 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-08-01 14:08:48.403 +05:30 [INF] Found 1 users among search
2025-08-01 14:08:48.404 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:08:48.415 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 84.1478ms
2025-08-01 14:08:48.415 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 14:08:48.416 +05:30 [INF] HTTP GET /api/user/search responded 200 in 99.3773 ms
2025-08-01 14:08:48.416 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 101.3529ms
2025-08-01 14:08:48.421 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 14:08:48.421 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:48.421 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.891ms
2025-08-01 14:08:48.424 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-08-01 14:08:48.424 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:48.425 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 14:08:48.425 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-08-01 14:08:48.430 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-08-01 14:08:48.438 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-08-01 14:08:48.440 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 14:08:48.441 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 14:08:48.450 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-08-01 14:08:48.451 +05:30 [INF] Found 1 users among search
2025-08-01 14:08:48.451 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:08:48.452 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 26.2695ms
2025-08-01 14:08:48.452 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-08-01 14:08:48.453 +05:30 [INF] HTTP GET /api/user/search responded 200 in 28.0079 ms
2025-08-01 14:08:48.453 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 29.6403ms
2025-08-01 14:08:49.778 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 14:08:49.779 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:49.779 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.9574ms
2025-08-01 14:08:49.782 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 14:08:49.782 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:49.783 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:49.784 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 14:08:49.805 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 14:08:49.810 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 14:08:49.810 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 14:08:49.828 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 14:08:49.830 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:08:49.831 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 46.8266ms
2025-08-01 14:08:49.831 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:49.832 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 48.9322 ms
2025-08-01 14:08:49.832 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 50.4555ms
2025-08-01 14:08:51.295 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=j - null null
2025-08-01 14:08:51.296 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:51.297 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=j - 204 null null 1.2163ms
2025-08-01 14:08:51.299 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=j - null null
2025-08-01 14:08:51.299 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:51.300 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:51.301 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 14:08:51.313 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__appointmentIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__appointmentIds_0) WITH ([value] int '$') AS [a0]
)
2025-08-01 14:08:51.315 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:08:51.316 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 14.7383ms
2025-08-01 14:08:51.316 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:51.316 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 15.9765 ms
2025-08-01 14:08:51.317 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=j - 200 1989 application/json; charset=utf-8 17.6218ms
2025-08-01 14:08:52.004 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=jo - null null
2025-08-01 14:08:52.004 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:52.005 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=jo - 204 null null 1.0802ms
2025-08-01 14:08:52.007 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=jo - null null
2025-08-01 14:08:52.007 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:52.009 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:52.009 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 14:08:52.052 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__appointmentIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__appointmentIds_0) WITH ([value] int '$') AS [a0]
)
2025-08-01 14:08:52.053 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:08:52.054 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 44.4723ms
2025-08-01 14:08:52.054 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:52.055 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 46.0735 ms
2025-08-01 14:08:52.055 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=jo - 200 1974 application/json; charset=utf-8 48.1695ms
2025-08-01 14:08:52.567 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-08-01 14:08:52.568 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:52.569 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=john - 204 null null 1.3917ms
2025-08-01 14:08:52.571 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-08-01 14:08:52.571 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:52.572 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:52.573 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 14:08:52.591 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__appointmentIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[AppointmentID] IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__appointmentIds_0) WITH ([value] int '$') AS [a0]
)
2025-08-01 14:08:52.593 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:08:52.593 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 20.4973ms
2025-08-01 14:08:52.594 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:52.594 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 22.2288 ms
2025-08-01 14:08:52.594 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=john - 200 1974 application/json; charset=utf-8 23.7794ms
2025-08-01 14:08:53.397 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 14:08:53.398 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:53.398 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:53.399 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-08-01 14:08:53.406 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-08-01 14:08:53.409 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-08-01 14:08:53.409 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:08:53.410 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 11.1174ms
2025-08-01 14:08:53.411 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:53.411 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 12.7283 ms
2025-08-01 14:08:53.411 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2036 application/json; charset=utf-8 14.3956ms
2025-08-01 14:08:56.430 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 14:08:56.431 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:56.432 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.0837ms
2025-08-01 14:08:56.435 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 14:08:56.436 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:56.437 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:56.442 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 14:08:56.466 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 14:08:56.468 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 14:08:56.469 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 14:08:56.481 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 14:08:56.484 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:08:56.494 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 51.5101ms
2025-08-01 14:08:56.495 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:56.495 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 58.8707 ms
2025-08-01 14:08:56.496 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 61.3538ms
2025-08-01 14:08:59.037 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=jo - null null
2025-08-01 14:08:59.038 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:59.039 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=jo - 204 null null 1.6948ms
2025-08-01 14:08:59.041 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=jo - null null
2025-08-01 14:08:59.042 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:08:59.043 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:59.043 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 14:08:59.054 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 10.6479ms
2025-08-01 14:08:59.055 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:08:59.056 +05:30 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at HealthcareApi.Services.LuceneDoctorIndexService.<>c__DisplayClass6_0.<Search>b__0(ScoreDoc h) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 80
   at System.Linq.Enumerable.SelectListPartitionIterator`2.Fill(IList`1 source, Span`1 destination, Func`2 func, Int32 sourceIndex)
   at System.Linq.Enumerable.SelectListPartitionIterator`2.ToList()
   at HealthcareApi.Services.LuceneDoctorIndexService.Search(String queryText, Int32 pageNumber, Int32 pageSize, String sortField, String sortOrder) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 74
   at HealthcareApi.Services.DoctorService.SearchDoctorsLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\DoctorService.cs:line 62
   at HealthcareApi.Controllers.DoctorController.SearchLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\DoctorController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 14:08:59.117 +05:30 [ERR] HTTP GET /api/doctor/search-lucene responded 500 in 74.8430 ms
2025-08-01 14:08:59.118 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=jo - 500 null application/json 76.7402ms
2025-08-01 14:09:19.532 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene - null null
2025-08-01 14:09:19.533 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:19.534 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 14:09:19.543 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 14:09:19.549 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 14:09:19.550 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:09:19.551 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 17.3204ms
2025-08-01 14:09:19.552 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:19.552 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 19.3992 ms
2025-08-01 14:09:19.553 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene - 200 1991 application/json; charset=utf-8 20.9826ms
2025-08-01 14:09:26.933 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=j - null null
2025-08-01 14:09:26.934 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:26.935 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 14:09:26.945 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 9.846ms
2025-08-01 14:09:26.945 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:26.946 +05:30 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at HealthcareApi.Services.LuceneDoctorIndexService.<>c__DisplayClass6_0.<Search>b__0(ScoreDoc h) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 80
   at System.Linq.Enumerable.SelectListPartitionIterator`2.Fill(IList`1 source, Span`1 destination, Func`2 func, Int32 sourceIndex)
   at System.Linq.Enumerable.SelectListPartitionIterator`2.ToList()
   at HealthcareApi.Services.LuceneDoctorIndexService.Search(String queryText, Int32 pageNumber, Int32 pageSize, String sortField, String sortOrder) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 74
   at HealthcareApi.Services.DoctorService.SearchDoctorsLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\DoctorService.cs:line 62
   at HealthcareApi.Controllers.DoctorController.SearchLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\DoctorController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 14:09:26.950 +05:30 [ERR] HTTP GET /api/doctor/search-lucene responded 500 in 16.0341 ms
2025-08-01 14:09:26.950 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=j - 500 null application/json 17.6029ms
2025-08-01 14:09:31.001 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 14:09:31.001 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:31.002 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.3396ms
2025-08-01 14:09:31.005 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 14:09:31.005 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:31.006 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:31.006 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 14:09:31.010 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 14:09:31.014 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 14:09:31.015 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:09:31.016 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 10.0607ms
2025-08-01 14:09:31.016 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:31.017 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 11.2028 ms
2025-08-01 14:09:31.017 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 12.7624ms
2025-08-01 14:09:33.888 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smi - null null
2025-08-01 14:09:33.889 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:33.892 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smi - 204 null null 3.481ms
2025-08-01 14:09:33.913 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smi - null null
2025-08-01 14:09:33.914 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:33.917 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:33.918 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 14:09:33.995 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:09:33.996 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 77.3357ms
2025-08-01 14:09:33.996 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:33.997 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 81.5274 ms
2025-08-01 14:09:33.997 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smi - 200 390 application/json; charset=utf-8 84.1052ms
2025-08-01 14:09:34.916 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smith - null null
2025-08-01 14:09:34.916 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:34.917 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smith - 204 null null 1.0891ms
2025-08-01 14:09:34.919 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smith - null null
2025-08-01 14:09:34.920 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:34.921 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:34.921 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 14:09:34.933 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:09:34.934 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 12.1179ms
2025-08-01 14:09:34.934 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:34.935 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 14.0977 ms
2025-08-01 14:09:34.935 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=smith - 200 390 application/json; charset=utf-8 15.8771ms
2025-08-01 14:09:35.487 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 14:09:35.487 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:35.488 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:35.488 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 14:09:35.491 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 14:09:35.494 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 14:09:35.494 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:09:35.495 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 6.4625ms
2025-08-01 14:09:35.495 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:35.496 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 7.9205 ms
2025-08-01 14:09:35.496 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 9.6435ms
2025-08-01 14:09:37.064 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=brown - null null
2025-08-01 14:09:37.064 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:37.065 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=brown - 204 null null 0.6829ms
2025-08-01 14:09:37.066 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=brown - null null
2025-08-01 14:09:37.067 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:37.068 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:37.068 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 14:09:37.078 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 9.6343ms
2025-08-01 14:09:37.079 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:37.079 +05:30 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at HealthcareApi.Services.LuceneDoctorIndexService.<>c__DisplayClass6_0.<Search>b__0(ScoreDoc h) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 80
   at System.Linq.Enumerable.SelectListPartitionIterator`2.Fill(IList`1 source, Span`1 destination, Func`2 func, Int32 sourceIndex)
   at System.Linq.Enumerable.SelectListPartitionIterator`2.ToList()
   at HealthcareApi.Services.LuceneDoctorIndexService.Search(String queryText, Int32 pageNumber, Int32 pageSize, String sortField, String sortOrder) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 74
   at HealthcareApi.Services.DoctorService.SearchDoctorsLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\DoctorService.cs:line 62
   at HealthcareApi.Controllers.DoctorController.SearchLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\DoctorController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 14:09:37.083 +05:30 [ERR] HTTP GET /api/doctor/search-lucene responded 500 in 15.1153 ms
2025-08-01 14:09:37.083 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=brown - 500 null application/json 16.8653ms
2025-08-01 14:09:41.144 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 14:09:41.145 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:41.145 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8726ms
2025-08-01 14:09:41.147 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 14:09:41.148 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:41.149 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:41.149 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 14:09:41.153 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 14:09:41.155 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 14:09:41.156 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:09:41.156 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 6.4548ms
2025-08-01 14:09:41.157 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:41.157 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 8.6080 ms
2025-08-01 14:09:41.158 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 10.2707ms
2025-08-01 14:09:44.367 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=wilson - null null
2025-08-01 14:09:44.368 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:44.368 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=wilson - 204 null null 1.3568ms
2025-08-01 14:09:44.370 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=wilson - null null
2025-08-01 14:09:44.371 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:44.372 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:44.373 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 14:09:44.415 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 42.4467ms
2025-08-01 14:09:44.416 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:44.416 +05:30 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at HealthcareApi.Services.LuceneDoctorIndexService.<>c__DisplayClass6_0.<Search>b__0(ScoreDoc h) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 80
   at System.Linq.Enumerable.SelectListPartitionIterator`2.Fill(IList`1 source, Span`1 destination, Func`2 func, Int32 sourceIndex)
   at System.Linq.Enumerable.SelectListPartitionIterator`2.ToList()
   at HealthcareApi.Services.LuceneDoctorIndexService.Search(String queryText, Int32 pageNumber, Int32 pageSize, String sortField, String sortOrder) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 74
   at HealthcareApi.Services.DoctorService.SearchDoctorsLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\DoctorService.cs:line 62
   at HealthcareApi.Controllers.DoctorController.SearchLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\DoctorController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-08-01 14:09:44.419 +05:30 [ERR] HTTP GET /api/doctor/search-lucene responded 500 in 47.4540 ms
2025-08-01 14:09:44.420 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=wilson - 500 null application/json 49.4848ms
2025-08-01 14:09:46.421 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 14:09:46.422 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:46.422 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.832ms
2025-08-01 14:09:46.424 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 14:09:46.425 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:46.426 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:46.426 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 14:09:46.429 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 14:09:46.431 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 14:09:46.432 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:09:46.433 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 6.6849ms
2025-08-01 14:09:46.434 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:46.434 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 8.2204 ms
2025-08-01 14:09:46.434 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 9.6857ms
2025-08-01 14:09:48.498 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=83 - null null
2025-08-01 14:09:48.498 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:48.499 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=83 - 204 null null 0.6853ms
2025-08-01 14:09:48.501 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=83 - null null
2025-08-01 14:09:48.501 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:48.502 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:48.502 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 14:09:48.523 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:09:48.524 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 21.1414ms
2025-08-01 14:09:48.524 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:48.525 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 23.2807 ms
2025-08-01 14:09:48.526 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10&query=83 - 200 405 application/json; charset=utf-8 24.8723ms
2025-08-01 14:09:49.932 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-08-01 14:09:49.933 +05:30 [INF] CORS policy execution successful.
2025-08-01 14:09:49.934 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:49.935 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-08-01 14:09:49.938 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-08-01 14:09:49.939 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 14:09:49.940 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 14:09:49.941 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 5.8045ms
2025-08-01 14:09:49.941 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-08-01 14:09:49.941 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 7.3945 ms
2025-08-01 14:09:49.942 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 9.6605ms
