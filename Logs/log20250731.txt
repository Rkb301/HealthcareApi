2025-07-31 09:49:06.187 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 09:49:06.196 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:49:06.197 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 9.264ms
2025-07-31 09:49:06.199 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 09:49:06.200 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:49:06.200 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 09:49:06.201 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 09:49:06.240 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 09:49:06.834 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 09:49:06.834 +05:30 [INF] Role: Admin
2025-07-31 09:49:06.834 +05:30 [INF] Role: Admin
2025-07-31 09:49:06.834 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 09:49:06.840 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 09:49:06.841 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 09:49:06.842 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 640.9398ms
2025-07-31 09:49:06.842 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 09:49:06.843 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 642.9140 ms
2025-07-31 09:49:06.843 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 644.5453ms
2025-07-31 09:49:06.850 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 09:49:06.851 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:49:06.851 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 1.4117ms
2025-07-31 09:49:06.854 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 09:49:06.855 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:49:06.856 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:49:06.857 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 09:49:06.859 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 09:49:06.863 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 09:49:06.869 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 09:49:06.870 +05:30 [INF] Found 1 users among search
2025-07-31 09:49:06.871 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 09:49:06.872 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 13.787ms
2025-07-31 09:49:06.872 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:49:06.873 +05:30 [INF] HTTP GET /api/user/search responded 200 in 17.3169 ms
2025-07-31 09:49:06.874 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 19.3501ms
2025-07-31 09:49:06.972 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 09:49:06.972 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:49:06.973 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.6078ms
2025-07-31 09:49:06.976 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 09:49:06.976 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:49:06.978 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:49:06.980 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 09:49:06.981 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 09:49:06.984 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 09:49:06.986 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 09:49:06.987 +05:30 [INF] Found 1 users among search
2025-07-31 09:49:06.987 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 09:49:06.988 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.4747ms
2025-07-31 09:49:06.988 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:49:06.989 +05:30 [INF] HTTP GET /api/user/search responded 200 in 10.7659 ms
2025-07-31 09:49:06.989 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 13.194ms
2025-07-31 09:49:09.011 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 09:49:09.012 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:49:09.013 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.2502ms
2025-07-31 09:49:09.015 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 09:49:09.017 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:49:09.018 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 09:49:09.018 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 09:49:09.019 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 09:49:09.020 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 09:49:09.020 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.7292ms
2025-07-31 09:49:09.020 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 09:49:09.021 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 2.8913 ms
2025-07-31 09:49:09.021 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3774 application/json; charset=utf-8 5.6656ms
2025-07-31 09:49:10.361 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 09:49:10.361 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:49:10.362 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7289ms
2025-07-31 09:49:10.364 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 09:49:10.364 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:49:10.366 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:49:10.367 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 09:49:10.367 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 09:49:10.403 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 09:49:10.443 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 09:49:10.443 +05:30 [INF] Found 1 users among search
2025-07-31 09:49:10.444 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 09:49:10.444 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 77.2245ms
2025-07-31 09:49:10.444 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:49:10.444 +05:30 [INF] HTTP GET /api/user/search responded 200 in 78.2443 ms
2025-07-31 09:49:10.445 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 80.7271ms
2025-07-31 09:49:45.043 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 09:49:45.044 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:49:45.044 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7616ms
2025-07-31 09:49:45.046 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 09:49:45.047 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:49:45.047 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:49:45.047 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 09:49:45.048 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 09:49:45.100 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 09:49:45.138 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 09:49:45.139 +05:30 [INF] Found 1 users among search
2025-07-31 09:49:45.139 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 09:49:45.140 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 92.2606ms
2025-07-31 09:49:45.141 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:49:45.141 +05:30 [INF] HTTP GET /api/user/search responded 200 in 94.3293 ms
2025-07-31 09:49:45.142 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 95.7343ms
2025-07-31 09:50:10.869 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 09:50:10.870 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:50:10.871 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.2885ms
2025-07-31 09:50:10.892 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 09:50:10.893 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:50:10.893 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 09:50:10.894 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 09:50:10.894 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.8437ms
2025-07-31 09:50:16.752 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 09:50:16.752 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:50:16.752 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 09:50:16.752 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 09:50:16.752 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.5552ms
2025-07-31 09:50:17.782 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 09:50:17.782 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:50:17.782 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.3556ms
2025-07-31 09:50:17.783 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 09:50:17.784 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:50:17.784 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 09:50:17.784 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 09:50:17.788 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 09:50:18.352 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 09:50:18.352 +05:30 [INF] Role: Admin
2025-07-31 09:50:18.352 +05:30 [INF] Role: Admin
2025-07-31 09:50:18.352 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 09:50:18.355 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 09:50:18.356 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 09:50:18.356 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 571.9053ms
2025-07-31 09:50:18.356 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 09:50:18.356 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 572.6211 ms
2025-07-31 09:50:18.357 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 573.5005ms
2025-07-31 09:50:18.361 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 09:50:18.362 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:50:18.362 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7181ms
2025-07-31 09:50:18.364 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 09:50:18.364 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:50:18.365 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:50:18.365 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 09:50:18.366 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 09:50:18.367 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 09:50:18.371 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 09:50:18.371 +05:30 [INF] Found 1 users among search
2025-07-31 09:50:18.373 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 09:50:18.374 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.6058ms
2025-07-31 09:50:18.375 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:50:18.376 +05:30 [INF] HTTP GET /api/user/search responded 200 in 10.9166 ms
2025-07-31 09:50:18.376 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 12.4077ms
2025-07-31 09:50:18.407 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 09:50:18.407 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:50:18.408 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.8468ms
2025-07-31 09:50:18.417 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 09:50:18.418 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:50:18.419 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:50:18.419 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 09:50:18.422 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 09:50:18.425 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 09:50:18.427 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 09:50:18.427 +05:30 [INF] Found 1 users among search
2025-07-31 09:50:18.428 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 09:50:18.428 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.3173ms
2025-07-31 09:50:18.428 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:50:18.428 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.9275 ms
2025-07-31 09:50:18.429 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 11.8056ms
2025-07-31 09:50:20.516 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 09:50:20.517 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:50:20.518 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.833ms
2025-07-31 09:50:20.520 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 09:50:20.521 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:50:20.521 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 09:50:20.522 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 09:50:20.522 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 09:50:20.523 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 09:50:20.523 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.3776ms
2025-07-31 09:50:20.524 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 09:50:20.524 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.1084 ms
2025-07-31 09:50:20.524 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3772 application/json; charset=utf-8 4.5079ms
2025-07-31 09:50:21.219 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 09:50:21.221 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:50:21.221 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.9846ms
2025-07-31 09:50:21.224 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 09:50:21.224 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:50:21.224 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:50:21.225 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 09:50:21.226 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 09:50:21.227 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 09:50:21.229 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 09:50:21.230 +05:30 [INF] Found 1 users among search
2025-07-31 09:50:21.230 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 09:50:21.231 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.6322ms
2025-07-31 09:50:21.232 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:50:21.234 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.3906 ms
2025-07-31 09:50:21.234 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 10.7026ms
2025-07-31 09:50:41.442 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 09:50:41.442 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:50:41.442 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.5851ms
2025-07-31 09:50:41.444 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 09:50:41.444 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:50:41.445 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:50:41.445 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 09:50:41.446 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 09:50:41.497 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 09:50:41.541 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 09:50:41.542 +05:30 [INF] Found 1 users among search
2025-07-31 09:50:41.542 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 09:50:41.542 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 97.0329ms
2025-07-31 09:50:41.543 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:50:41.543 +05:30 [INF] HTTP GET /api/user/search responded 200 in 98.7501 ms
2025-07-31 09:50:41.544 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 100.1518ms
2025-07-31 09:53:02.709 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 09:53:02.710 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:53:02.710 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6179ms
2025-07-31 09:53:02.715 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 09:53:02.717 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:53:02.718 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 09:53:02.719 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 09:53:02.719 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 4.2384ms
2025-07-31 09:53:05.873 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 09:53:05.873 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:53:05.873 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 09:53:05.873 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 09:53:05.873 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.7809ms
2025-07-31 09:53:07.210 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 09:53:07.210 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:53:07.211 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7008ms
2025-07-31 09:53:07.212 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 09:53:07.213 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:53:07.213 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 09:53:07.213 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 09:53:07.245 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 09:53:07.865 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 09:53:07.866 +05:30 [INF] Role: Admin
2025-07-31 09:53:07.866 +05:30 [INF] Role: Admin
2025-07-31 09:53:07.867 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 09:53:07.871 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 09:53:07.872 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 09:53:07.872 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 658.8596ms
2025-07-31 09:53:07.873 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 09:53:07.873 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 660.0662 ms
2025-07-31 09:53:07.873 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 661.0293ms
2025-07-31 09:53:07.878 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 09:53:07.879 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:53:07.879 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7525ms
2025-07-31 09:53:07.882 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 09:53:07.883 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:53:07.883 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:53:07.884 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 09:53:07.885 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 09:53:07.889 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 09:53:07.893 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 09:53:07.895 +05:30 [INF] Found 1 users among search
2025-07-31 09:53:07.896 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 09:53:07.897 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 13.0132ms
2025-07-31 09:53:07.898 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:53:07.898 +05:30 [INF] HTTP GET /api/user/search responded 200 in 15.2937 ms
2025-07-31 09:53:07.900 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 17.0692ms
2025-07-31 09:53:07.926 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 09:53:07.927 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:53:07.928 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.6279ms
2025-07-31 09:53:07.934 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 09:53:07.935 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:53:07.936 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:53:07.936 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 09:53:07.937 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 09:53:07.941 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 09:53:07.944 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 09:53:07.945 +05:30 [INF] Found 1 users among search
2025-07-31 09:53:07.945 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 09:53:07.945 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.5905ms
2025-07-31 09:53:07.945 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:53:07.946 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.7488 ms
2025-07-31 09:53:07.946 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 11.6211ms
2025-07-31 09:53:09.144 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 09:53:09.144 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:53:09.145 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.62ms
2025-07-31 09:53:09.148 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 09:53:09.149 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:53:09.150 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 09:53:09.150 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 09:53:09.151 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 09:53:09.153 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 09:53:09.154 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.8475ms
2025-07-31 09:53:09.154 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 09:53:09.155 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.9329 ms
2025-07-31 09:53:09.155 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3775 application/json; charset=utf-8 6.7287ms
2025-07-31 09:53:09.805 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 09:53:09.806 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:53:09.806 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.2674ms
2025-07-31 09:53:09.809 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 09:53:09.810 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:53:09.810 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:53:09.811 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 09:53:09.811 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 09:53:09.867 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 09:53:09.914 +05:30 [INF] Executed DbCommand (45ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 09:53:09.919 +05:30 [INF] Found 1 users among search
2025-07-31 09:53:09.919 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 09:53:09.921 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 109.2336ms
2025-07-31 09:53:09.922 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:53:09.922 +05:30 [INF] HTTP GET /api/user/search responded 200 in 111.6985 ms
2025-07-31 09:53:09.923 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 113.3899ms
2025-07-31 09:53:30.338 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 09:53:30.339 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:53:30.339 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.8057ms
2025-07-31 09:53:30.341 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 09:53:30.342 +05:30 [INF] CORS policy execution successful.
2025-07-31 09:53:30.342 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:53:30.342 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 09:53:30.343 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 09:53:30.345 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 09:53:30.347 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 09:53:30.350 +05:30 [INF] Found 1 users among search
2025-07-31 09:53:30.353 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 09:53:30.354 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 10.9566ms
2025-07-31 09:53:30.354 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 09:53:30.355 +05:30 [INF] HTTP GET /api/user/search responded 200 in 12.5787 ms
2025-07-31 09:53:30.355 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 13.9876ms
2025-07-31 10:01:57.814 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:01:57.814 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:01:57.815 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.0937ms
2025-07-31 10:01:57.819 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:01:57.819 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:01:57.819 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 10:01:57.820 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 10:01:57.820 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.5825ms
2025-07-31 10:01:58.864 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 10:01:58.865 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:01:58.865 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 10:01:58.865 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 10:01:58.866 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.9573ms
2025-07-31 10:02:02.899 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 10:02:02.899 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:02:02.900 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.519ms
2025-07-31 10:02:02.901 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 10:02:02.902 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:02:02.902 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 10:02:02.902 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 10:02:02.932 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 10:02:03.984 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 10:02:03.984 +05:30 [INF] Role: Admin
2025-07-31 10:02:03.985 +05:30 [INF] Role: Admin
2025-07-31 10:02:03.985 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 10:02:03.994 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 10:02:03.995 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 10:02:03.995 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1092.2275ms
2025-07-31 10:02:03.995 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 10:02:03.996 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1093.7207 ms
2025-07-31 10:02:03.996 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 1094.7965ms
2025-07-31 10:02:03.999 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 10:02:04.000 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:02:04.000 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6635ms
2025-07-31 10:02:04.002 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 10:02:04.003 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:02:04.003 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:02:04.003 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:02:04.004 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:02:04.006 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 10:02:04.008 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 10:02:04.009 +05:30 [INF] Found 1 users among search
2025-07-31 10:02:04.010 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:02:04.011 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.0196ms
2025-07-31 10:02:04.011 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:02:04.012 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.9881 ms
2025-07-31 10:02:04.012 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 507 application/json; charset=utf-8 10.0892ms
2025-07-31 10:02:04.039 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 10:02:04.040 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:02:04.041 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.3933ms
2025-07-31 10:02:04.044 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 10:02:04.044 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:02:04.046 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:02:04.046 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:02:04.047 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:02:04.049 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 10:02:04.051 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 10:02:04.052 +05:30 [INF] Found 1 users among search
2025-07-31 10:02:04.052 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:02:04.052 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.7491ms
2025-07-31 10:02:04.052 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:02:04.053 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.1649 ms
2025-07-31 10:02:04.053 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 507 application/json; charset=utf-8 9.095ms
2025-07-31 10:02:09.888 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:02:09.888 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:02:09.889 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1446ms
2025-07-31 10:02:09.892 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:02:09.893 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:02:09.894 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 10:02:09.894 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 10:02:09.894 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 10:02:09.895 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:02:09.896 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.6251ms
2025-07-31 10:02:09.896 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 10:02:09.897 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.0286 ms
2025-07-31 10:02:09.898 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3775 application/json; charset=utf-8 5.6143ms
2025-07-31 10:02:12.097 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:02:12.097 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:02:12.098 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7844ms
2025-07-31 10:02:12.100 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:02:12.100 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:02:12.100 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:02:12.100 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:02:12.101 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:02:12.129 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 10:02:12.175 +05:30 [INF] Executed DbCommand (45ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 10:02:12.176 +05:30 [INF] Found 1 users among search
2025-07-31 10:02:12.176 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:02:12.177 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 76.1603ms
2025-07-31 10:02:12.177 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:02:12.177 +05:30 [INF] HTTP GET /api/user/search responded 200 in 76.8438 ms
2025-07-31 10:02:12.177 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 507 application/json; charset=utf-8 77.5964ms
2025-07-31 10:02:49.855 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:02:49.856 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:02:49.856 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.078ms
2025-07-31 10:02:49.858 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:02:49.859 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:02:49.859 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:02:49.859 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:02:49.860 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:02:49.904 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 10:02:49.937 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 10:02:49.937 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:02:49.938 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6421ms
2025-07-31 10:02:49.940 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/patient - application/json 386
2025-07-31 10:02:49.940 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:02:49.941 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 10:02:49.946 +05:30 [INF] Executed DbCommand (41ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 10:02:49.946 +05:30 [INF] Found 1 users among search
2025-07-31 10:02:49.946 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:02:49.947 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 87.0356ms
2025-07-31 10:02:49.947 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:02:49.947 +05:30 [INF] HTTP GET /api/user/search responded 200 in 88.2348 ms
2025-07-31 10:02:49.947 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 507 application/json; charset=utf-8 89.2687ms
2025-07-31 10:02:49.956 +05:30 [INF] Route matched with {action = "PostPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] PostPatient(HealthcareApi.Models.Patient) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 10:02:50.021 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 10:02:50.061 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi) in 104.4651ms
2025-07-31 10:02:50.061 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 10:02:50.061 +05:30 [INF] HTTP POST /api/patient responded 400 in 120.3908 ms
2025-07-31 10:02:50.061 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/patient - 400 405 application/problem+json; charset=utf-8 121.2585ms
2025-07-31 10:05:16.603 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:05:16.604 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:05:16.604 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.2701ms
2025-07-31 10:05:16.610 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:05:16.611 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:05:16.612 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 10:05:16.615 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 10:05:16.617 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 6.909ms
2025-07-31 10:05:19.111 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 10:05:19.111 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:05:19.111 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 10:05:19.112 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 10:05:19.112 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.2649ms
2025-07-31 10:05:21.645 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 10:05:21.646 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:05:21.647 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.7945ms
2025-07-31 10:05:21.650 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 10:05:21.650 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:05:21.651 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 10:05:21.651 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 10:05:21.667 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 10:05:22.593 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 10:05:22.593 +05:30 [INF] Role: Admin
2025-07-31 10:05:22.594 +05:30 [INF] Role: Admin
2025-07-31 10:05:22.594 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 10:05:22.605 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 10:05:22.605 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 10:05:22.606 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 954.7169ms
2025-07-31 10:05:22.606 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 10:05:22.607 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 956.1879 ms
2025-07-31 10:05:22.607 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 957.2366ms
2025-07-31 10:05:22.612 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 10:05:22.613 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:05:22.613 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.9353ms
2025-07-31 10:05:22.615 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 10:05:22.616 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:05:22.617 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:05:22.617 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:05:22.618 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:05:22.620 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 10:05:22.622 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 10:05:22.623 +05:30 [INF] Found 1 users among search
2025-07-31 10:05:22.624 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:05:22.625 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.8732ms
2025-07-31 10:05:22.625 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:05:22.625 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.6702 ms
2025-07-31 10:05:22.626 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 10.4146ms
2025-07-31 10:05:22.661 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 10:05:22.662 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:05:22.662 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.1523ms
2025-07-31 10:05:22.665 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 10:05:22.665 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:05:22.666 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:05:22.666 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:05:22.667 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:05:22.669 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 10:05:22.672 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 10:05:22.673 +05:30 [INF] Found 1 users among search
2025-07-31 10:05:22.673 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:05:22.674 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.4286ms
2025-07-31 10:05:22.674 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:05:22.674 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.7289 ms
2025-07-31 10:05:22.675 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 10.033ms
2025-07-31 10:05:23.821 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:05:23.822 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:05:23.822 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.9382ms
2025-07-31 10:05:23.825 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:05:23.826 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:05:23.826 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 10:05:23.827 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 10:05:23.827 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 10:05:23.828 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:05:23.829 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.772ms
2025-07-31 10:05:23.829 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 10:05:23.830 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.3023 ms
2025-07-31 10:05:23.830 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3774 application/json; charset=utf-8 5.0445ms
2025-07-31 10:05:24.528 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:05:24.529 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:05:24.529 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.9025ms
2025-07-31 10:05:24.531 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:05:24.532 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:05:24.532 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:05:24.532 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:05:24.533 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:05:24.583 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 10:05:24.634 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 10:05:24.634 +05:30 [INF] Found 1 users among search
2025-07-31 10:05:24.634 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:05:24.635 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 102.0826ms
2025-07-31 10:05:24.635 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:05:24.635 +05:30 [INF] HTTP GET /api/user/search responded 200 in 103.1585 ms
2025-07-31 10:05:24.638 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 106.8818ms
2025-07-31 10:05:57.550 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:05:57.551 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:05:57.551 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7298ms
2025-07-31 10:05:57.553 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:05:57.553 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:05:57.554 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:05:57.555 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:05:57.556 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:05:57.609 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 10:05:57.652 +05:30 [INF] Executed DbCommand (42ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 10:05:57.653 +05:30 [INF] Found 1 users among search
2025-07-31 10:05:57.654 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:05:57.654 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 98.453ms
2025-07-31 10:05:57.654 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:05:57.655 +05:30 [INF] HTTP GET /api/user/search responded 200 in 100.4174 ms
2025-07-31 10:05:57.655 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 101.8422ms
2025-07-31 10:07:22.640 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:07:22.642 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:22.642 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.99ms
2025-07-31 10:07:22.662 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:07:22.666 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:22.666 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 10:07:22.667 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 10:07:22.667 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 5.5696ms
2025-07-31 10:07:23.604 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 10:07:23.604 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:23.604 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 10:07:23.605 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 10:07:23.605 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.1482ms
2025-07-31 10:07:26.285 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 10:07:26.286 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:26.286 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.8456ms
2025-07-31 10:07:26.288 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 10:07:26.288 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:26.289 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 10:07:26.289 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 10:07:26.296 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 10:07:26.952 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 10:07:26.953 +05:30 [INF] Role: Admin
2025-07-31 10:07:26.953 +05:30 [INF] Role: Admin
2025-07-31 10:07:26.953 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 10:07:26.960 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 10:07:26.960 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 10:07:26.961 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 671.6339ms
2025-07-31 10:07:26.961 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 10:07:26.961 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 672.7360 ms
2025-07-31 10:07:26.962 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 673.7823ms
2025-07-31 10:07:26.966 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 10:07:26.966 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:26.967 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.735ms
2025-07-31 10:07:26.969 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 10:07:26.969 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:26.970 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:07:26.970 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:07:26.971 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:07:26.972 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 10:07:26.976 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 10:07:26.979 +05:30 [INF] Found 1 users among search
2025-07-31 10:07:26.980 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:07:26.981 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 10.9811ms
2025-07-31 10:07:26.982 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:07:26.983 +05:30 [INF] HTTP GET /api/user/search responded 200 in 13.0413 ms
2025-07-31 10:07:26.987 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 17.6763ms
2025-07-31 10:07:27.023 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 10:07:27.024 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:27.027 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 4.1067ms
2025-07-31 10:07:27.038 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 10:07:27.039 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:27.039 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:07:27.040 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:07:27.040 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:07:27.043 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 10:07:27.046 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 10:07:27.047 +05:30 [INF] Found 1 users among search
2025-07-31 10:07:27.048 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:07:27.049 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.9758ms
2025-07-31 10:07:27.050 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:07:27.051 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.6198 ms
2025-07-31 10:07:27.052 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 13.908ms
2025-07-31 10:07:28.481 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:07:28.482 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:28.483 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.8304ms
2025-07-31 10:07:28.486 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:07:28.486 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:28.487 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 10:07:28.487 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 10:07:28.487 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 10:07:28.488 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:07:28.489 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.357ms
2025-07-31 10:07:28.489 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 10:07:28.490 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 2.9193 ms
2025-07-31 10:07:28.490 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3770 application/json; charset=utf-8 4.57ms
2025-07-31 10:07:29.072 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:07:29.072 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:29.072 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.5923ms
2025-07-31 10:07:29.074 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:07:29.075 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:29.075 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:07:29.075 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:07:29.076 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:07:29.078 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 10:07:29.107 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 10:07:29.107 +05:30 [INF] Found 1 users among search
2025-07-31 10:07:29.107 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:07:29.108 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 32.0055ms
2025-07-31 10:07:29.108 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:07:29.108 +05:30 [INF] HTTP GET /api/user/search responded 200 in 33.3777 ms
2025-07-31 10:07:29.108 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 34.2558ms
2025-07-31 10:07:50.487 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:07:50.488 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:50.488 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.0315ms
2025-07-31 10:07:50.491 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:07:50.491 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:50.491 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:07:50.492 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:07:50.492 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:07:50.494 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 10:07:50.497 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 10:07:50.497 +05:30 [INF] Found 1 users among search
2025-07-31 10:07:50.498 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:07:50.499 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.8466ms
2025-07-31 10:07:50.499 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:07:50.500 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.1737 ms
2025-07-31 10:07:50.502 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 9.0654ms
2025-07-31 10:07:50.597 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 10:07:50.598 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:50.598 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.8889ms
2025-07-31 10:07:50.600 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/patient - application/json 368
2025-07-31 10:07:50.600 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:07:50.601 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 10:07:50.601 +05:30 [INF] Route matched with {action = "PostPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] PostPatient(HealthcareApi.Models.Patient) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 10:07:50.604 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 10:07:50.605 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi) in 3.7802ms
2025-07-31 10:07:50.606 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 10:07:50.607 +05:30 [INF] HTTP POST /api/patient responded 400 in 6.1998 ms
2025-07-31 10:07:50.607 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/patient - 400 405 application/problem+json; charset=utf-8 7.4197ms
2025-07-31 10:13:52.535 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:13:52.536 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:13:52.536 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8762ms
2025-07-31 10:13:52.538 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:13:52.541 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:13:52.541 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 10:13:52.542 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 10:13:52.542 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.9654ms
2025-07-31 10:48:55.575 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:48:55.579 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:48:55.580 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 4.5713ms
2025-07-31 10:48:55.632 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:48:55.642 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:48:55.672 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 10:48:55.673 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 10:48:55.675 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 42.587ms
2025-07-31 10:48:56.616 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 10:48:56.616 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:48:56.617 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 10:48:56.617 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 10:48:56.617 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.5926ms
2025-07-31 10:48:57.722 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 10:48:57.723 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:48:57.723 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7561ms
2025-07-31 10:48:57.725 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 10:48:57.725 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:48:57.751 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 10:48:57.751 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 10:48:57.779 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 10:48:58.323 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 10:48:58.323 +05:30 [INF] Role: Admin
2025-07-31 10:48:58.323 +05:30 [INF] Role: Admin
2025-07-31 10:48:58.323 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 10:48:58.333 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 10:48:58.333 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 10:48:58.334 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 581.8792ms
2025-07-31 10:48:58.334 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 10:48:58.335 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 609.1330 ms
2025-07-31 10:48:58.335 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 609.8917ms
2025-07-31 10:48:58.340 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 10:48:58.340 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:48:58.340 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.5191ms
2025-07-31 10:48:58.343 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 10:48:58.343 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:48:58.344 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:48:58.344 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:48:58.345 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:48:58.347 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 10:48:58.352 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 10:48:58.353 +05:30 [INF] Found 1 users among search
2025-07-31 10:48:58.355 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:48:58.356 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 11.5675ms
2025-07-31 10:48:58.356 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:48:58.356 +05:30 [INF] HTTP GET /api/user/search responded 200 in 12.7739 ms
2025-07-31 10:48:58.358 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 14.9392ms
2025-07-31 10:48:58.379 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 10:48:58.379 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:48:58.379 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.7682ms
2025-07-31 10:48:58.384 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 10:48:58.384 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:48:58.385 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:48:58.387 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:48:58.388 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:48:58.390 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 10:48:58.393 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 10:48:58.393 +05:30 [INF] Found 1 users among search
2025-07-31 10:48:58.394 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:48:58.394 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.9662ms
2025-07-31 10:48:58.394 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:48:58.395 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.6347 ms
2025-07-31 10:48:58.395 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 11.107ms
2025-07-31 10:48:59.874 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:48:59.875 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:48:59.876 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 10:48:59.876 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 10:48:59.878 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 10:48:59.879 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:48:59.880 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.2405ms
2025-07-31 10:48:59.880 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 10:48:59.880 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.8022 ms
2025-07-31 10:48:59.881 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3774 application/json; charset=utf-8 6.5604ms
2025-07-31 10:49:00.550 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:49:00.551 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:49:00.551 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.9613ms
2025-07-31 10:49:00.553 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:49:00.554 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:49:00.555 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:49:00.556 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:49:00.557 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:49:00.560 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 10:49:00.593 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 10:49:00.593 +05:30 [INF] Found 1 users among search
2025-07-31 10:49:00.593 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:49:00.594 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 37.0355ms
2025-07-31 10:49:00.594 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:49:00.594 +05:30 [INF] HTTP GET /api/user/search responded 200 in 38.9045 ms
2025-07-31 10:49:00.594 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 40.6567ms
2025-07-31 10:49:28.166 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:49:28.167 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:49:28.168 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.4647ms
2025-07-31 10:49:28.170 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:49:28.170 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:49:28.171 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:49:28.171 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:49:28.172 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:49:28.174 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 10:49:28.177 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 10:49:28.177 +05:30 [INF] Found 1 users among search
2025-07-31 10:49:28.178 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:49:28.178 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.1256ms
2025-07-31 10:49:28.181 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:49:28.183 +05:30 [INF] HTTP GET /api/user/search responded 200 in 12.8906 ms
2025-07-31 10:49:28.184 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 14.4863ms
2025-07-31 10:49:28.256 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 10:49:28.256 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:49:28.256 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.7619ms
2025-07-31 10:49:28.258 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/patient - application/json 383
2025-07-31 10:49:28.259 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:49:28.259 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 10:49:28.260 +05:30 [INF] Route matched with {action = "PostPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] PostPatient(HealthcareApi.Models.Patient) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 10:49:28.262 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 10:49:28.263 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi) in 2.6318ms
2025-07-31 10:49:28.263 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 10:49:28.263 +05:30 [INF] HTTP POST /api/patient responded 400 in 3.9902 ms
2025-07-31 10:49:28.264 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/patient - 400 405 application/problem+json; charset=utf-8 5.1758ms
2025-07-31 10:51:00.938 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:51:00.938 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:00.938 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7254ms
2025-07-31 10:51:00.957 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:51:00.961 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:00.961 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 10:51:00.962 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 10:51:00.963 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 5.521ms
2025-07-31 10:51:21.590 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:51:21.590 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:21.592 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.2376ms
2025-07-31 10:51:21.598 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:51:21.599 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:21.600 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 10:51:21.600 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 10:51:21.602 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.6884ms
2025-07-31 10:51:22.319 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 10:51:22.320 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:22.321 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 10:51:22.321 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 10:51:22.322 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 2.4763ms
2025-07-31 10:51:24.980 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 10:51:24.980 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:24.981 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5728ms
2025-07-31 10:51:24.984 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 10:51:24.984 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:24.984 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 10:51:24.985 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 10:51:25.007 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 10:51:25.601 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 10:51:25.602 +05:30 [INF] Role: Admin
2025-07-31 10:51:25.602 +05:30 [INF] Role: Admin
2025-07-31 10:51:25.602 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 10:51:25.607 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 10:51:25.607 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 10:51:25.607 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 622.2672ms
2025-07-31 10:51:25.608 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 10:51:25.608 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 623.6528 ms
2025-07-31 10:51:25.608 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 624.4812ms
2025-07-31 10:51:25.614 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 10:51:25.614 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:25.614 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.5532ms
2025-07-31 10:51:25.617 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 10:51:25.617 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:25.618 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:51:25.618 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:51:25.619 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:51:25.621 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 10:51:25.627 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 10:51:25.628 +05:30 [INF] Found 1 users among search
2025-07-31 10:51:25.629 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:51:25.629 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 10.7009ms
2025-07-31 10:51:25.629 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:51:25.631 +05:30 [INF] HTTP GET /api/user/search responded 200 in 13.0270 ms
2025-07-31 10:51:25.631 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 14.6717ms
2025-07-31 10:51:25.662 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 10:51:25.662 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:25.662 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.6658ms
2025-07-31 10:51:25.665 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 10:51:25.665 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:25.666 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:51:25.666 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:51:25.666 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:51:25.669 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 10:51:25.671 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 10:51:25.672 +05:30 [INF] Found 1 users among search
2025-07-31 10:51:25.672 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:51:25.673 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.705ms
2025-07-31 10:51:25.673 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:51:25.673 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.7944 ms
2025-07-31 10:51:25.674 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 8.9121ms
2025-07-31 10:51:26.972 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:51:26.972 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:26.972 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.4772ms
2025-07-31 10:51:26.974 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:51:26.975 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:26.976 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 10:51:26.976 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 10:51:26.978 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 10:51:26.978 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:51:26.979 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.0294ms
2025-07-31 10:51:26.979 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 10:51:26.980 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.0117 ms
2025-07-31 10:51:26.980 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3773 application/json; charset=utf-8 5.8432ms
2025-07-31 10:51:27.559 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:51:27.559 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:27.560 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7718ms
2025-07-31 10:51:27.562 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:51:27.563 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:27.563 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:51:27.563 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:51:27.564 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:51:27.589 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 10:51:27.655 +05:30 [INF] Executed DbCommand (64ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 10:51:27.656 +05:30 [INF] Found 1 users among search
2025-07-31 10:51:27.656 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:51:27.656 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 92.4896ms
2025-07-31 10:51:27.656 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:51:27.656 +05:30 [INF] HTTP GET /api/user/search responded 200 in 93.4829 ms
2025-07-31 10:51:27.657 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 94.7804ms
2025-07-31 10:51:50.662 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:51:50.662 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:50.663 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.9421ms
2025-07-31 10:51:50.665 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:51:50.665 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:50.666 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:51:50.666 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:51:50.667 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:51:50.669 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 10:51:50.673 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 10:51:50.673 +05:30 [INF] Found 1 users among search
2025-07-31 10:51:50.674 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:51:50.674 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.495ms
2025-07-31 10:51:50.674 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:51:50.675 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.0600 ms
2025-07-31 10:51:50.676 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 10.9071ms
2025-07-31 10:51:50.757 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 10:51:50.758 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:50.758 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.877ms
2025-07-31 10:51:50.760 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/patient - text/plain 204
2025-07-31 10:51:50.761 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:51:50.762 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 10:51:50.763 +05:30 [INF] Route matched with {action = "PostPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] PostPatient(HealthcareApi.Models.Patient) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 10:51:50.770 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-07-31 10:51:50.776 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi) in 11.4762ms
2025-07-31 10:51:50.776 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 10:51:50.777 +05:30 [INF] HTTP POST /api/patient responded 415 in 14.7907 ms
2025-07-31 10:51:50.779 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/patient - 415 176 application/problem+json; charset=utf-8 18.9098ms
2025-07-31 10:54:14.609 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:54:14.609 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:54:14.609 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8343ms
2025-07-31 10:54:14.613 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:54:14.613 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:54:14.614 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 10:54:14.614 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 10:54:14.614 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 0.9714ms
2025-07-31 10:54:15.289 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 10:54:15.290 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:54:15.290 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 10:54:15.290 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 10:54:15.291 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.5832ms
2025-07-31 10:54:46.816 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 10:54:46.816 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:54:46.816 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6521ms
2025-07-31 10:54:46.818 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 10:54:46.818 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:54:46.819 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 10:54:46.819 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 10:54:46.834 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 10:54:47.852 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 10:54:47.852 +05:30 [INF] Role: Admin
2025-07-31 10:54:47.852 +05:30 [INF] Role: Admin
2025-07-31 10:54:47.853 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 10:54:47.858 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 10:54:47.859 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 10:54:47.860 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1040.6211ms
2025-07-31 10:54:47.860 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 10:54:47.860 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1041.7173 ms
2025-07-31 10:54:47.860 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 1042.7222ms
2025-07-31 10:54:47.865 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 10:54:47.866 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:54:47.866 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7733ms
2025-07-31 10:54:47.868 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 10:54:47.869 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:54:47.869 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:54:47.870 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:54:47.870 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:54:47.873 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 10:54:47.877 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 10:54:47.878 +05:30 [INF] Found 1 users among search
2025-07-31 10:54:47.879 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:54:47.880 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 10.2696ms
2025-07-31 10:54:47.881 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:54:47.882 +05:30 [INF] HTTP GET /api/user/search responded 200 in 12.6507 ms
2025-07-31 10:54:47.882 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 508 application/json; charset=utf-8 13.9207ms
2025-07-31 10:54:47.918 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 10:54:47.919 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:54:47.921 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.3542ms
2025-07-31 10:54:47.925 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 10:54:47.926 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:54:47.926 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:54:47.927 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:54:47.928 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:54:47.931 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 10:54:47.934 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 10:54:47.934 +05:30 [INF] Found 1 users among search
2025-07-31 10:54:47.935 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:54:47.935 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.82ms
2025-07-31 10:54:47.935 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:54:47.936 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.7623 ms
2025-07-31 10:54:47.936 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 508 application/json; charset=utf-8 11.4209ms
2025-07-31 10:54:49.119 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:54:49.120 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:54:49.120 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6412ms
2025-07-31 10:54:49.122 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 10:54:49.122 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:54:49.124 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 10:54:49.125 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 10:54:49.126 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 10:54:49.126 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:54:49.127 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.668ms
2025-07-31 10:54:49.127 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 10:54:49.128 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.8334 ms
2025-07-31 10:54:49.128 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3775 application/json; charset=utf-8 6.3438ms
2025-07-31 10:54:49.759 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:54:49.759 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:54:49.760 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7525ms
2025-07-31 10:54:49.762 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:54:49.762 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:54:49.763 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:54:49.763 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:54:49.763 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:54:49.766 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 10:54:49.806 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 10:54:49.806 +05:30 [INF] Found 1 users among search
2025-07-31 10:54:49.808 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:54:49.809 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 45.6831ms
2025-07-31 10:54:49.809 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:54:49.810 +05:30 [INF] HTTP GET /api/user/search responded 200 in 46.9531 ms
2025-07-31 10:54:49.810 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 48.1112ms
2025-07-31 10:55:40.142 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:55:40.143 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:55:40.143 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7317ms
2025-07-31 10:55:40.146 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 10:55:40.146 +05:30 [INF] CORS policy execution successful.
2025-07-31 10:55:40.147 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:55:40.147 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 10:55:40.147 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 10:55:40.159 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 10:55:40.206 +05:30 [INF] Executed DbCommand (45ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 10:55:40.207 +05:30 [INF] Found 1 users among search
2025-07-31 10:55:40.208 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 10:55:40.208 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 61.0105ms
2025-07-31 10:55:40.209 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 10:55:40.209 +05:30 [INF] HTTP GET /api/user/search responded 200 in 62.7394 ms
2025-07-31 10:55:40.210 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 63.9016ms
2025-07-31 11:01:01.720 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:01:01.720 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:01:01.721 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.9454ms
2025-07-31 11:01:01.724 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:01:01.725 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:01:01.726 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 11:01:01.727 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:01:01.728 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.747ms
2025-07-31 11:01:07.908 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 11:01:07.908 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:01:07.908 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 11:01:07.909 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:01:07.909 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.2311ms
2025-07-31 11:01:08.980 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 11:01:08.980 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:01:08.980 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7922ms
2025-07-31 11:01:08.982 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 11:01:08.983 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:01:08.983 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:01:08.983 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 11:01:09.010 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 11:01:09.571 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 11:01:09.571 +05:30 [INF] Role: Admin
2025-07-31 11:01:09.571 +05:30 [INF] Role: Admin
2025-07-31 11:01:09.572 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 11:01:09.576 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 11:01:09.577 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 11:01:09.577 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 593.9576ms
2025-07-31 11:01:09.577 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:01:09.577 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 594.6217 ms
2025-07-31 11:01:09.578 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 595.4412ms
2025-07-31 11:01:09.582 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:01:09.583 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:01:09.583 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7211ms
2025-07-31 11:01:09.585 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:01:09.585 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:01:09.585 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:01:09.586 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:01:09.586 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:01:09.588 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 11:01:09.592 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:01:09.593 +05:30 [INF] Found 1 users among search
2025-07-31 11:01:09.595 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:01:09.597 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 10.8684ms
2025-07-31 11:01:09.598 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:01:09.598 +05:30 [INF] HTTP GET /api/user/search responded 200 in 12.4868 ms
2025-07-31 11:01:09.599 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 13.7783ms
2025-07-31 11:01:09.624 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:01:09.625 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:01:09.625 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.999ms
2025-07-31 11:01:09.630 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:01:09.630 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:01:09.631 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:01:09.631 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:01:09.632 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:01:09.634 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 11:01:09.637 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 11:01:09.638 +05:30 [INF] Found 1 users among search
2025-07-31 11:01:09.638 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:01:09.640 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.3521ms
2025-07-31 11:01:09.640 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:01:09.641 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.7227 ms
2025-07-31 11:01:09.641 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 11.3181ms
2025-07-31 11:01:11.650 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:01:11.650 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:01:11.652 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.1371ms
2025-07-31 11:01:11.654 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:01:11.655 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:01:11.655 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:01:11.657 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:01:11.657 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 11:01:11.658 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:01:11.658 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.2283ms
2025-07-31 11:01:11.659 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:01:11.659 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.4409 ms
2025-07-31 11:01:11.659 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3771 application/json; charset=utf-8 4.7098ms
2025-07-31 11:01:21.543 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:01:21.543 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:01:21.543 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.6746ms
2025-07-31 11:01:21.546 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:01:21.546 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:01:21.547 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:01:21.547 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:01:21.547 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:01:21.549 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:01:21.580 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:01:21.580 +05:30 [INF] Found 1 users among search
2025-07-31 11:01:21.581 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:01:21.582 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 34.8271ms
2025-07-31 11:01:21.582 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:01:21.583 +05:30 [INF] HTTP GET /api/user/search responded 200 in 36.0416 ms
2025-07-31 11:01:21.583 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 37.1974ms
2025-07-31 11:02:56.113 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:02:56.114 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:02:56.114 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7563ms
2025-07-31 11:02:56.116 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:02:56.116 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:02:56.117 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:02:56.117 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:02:56.118 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:02:56.125 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:02:56.180 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:02:56.181 +05:30 [INF] Found 1 users among search
2025-07-31 11:02:56.181 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:02:56.182 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 64.043ms
2025-07-31 11:02:56.182 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:02:56.182 +05:30 [INF] HTTP GET /api/user/search responded 200 in 65.7407 ms
2025-07-31 11:02:56.183 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 67.1149ms
2025-07-31 11:02:56.217 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 11:02:56.217 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:02:56.218 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.68ms
2025-07-31 11:02:56.219 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/patient - application/json 208
2025-07-31 11:02:56.220 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:02:56.220 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 11:02:56.221 +05:30 [INF] Route matched with {action = "PostPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] PostPatient(HealthcareApi.Models.Patient) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:02:56.230 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 11:02:56.230 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi) in 9.331ms
2025-07-31 11:02:56.231 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 11:02:56.231 +05:30 [INF] HTTP POST /api/patient responded 400 in 10.4842 ms
2025-07-31 11:02:56.231 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/patient - 400 354 application/problem+json; charset=utf-8 11.589ms
2025-07-31 11:04:39.948 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:04:39.948 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:04:39.948 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7947ms
2025-07-31 11:04:39.957 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:04:39.958 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:04:39.958 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 11:04:39.958 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:04:39.959 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.4463ms
2025-07-31 11:04:42.939 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 11:04:42.939 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:04:42.940 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 11:04:42.940 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:04:42.940 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.0228ms
2025-07-31 11:04:44.165 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 11:04:44.166 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:04:44.166 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7542ms
2025-07-31 11:04:44.168 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 11:04:44.169 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:04:44.169 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:04:44.169 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 11:04:44.175 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 11:04:44.762 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 11:04:44.763 +05:30 [INF] Role: Admin
2025-07-31 11:04:44.763 +05:30 [INF] Role: Admin
2025-07-31 11:04:44.763 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 11:04:44.769 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 11:04:44.770 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 11:04:44.770 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 600.9609ms
2025-07-31 11:04:44.770 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:04:44.771 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 601.7215 ms
2025-07-31 11:04:44.771 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 602.604ms
2025-07-31 11:04:44.776 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:04:44.776 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:04:44.777 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7898ms
2025-07-31 11:04:44.779 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:04:44.779 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:04:44.780 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:04:44.780 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:04:44.781 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:04:44.783 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 11:04:44.788 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:04:44.788 +05:30 [INF] Found 1 users among search
2025-07-31 11:04:44.789 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:04:44.790 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.2676ms
2025-07-31 11:04:44.791 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:04:44.791 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.4862 ms
2025-07-31 11:04:44.794 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 15.4785ms
2025-07-31 11:04:44.819 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:04:44.819 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:04:44.820 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.4812ms
2025-07-31 11:04:44.824 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:04:44.824 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:04:44.825 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:04:44.825 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:04:44.825 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:04:44.828 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 11:04:44.830 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 11:04:44.830 +05:30 [INF] Found 1 users among search
2025-07-31 11:04:44.831 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:04:44.831 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.0517ms
2025-07-31 11:04:44.832 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:04:44.833 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.9341 ms
2025-07-31 11:04:44.834 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 10.0955ms
2025-07-31 11:04:46.214 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:04:46.215 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:04:46.215 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.9434ms
2025-07-31 11:04:46.218 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:04:46.219 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:04:46.221 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:04:46.221 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:04:46.222 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 11:04:46.222 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:04:46.223 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.5267ms
2025-07-31 11:04:46.223 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:04:46.223 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 2.6950 ms
2025-07-31 11:04:46.223 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3775 application/json; charset=utf-8 5.5391ms
2025-07-31 11:04:46.849 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:04:46.850 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:04:46.850 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.0346ms
2025-07-31 11:04:46.852 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:04:46.853 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:04:46.853 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:04:46.854 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:04:46.854 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:04:46.858 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:04:46.895 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:04:46.896 +05:30 [INF] Found 1 users among search
2025-07-31 11:04:46.896 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:04:46.897 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 42.6716ms
2025-07-31 11:04:46.897 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:04:46.897 +05:30 [INF] HTTP GET /api/user/search responded 200 in 43.7761 ms
2025-07-31 11:04:46.897 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 44.9259ms
2025-07-31 11:05:22.314 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:05:22.314 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:05:22.315 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.9147ms
2025-07-31 11:05:22.317 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:05:22.317 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:05:22.318 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:05:22.318 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:05:22.319 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:05:22.322 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:05:22.355 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:05:22.355 +05:30 [INF] Found 1 users among search
2025-07-31 11:05:22.356 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:05:22.356 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 37.2182ms
2025-07-31 11:05:22.356 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:05:22.356 +05:30 [INF] HTTP GET /api/user/search responded 200 in 38.5760 ms
2025-07-31 11:05:22.357 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 39.9787ms
2025-07-31 11:05:22.406 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 11:05:22.407 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:05:22.407 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.763ms
2025-07-31 11:05:22.409 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/patient - application/json 210
2025-07-31 11:05:22.409 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:05:22.410 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 11:05:22.410 +05:30 [INF] Route matched with {action = "PostPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] PostPatient(HealthcareApi.Models.Patient) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:05:22.412 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 11:05:22.413 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi) in 2.4003ms
2025-07-31 11:05:22.413 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 11:05:22.413 +05:30 [INF] HTTP POST /api/patient responded 400 in 3.4099 ms
2025-07-31 11:05:22.414 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/patient - 400 337 application/problem+json; charset=utf-8 4.84ms
2025-07-31 11:17:45.855 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:17:45.856 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:17:45.857 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.5876ms
2025-07-31 11:17:45.866 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:17:45.867 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:17:45.868 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 11:17:45.868 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:17:45.870 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.6141ms
2025-07-31 11:17:47.125 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 11:17:47.125 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:17:47.126 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 11:17:47.126 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:17:47.126 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.4381ms
2025-07-31 11:17:49.967 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 11:17:49.967 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:17:49.968 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.167ms
2025-07-31 11:17:49.971 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 11:17:49.971 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:17:49.972 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:17:49.973 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 11:17:50.009 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 11:17:50.917 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 11:17:50.917 +05:30 [INF] Role: Admin
2025-07-31 11:17:50.918 +05:30 [INF] Role: Admin
2025-07-31 11:17:50.918 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 11:17:50.924 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 11:17:50.924 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 11:17:50.925 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 949.8948ms
2025-07-31 11:17:50.925 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:17:50.926 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 953.3984 ms
2025-07-31 11:17:50.926 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 955.2679ms
2025-07-31 11:17:50.931 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:17:50.932 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:17:50.932 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7497ms
2025-07-31 11:17:50.934 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:17:50.936 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:17:50.937 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:17:50.937 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:17:50.938 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:17:50.941 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 11:17:50.944 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:17:50.945 +05:30 [INF] Found 1 users among search
2025-07-31 11:17:50.946 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:17:50.947 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.659ms
2025-07-31 11:17:50.947 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:17:50.948 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.2524 ms
2025-07-31 11:17:50.948 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 13.9258ms
2025-07-31 11:17:50.977 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:17:50.978 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:17:50.980 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.5105ms
2025-07-31 11:17:50.985 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:17:50.985 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:17:50.985 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:17:50.986 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:17:50.986 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:17:50.988 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 11:17:50.990 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 11:17:50.991 +05:30 [INF] Found 1 users among search
2025-07-31 11:17:50.991 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:17:50.992 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.9243ms
2025-07-31 11:17:50.992 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:17:50.992 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.8995 ms
2025-07-31 11:17:50.992 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 7.8584ms
2025-07-31 11:17:53.552 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:17:53.552 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:17:53.553 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8825ms
2025-07-31 11:17:53.555 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:17:53.556 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:17:53.557 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:17:53.558 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:17:53.559 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 11:17:53.560 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:17:53.560 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.2836ms
2025-07-31 11:17:53.561 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:17:53.561 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.9467 ms
2025-07-31 11:17:53.561 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3772 application/json; charset=utf-8 6.3565ms
2025-07-31 11:17:54.239 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:17:54.240 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:17:54.241 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.5781ms
2025-07-31 11:17:54.243 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:17:54.244 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:17:54.244 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:17:54.245 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:17:54.246 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:17:54.248 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:17:54.291 +05:30 [INF] Executed DbCommand (42ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:17:54.292 +05:30 [INF] Found 1 users among search
2025-07-31 11:17:54.293 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:17:54.293 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 48.1245ms
2025-07-31 11:17:54.294 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:17:54.294 +05:30 [INF] HTTP GET /api/user/search responded 200 in 49.6755 ms
2025-07-31 11:17:54.294 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 50.9644ms
2025-07-31 11:18:19.698 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:18:19.699 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:18:19.699 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.0253ms
2025-07-31 11:18:19.702 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:18:19.702 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:18:19.703 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:18:19.703 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:18:19.704 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:18:19.718 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:18:19.756 +05:30 [INF] Executed DbCommand (37ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:18:19.757 +05:30 [INF] Found 1 users among search
2025-07-31 11:18:19.757 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:18:19.758 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 54.511ms
2025-07-31 11:18:19.758 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:18:19.759 +05:30 [INF] HTTP GET /api/user/search responded 200 in 56.2497 ms
2025-07-31 11:18:19.760 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 58.0501ms
2025-07-31 11:18:19.803 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 11:18:19.803 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:18:19.804 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 1.2738ms
2025-07-31 11:18:19.806 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/patient - application/json 465
2025-07-31 11:18:19.807 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:18:19.807 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 11:18:19.808 +05:30 [INF] Route matched with {action = "PostPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] PostPatient(HealthcareApi.Models.Patient) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:18:19.813 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 11:18:19.813 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi) in 4.9218ms
2025-07-31 11:18:19.813 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 11:18:19.814 +05:30 [INF] HTTP POST /api/patient responded 400 in 6.7762 ms
2025-07-31 11:18:19.814 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/patient - 400 404 application/problem+json; charset=utf-8 8.1571ms
2025-07-31 11:18:59.316 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/patient - application/json 476
2025-07-31 11:18:59.317 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25-07-2025 10:29:30', Current time (UTC): '31-07-2025 05:48:59'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-31 11:18:59.319 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25-07-2025 10:29:30', Current time (UTC): '31-07-2025 05:48:59'.
2025-07-31 11:18:59.319 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-31 11:18:59.324 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:18:59.324 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/patient - 401 0 null 8.0993ms
2025-07-31 11:19:05.879 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 65
2025-07-31 11:19:05.880 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:19:05.880 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 11:19:05.883 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 11:19:06.852 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 11:19:06.853 +05:30 [INF] Role: Admin
2025-07-31 11:19:06.853 +05:30 [INF] Role: Admin
2025-07-31 11:19:06.853 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 11:19:06.859 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 11:19:06.860 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 11:19:06.861 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 980.8169ms
2025-07-31 11:19:06.861 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:19:06.861 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 981.9007 ms
2025-07-31 11:19:06.862 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 982.4967ms
2025-07-31 11:19:21.778 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/patient - application/json 476
2025-07-31 11:19:21.778 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 11:19:21.779 +05:30 [INF] Route matched with {action = "PostPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] PostPatient(HealthcareApi.Models.Patient) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:19:21.780 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 11:19:21.781 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi) in 1.7208ms
2025-07-31 11:19:21.781 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 11:19:21.781 +05:30 [INF] HTTP POST /api/patient responded 400 in 3.3157 ms
2025-07-31 11:19:21.782 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/patient - 400 404 application/problem+json; charset=utf-8 4.1601ms
2025-07-31 11:23:52.103 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/patient - application/json 496
2025-07-31 11:23:52.104 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 11:23:52.104 +05:30 [INF] Route matched with {action = "PostPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] PostPatient(HealthcareApi.Models.Patient) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:23:52.105 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 11:23:52.106 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi) in 1.8236ms
2025-07-31 11:23:52.106 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 11:23:52.106 +05:30 [INF] HTTP POST /api/patient responded 400 in 2.6508 ms
2025-07-31 11:23:52.106 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/patient - 400 404 application/problem+json; charset=utf-8 3.5077ms
2025-07-31 11:24:05.455 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/patient - application/json 496
2025-07-31 11:24:05.455 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 11:24:05.456 +05:30 [INF] Route matched with {action = "PostPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] PostPatient(HealthcareApi.Models.Patient) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:24:05.457 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 11:24:05.458 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi) in 1.9961ms
2025-07-31 11:24:05.458 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 11:24:05.458 +05:30 [INF] HTTP POST /api/patient responded 400 in 2.7232 ms
2025-07-31 11:24:05.458 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/patient - 400 404 application/problem+json; charset=utf-8 3.2889ms
2025-07-31 11:24:18.953 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:24:18.954 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:18.954 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7608ms
2025-07-31 11:24:18.962 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:24:18.964 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:18.965 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 11:24:18.966 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:24:18.967 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 4.6923ms
2025-07-31 11:24:20.310 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 11:24:20.310 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:20.310 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 11:24:20.311 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:24:20.311 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.392ms
2025-07-31 11:24:21.252 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 11:24:21.252 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:21.253 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6326ms
2025-07-31 11:24:21.254 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 11:24:21.255 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:21.255 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:24:21.255 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 11:24:21.277 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 11:24:21.864 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 11:24:21.864 +05:30 [INF] Role: Admin
2025-07-31 11:24:21.864 +05:30 [INF] Role: Admin
2025-07-31 11:24:21.864 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 11:24:21.870 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 11:24:21.872 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 11:24:21.872 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 617.1155ms
2025-07-31 11:24:21.872 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:24:21.873 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 617.8828 ms
2025-07-31 11:24:21.873 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 618.608ms
2025-07-31 11:24:21.878 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:24:21.879 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:21.879 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6996ms
2025-07-31 11:24:21.881 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:24:21.882 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:21.882 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:24:21.883 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:24:21.884 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:24:21.887 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 11:24:21.890 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:24:21.890 +05:30 [INF] Found 1 users among search
2025-07-31 11:24:21.894 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:24:21.895 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 11.6056ms
2025-07-31 11:24:21.896 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:24:21.896 +05:30 [INF] HTTP GET /api/user/search responded 200 in 13.9235 ms
2025-07-31 11:24:21.896 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 508 application/json; charset=utf-8 15.0881ms
2025-07-31 11:24:21.919 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:24:21.920 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:21.921 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.6294ms
2025-07-31 11:24:21.926 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:24:21.926 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:21.926 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:24:21.926 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:24:21.928 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:24:21.930 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 11:24:21.933 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 11:24:21.934 +05:30 [INF] Found 1 users among search
2025-07-31 11:24:21.934 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:24:21.934 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.8113ms
2025-07-31 11:24:21.934 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:24:21.934 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.3022 ms
2025-07-31 11:24:21.935 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 508 application/json; charset=utf-8 9.1953ms
2025-07-31 11:24:24.906 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:24:24.907 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:24.909 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.5545ms
2025-07-31 11:24:24.911 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:24:24.912 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:24.912 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:24:24.913 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:24:24.914 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 11:24:24.915 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:24:24.915 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.9896ms
2025-07-31 11:24:24.916 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:24:24.916 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.4279 ms
2025-07-31 11:24:24.916 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3773 application/json; charset=utf-8 4.9295ms
2025-07-31 11:24:26.788 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:24:26.789 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:26.789 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.488ms
2025-07-31 11:24:26.791 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:24:26.791 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:26.792 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:24:26.792 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:24:26.792 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:24:26.794 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:24:26.823 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:24:26.824 +05:30 [INF] Found 1 users among search
2025-07-31 11:24:26.824 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:24:26.824 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 32.4237ms
2025-07-31 11:24:26.825 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:24:26.825 +05:30 [INF] HTTP GET /api/user/search responded 200 in 33.1970 ms
2025-07-31 11:24:26.825 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 34.081ms
2025-07-31 11:24:51.078 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:24:51.078 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:51.079 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.815ms
2025-07-31 11:24:51.081 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:24:51.082 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:51.082 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:24:51.082 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:24:51.083 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:24:51.095 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:24:51.147 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:24:51.148 +05:30 [INF] Found 1 users among search
2025-07-31 11:24:51.149 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:24:51.149 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 66.7171ms
2025-07-31 11:24:51.150 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:24:51.151 +05:30 [INF] HTTP GET /api/user/search responded 200 in 68.5302 ms
2025-07-31 11:24:51.151 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 69.7631ms
2025-07-31 11:24:51.175 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 11:24:51.176 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:51.176 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.9203ms
2025-07-31 11:24:51.179 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/patient - application/json 452
2025-07-31 11:24:51.179 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:51.181 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 11:24:51.181 +05:30 [INF] Route matched with {action = "PostPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HealthcareApi.Models.Patient]] PostPatient(HealthcareApi.Models.Patient) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:24:51.200 +05:30 [INF] Creating new patient
2025-07-31 11:24:51.219 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 255), @p2='?' (Size = 500), @p3='?' (Size = 20), @p4='?' (DbType = DateTime2), @p5='?' (Size = 500), @p6='?' (DbType = Date), @p7='?' (Size = 50), @p8='?' (Size = 10), @p9='?' (Size = 50), @p10='?' (Size = 1000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Patients] ([PatientID], [Address], [Allergies], [ContactNumber], [CreatedAt], [CurrentMedications], [DateOfBirth], [FirstName], [Gender], [LastName], [MedicalHistory], [ModifiedAt], [UserID], [isActive])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-07-31 11:24:51.276 +05:30 [INF] Patient created with ID 116914
2025-07-31 11:24:51.276 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'HealthcareApi.Models.Patient'.
2025-07-31 11:24:51.281 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi) in 99.4863ms
2025-07-31 11:24:51.281 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PostPatient (HealthcareApi)'
2025-07-31 11:24:51.282 +05:30 [INF] HTTP POST /api/patient responded 201 in 100.6972 ms
2025-07-31 11:24:51.282 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/patient - 201 367 application/json; charset=utf-8 103.321ms
2025-07-31 11:24:51.299 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:24:51.300 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:51.300 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6951ms
2025-07-31 11:24:51.303 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:24:51.303 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:51.304 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:24:51.304 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:24:51.305 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 11:24:51.308 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:24:51.308 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 3.7245ms
2025-07-31 11:24:51.309 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:24:51.309 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 5.3009 ms
2025-07-31 11:24:51.309 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3773 application/json; charset=utf-8 6.6239ms
2025-07-31 11:24:56.389 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=aakars - null null
2025-07-31 11:24:56.390 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:56.390 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=aakars - 204 null null 0.661ms
2025-07-31 11:24:56.392 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=aakars - null null
2025-07-31 11:24:56.392 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:24:56.392 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:24:56.393 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:24:56.393 +05:30 [INF] Lucene search for query 'aakars' with sort 'null' order 'null'
2025-07-31 11:24:56.441 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:24:56.442 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 48.9466ms
2025-07-31 11:24:56.442 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:24:56.442 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 49.7350 ms
2025-07-31 11:24:56.442 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=aakars - 200 777 application/json; charset=utf-8 50.3613ms
2025-07-31 11:26:33.399 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:26:33.404 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:26:33.405 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 6.3376ms
2025-07-31 11:26:33.430 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:26:33.435 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:26:33.435 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 11:26:33.437 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:26:33.437 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 6.6967ms
2025-07-31 11:26:34.333 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 11:26:34.334 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:26:34.334 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 11:26:34.335 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:26:34.335 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.9714ms
2025-07-31 11:29:38.404 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 11:29:38.408 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:29:38.409 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 4.5652ms
2025-07-31 11:29:38.412 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 11:29:38.413 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:29:38.414 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:29:38.414 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 11:29:38.443 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 11:29:39.056 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 11:29:39.057 +05:30 [INF] Role: Admin
2025-07-31 11:29:39.057 +05:30 [INF] Role: Admin
2025-07-31 11:29:39.057 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 11:29:39.101 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 11:29:39.102 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 11:29:39.103 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 687.915ms
2025-07-31 11:29:39.103 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:29:39.103 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 689.4592 ms
2025-07-31 11:29:39.103 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 691.0678ms
2025-07-31 11:29:39.109 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:29:39.110 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:29:39.110 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 1.13ms
2025-07-31 11:29:39.125 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:29:39.126 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:29:39.127 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:29:39.128 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:29:39.129 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:29:39.132 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 11:29:39.135 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:29:39.136 +05:30 [INF] Found 1 users among search
2025-07-31 11:29:39.136 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:29:39.136 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.8821ms
2025-07-31 11:29:39.137 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:29:39.137 +05:30 [INF] HTTP GET /api/user/search responded 200 in 10.2391 ms
2025-07-31 11:29:39.138 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 12.6191ms
2025-07-31 11:29:39.170 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:29:39.171 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:29:39.172 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.1678ms
2025-07-31 11:29:39.176 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:29:39.176 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:29:39.177 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:29:39.178 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:29:39.178 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:29:39.180 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 11:29:39.182 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 11:29:39.183 +05:30 [INF] Found 1 users among search
2025-07-31 11:29:39.183 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:29:39.183 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.5417ms
2025-07-31 11:29:39.184 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:29:39.184 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.8164 ms
2025-07-31 11:29:39.184 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 8.5187ms
2025-07-31 11:29:40.908 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:29:40.909 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:29:40.909 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.5204ms
2025-07-31 11:29:40.911 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:29:40.912 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:29:40.912 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:29:40.913 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:29:40.914 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 11:29:40.915 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:29:40.916 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 3.003ms
2025-07-31 11:29:40.916 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:29:40.917 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.2318 ms
2025-07-31 11:29:40.917 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3774 application/json; charset=utf-8 5.5055ms
2025-07-31 11:29:41.708 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:29:41.708 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:29:41.709 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.8918ms
2025-07-31 11:29:41.711 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:29:41.711 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:29:41.712 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:29:41.712 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:29:41.712 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:29:41.714 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:29:41.752 +05:30 [INF] Executed DbCommand (37ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:29:41.753 +05:30 [INF] Found 1 users among search
2025-07-31 11:29:41.753 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:29:41.753 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 41.1839ms
2025-07-31 11:29:41.753 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:29:41.753 +05:30 [INF] HTTP GET /api/user/search responded 200 in 41.9212 ms
2025-07-31 11:29:41.754 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 42.5902ms
2025-07-31 11:29:50.018 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:29:50.018 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:29:50.018 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 204 null null 0.7292ms
2025-07-31 11:29:50.025 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:29:50.026 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:29:50.027 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:29:50.028 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:29:50.030 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["John"],"LastName":["Doe"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 11:29:50.047 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 11:29:50.059 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:29:50.060 +05:30 [INF] Found 1 patients matching search
2025-07-31 11:29:50.060 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:29:50.060 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 32.2961ms
2025-07-31 11:29:50.060 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:29:50.061 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 33.8585 ms
2025-07-31 11:29:50.061 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 200 467 application/json; charset=utf-8 35.4591ms
2025-07-31 11:34:24.847 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:34:24.847 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:24.848 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1997ms
2025-07-31 11:34:24.858 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:34:24.858 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:24.859 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 11:34:24.859 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:34:24.859 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.4347ms
2025-07-31 11:34:25.934 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 11:34:25.935 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:25.935 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 11:34:25.935 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:34:25.935 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.3444ms
2025-07-31 11:34:26.649 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 11:34:26.650 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:26.650 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.0118ms
2025-07-31 11:34:26.652 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 11:34:26.652 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:26.653 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:34:26.653 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 11:34:26.674 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 11:34:27.271 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 11:34:27.272 +05:30 [INF] Role: Admin
2025-07-31 11:34:27.272 +05:30 [INF] Role: Admin
2025-07-31 11:34:27.272 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 11:34:27.275 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 11:34:27.276 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 11:34:27.276 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 623.3865ms
2025-07-31 11:34:27.277 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:34:27.277 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 624.4937 ms
2025-07-31 11:34:27.277 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 625.1999ms
2025-07-31 11:34:27.283 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:34:27.283 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:27.284 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.9484ms
2025-07-31 11:34:27.286 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:34:27.287 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:27.287 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:34:27.288 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:34:27.288 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:34:27.291 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 11:34:27.295 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:34:27.296 +05:30 [INF] Found 1 users among search
2025-07-31 11:34:27.297 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:34:27.298 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.4909ms
2025-07-31 11:34:27.298 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:34:27.299 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.7956 ms
2025-07-31 11:34:27.300 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 13.1466ms
2025-07-31 11:34:27.331 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:34:27.332 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:27.334 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.8634ms
2025-07-31 11:34:27.336 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:34:27.336 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:27.337 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:34:27.337 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:34:27.338 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:34:27.341 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 11:34:27.342 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 11:34:27.344 +05:30 [INF] Found 1 users among search
2025-07-31 11:34:27.344 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:34:27.345 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.0753ms
2025-07-31 11:34:27.345 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:34:27.345 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.7729 ms
2025-07-31 11:34:27.346 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 10.1293ms
2025-07-31 11:34:28.565 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:34:28.565 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:28.566 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:34:28.566 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:34:28.567 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 11:34:28.568 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:34:28.570 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.5868ms
2025-07-31 11:34:28.570 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:34:28.570 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.8222 ms
2025-07-31 11:34:28.571 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3773 application/json; charset=utf-8 6.4431ms
2025-07-31 11:34:29.503 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:34:29.503 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:29.504 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 204 null null 0.8985ms
2025-07-31 11:34:29.506 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:34:29.506 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:29.507 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:34:29.507 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:34:29.508 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["John"],"LastName":["Doe"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 11:34:29.526 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 11:34:29.543 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:34:29.544 +05:30 [INF] Found 1 patients matching search
2025-07-31 11:34:29.544 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:34:29.544 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 36.5027ms
2025-07-31 11:34:29.545 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:34:29.545 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 38.0187 ms
2025-07-31 11:34:29.545 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 200 467 application/json; charset=utf-8 39.1163ms
2025-07-31 11:34:29.588 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:34:29.589 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:29.589 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.6824ms
2025-07-31 11:34:29.591 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:34:29.591 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:29.592 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:34:29.592 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:34:29.593 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:34:29.595 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:34:29.631 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:34:29.632 +05:30 [INF] Found 1 users among search
2025-07-31 11:34:29.632 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:34:29.632 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 39.533ms
2025-07-31 11:34:29.632 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:34:29.633 +05:30 [INF] HTTP GET /api/user/search responded 200 in 41.4980 ms
2025-07-31 11:34:29.634 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 42.8528ms
2025-07-31 11:34:57.013 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:34:57.013 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:57.014 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8018ms
2025-07-31 11:34:57.030 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:34:57.031 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:34:57.031 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 11:34:57.031 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:34:57.031 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.1047ms
2025-07-31 11:35:48.547 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:35:48.549 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:35:48.549 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.2019ms
2025-07-31 11:35:48.627 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:35:48.628 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:35:48.629 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 11:35:48.629 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:35:48.630 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.9298ms
2025-07-31 11:35:48.874 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 11:35:48.875 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:35:48.875 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 11:35:48.877 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:35:48.877 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 2.6573ms
2025-07-31 11:35:50.134 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 11:35:50.134 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:35:50.135 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6222ms
2025-07-31 11:35:50.136 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 11:35:50.137 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:35:50.137 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:35:50.137 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 11:35:50.157 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 11:35:50.738 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 11:35:50.739 +05:30 [INF] Role: Admin
2025-07-31 11:35:50.739 +05:30 [INF] Role: Admin
2025-07-31 11:35:50.739 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 11:35:50.746 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 11:35:50.747 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 11:35:50.748 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 610.4783ms
2025-07-31 11:35:50.748 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:35:50.750 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 612.9205 ms
2025-07-31 11:35:50.750 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 614.073ms
2025-07-31 11:35:50.755 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:35:50.756 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:35:50.756 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.9666ms
2025-07-31 11:35:50.759 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:35:50.759 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:35:50.760 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:35:50.760 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:35:50.761 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:35:50.763 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 11:35:50.774 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:35:50.775 +05:30 [INF] Found 1 users among search
2025-07-31 11:35:50.777 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:35:50.779 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 18.072ms
2025-07-31 11:35:50.780 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:35:50.792 +05:30 [INF] HTTP GET /api/user/search responded 200 in 32.3872 ms
2025-07-31 11:35:50.793 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 508 application/json; charset=utf-8 34.7401ms
2025-07-31 11:35:50.854 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:35:50.855 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:35:50.856 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.378ms
2025-07-31 11:35:50.864 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:35:50.865 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:35:50.865 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:35:50.866 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:35:50.866 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:35:50.869 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 11:35:50.871 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 11:35:50.872 +05:30 [INF] Found 1 users among search
2025-07-31 11:35:50.885 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:35:50.885 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 19.1751ms
2025-07-31 11:35:50.885 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:35:50.886 +05:30 [INF] HTTP GET /api/user/search responded 200 in 20.4498 ms
2025-07-31 11:35:50.886 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 508 application/json; charset=utf-8 22.5772ms
2025-07-31 11:35:51.738 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:35:51.739 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:35:51.740 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:35:51.740 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:35:51.742 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 11:35:51.744 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:35:51.744 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 3.0797ms
2025-07-31 11:35:51.745 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:35:51.745 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 5.4569 ms
2025-07-31 11:35:51.746 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3774 application/json; charset=utf-8 7.928ms
2025-07-31 11:35:52.928 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:35:52.928 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:35:52.928 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 204 null null 0.5039ms
2025-07-31 11:35:52.931 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:35:52.932 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:35:52.932 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:35:52.933 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:35:52.933 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["John"],"LastName":["Doe"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 11:35:52.952 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 11:35:52.966 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:35:52.967 +05:30 [INF] Found 1 patients matching search
2025-07-31 11:35:52.967 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:35:52.967 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 34.4692ms
2025-07-31 11:35:52.968 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:35:52.968 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 35.5627 ms
2025-07-31 11:35:52.968 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 200 467 application/json; charset=utf-8 36.6194ms
2025-07-31 11:35:53.009 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:35:53.009 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:35:53.010 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.8631ms
2025-07-31 11:35:53.013 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:35:53.013 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:35:53.014 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:35:53.014 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:35:53.015 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:35:53.019 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:35:53.062 +05:30 [INF] Executed DbCommand (42ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:35:53.063 +05:30 [INF] Found 1 users among search
2025-07-31 11:35:53.063 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:35:53.063 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 48.7806ms
2025-07-31 11:35:53.064 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:35:53.064 +05:30 [INF] HTTP GET /api/user/search responded 200 in 50.2953 ms
2025-07-31 11:35:53.065 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 51.7442ms
2025-07-31 11:48:43.728 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:48:43.729 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:48:43.729 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.0503ms
2025-07-31 11:48:43.732 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:48:43.733 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:48:43.733 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 11:48:43.735 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:48:43.736 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.4089ms
2025-07-31 11:48:55.348 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 11:48:55.348 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:48:55.349 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 11:48:55.349 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:48:55.349 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.7062ms
2025-07-31 11:48:58.492 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 11:48:58.492 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:48:58.492 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5814ms
2025-07-31 11:48:58.494 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 11:48:58.494 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:48:58.495 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:48:58.495 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 11:48:58.521 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 11:48:59.129 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 11:48:59.129 +05:30 [INF] Role: Admin
2025-07-31 11:48:59.129 +05:30 [INF] Role: Admin
2025-07-31 11:48:59.130 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 11:48:59.146 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 11:48:59.147 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 11:48:59.147 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 652.0827ms
2025-07-31 11:48:59.147 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:48:59.148 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 653.1682 ms
2025-07-31 11:48:59.148 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 653.9801ms
2025-07-31 11:48:59.154 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:48:59.154 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:48:59.154 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.5454ms
2025-07-31 11:48:59.157 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:48:59.158 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:48:59.158 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:48:59.159 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:48:59.160 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:48:59.166 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 11:48:59.175 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:48:59.177 +05:30 [INF] Found 1 users among search
2025-07-31 11:48:59.178 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:48:59.178 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 18.5689ms
2025-07-31 11:48:59.178 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:48:59.179 +05:30 [INF] HTTP GET /api/user/search responded 200 in 20.1204 ms
2025-07-31 11:48:59.179 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 21.7035ms
2025-07-31 11:48:59.200 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:48:59.200 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:48:59.200 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.7705ms
2025-07-31 11:48:59.207 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:48:59.207 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:48:59.207 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:48:59.208 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:48:59.209 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:48:59.214 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 11:48:59.217 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 11:48:59.217 +05:30 [INF] Found 1 users among search
2025-07-31 11:48:59.218 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:48:59.218 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 10.03ms
2025-07-31 11:48:59.219 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:48:59.220 +05:30 [INF] HTTP GET /api/user/search responded 200 in 12.1763 ms
2025-07-31 11:48:59.220 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 13.5919ms
2025-07-31 11:49:01.445 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 11:49:01.445 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:49:01.445 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.4911ms
2025-07-31 11:49:01.448 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 11:49:01.449 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:49:01.450 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 11:49:01.450 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 11:49:01.471 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 11:49:01.475 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 11:49:01.476 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:49:01.477 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 26.5416ms
2025-07-31 11:49:01.478 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 11:49:01.478 +05:30 [INF] HTTP GET /api/doctor responded 200 in 28.5191 ms
2025-07-31 11:49:01.479 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1679 application/json; charset=utf-8 30.4109ms
2025-07-31 11:49:03.658 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:49:03.659 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:49:03.660 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.2095ms
2025-07-31 11:49:03.663 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:49:03.663 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:49:03.664 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:49:03.664 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:49:03.666 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 11:49:03.667 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:49:03.667 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.5532ms
2025-07-31 11:49:03.668 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:49:03.668 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.1745 ms
2025-07-31 11:49:03.669 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3773 application/json; charset=utf-8 6.0545ms
2025-07-31 11:49:04.320 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:49:04.321 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:49:04.321 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.5414ms
2025-07-31 11:49:04.323 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:49:04.324 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:49:04.324 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:49:04.324 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:49:04.325 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:49:04.332 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:49:04.374 +05:30 [INF] Executed DbCommand (41ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:49:04.375 +05:30 [INF] Found 1 users among search
2025-07-31 11:49:04.375 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:49:04.375 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 50.0951ms
2025-07-31 11:49:04.375 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:49:04.375 +05:30 [INF] HTTP GET /api/user/search responded 200 in 50.9782 ms
2025-07-31 11:49:04.375 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 52.1817ms
2025-07-31 11:49:11.774 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:49:11.774 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:49:11.774 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 204 null null 0.632ms
2025-07-31 11:49:11.777 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:49:11.777 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:49:11.778 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:49:11.778 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:49:11.778 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["John"],"LastName":["Doe"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 11:49:11.799 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 11:49:11.810 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:49:11.811 +05:30 [INF] Found 1 patients matching search
2025-07-31 11:49:11.811 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:49:11.812 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 33.9873ms
2025-07-31 11:49:11.812 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:49:11.813 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 35.0520 ms
2025-07-31 11:49:11.813 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 200 467 application/json; charset=utf-8 35.854ms
2025-07-31 11:49:11.835 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:49:11.835 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:49:11.837 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.8302ms
2025-07-31 11:49:11.839 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:49:11.840 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:49:11.840 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:49:11.840 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:49:11.841 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:49:11.844 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:49:11.847 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:49:11.847 +05:30 [INF] Found 1 users among search
2025-07-31 11:49:11.848 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:49:11.848 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.6741ms
2025-07-31 11:49:11.849 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:49:11.849 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.5244 ms
2025-07-31 11:49:11.850 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 10.6168ms
2025-07-31 11:51:20.998 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:51:20.999 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:51:20.999 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.4973ms
2025-07-31 11:51:21.013 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:51:21.013 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:51:21.014 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 11:51:21.015 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:51:21.016 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.3057ms
2025-07-31 11:51:22.319 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 11:51:22.320 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:51:22.320 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 11:51:22.320 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:51:22.321 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.446ms
2025-07-31 11:51:23.156 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 11:51:23.156 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:51:23.157 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6852ms
2025-07-31 11:51:23.159 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 11:51:23.159 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:51:23.159 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:51:23.159 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 11:51:23.172 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 11:51:23.732 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 11:51:23.732 +05:30 [INF] Role: Admin
2025-07-31 11:51:23.732 +05:30 [INF] Role: Admin
2025-07-31 11:51:23.732 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 11:51:23.740 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 11:51:23.740 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 11:51:23.741 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 581.3862ms
2025-07-31 11:51:23.741 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:51:23.741 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 582.1401 ms
2025-07-31 11:51:23.741 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 582.8875ms
2025-07-31 11:51:23.746 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:51:23.747 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:51:23.747 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.8912ms
2025-07-31 11:51:23.750 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:51:23.750 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:51:23.751 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:51:23.752 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:51:23.753 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:51:23.755 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 11:51:23.757 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:51:23.758 +05:30 [INF] Found 1 users among search
2025-07-31 11:51:23.759 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:51:23.760 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.9063ms
2025-07-31 11:51:23.766 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:51:23.766 +05:30 [INF] HTTP GET /api/user/search responded 200 in 15.8377 ms
2025-07-31 11:51:23.768 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 17.9605ms
2025-07-31 11:51:23.806 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:51:23.806 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:51:23.806 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.7218ms
2025-07-31 11:51:23.812 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:51:23.813 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:51:23.814 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:51:23.815 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:51:23.816 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:51:23.820 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 11:51:23.824 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 11:51:23.825 +05:30 [INF] Found 1 users among search
2025-07-31 11:51:23.825 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:51:23.826 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 10.1928ms
2025-07-31 11:51:23.826 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:51:23.826 +05:30 [INF] HTTP GET /api/user/search responded 200 in 12.8501 ms
2025-07-31 11:51:23.827 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 14.7477ms
2025-07-31 11:51:25.019 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:51:25.020 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:51:25.021 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:51:25.021 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:51:25.022 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 11:51:25.023 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:51:25.024 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.4179ms
2025-07-31 11:51:25.025 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:51:25.025 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.7955 ms
2025-07-31 11:51:25.026 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3775 application/json; charset=utf-8 6.0596ms
2025-07-31 11:51:25.843 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:51:25.843 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:51:25.844 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 204 null null 0.6276ms
2025-07-31 11:51:25.847 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:51:25.847 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:51:25.848 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:51:25.848 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:51:25.849 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["John"],"LastName":["Doe"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 11:51:25.865 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 11:51:25.876 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:51:25.876 +05:30 [INF] Found 1 patients matching search
2025-07-31 11:51:25.877 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:51:25.877 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 28.8421ms
2025-07-31 11:51:25.877 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:51:25.877 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 29.8442 ms
2025-07-31 11:51:25.878 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 200 467 application/json; charset=utf-8 30.9389ms
2025-07-31 11:51:25.916 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:51:25.917 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:51:25.917 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.8704ms
2025-07-31 11:51:25.919 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:51:25.920 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:51:25.920 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:51:25.920 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:51:25.921 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:51:25.923 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:51:25.959 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:51:25.960 +05:30 [INF] Found 1 users among search
2025-07-31 11:51:25.960 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:51:25.961 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 40.0887ms
2025-07-31 11:51:25.961 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:51:25.962 +05:30 [INF] HTTP GET /api/user/search responded 200 in 41.5530 ms
2025-07-31 11:51:25.962 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 42.7138ms
2025-07-31 11:53:13.055 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:53:13.055 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:13.056 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 204 null null 1.3668ms
2025-07-31 11:53:13.059 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:53:13.059 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:13.060 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:53:13.060 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:53:13.060 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["John"],"LastName":["Doe"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 11:53:13.085 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 11:53:13.100 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:53:13.101 +05:30 [INF] Found 1 patients matching search
2025-07-31 11:53:13.101 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:53:13.101 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 41.2094ms
2025-07-31 11:53:13.101 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:53:13.102 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 42.0668 ms
2025-07-31 11:53:13.102 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 200 467 application/json; charset=utf-8 43.2089ms
2025-07-31 11:53:13.158 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:53:13.158 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:13.158 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7381ms
2025-07-31 11:53:13.200 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:53:13.200 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:13.201 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:53:13.201 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:53:13.202 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:53:13.205 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:53:13.242 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:53:13.243 +05:30 [INF] Found 1 users among search
2025-07-31 11:53:13.243 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:53:13.244 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 42.5361ms
2025-07-31 11:53:13.244 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:53:13.245 +05:30 [INF] HTTP GET /api/user/search responded 200 in 44.0420 ms
2025-07-31 11:53:13.245 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 45.8439ms
2025-07-31 11:53:53.391 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:53:53.392 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:53.392 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.5152ms
2025-07-31 11:53:53.424 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:53:53.425 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:53.426 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 11:53:53.427 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:53:53.427 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.6378ms
2025-07-31 11:53:54.434 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 11:53:54.434 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:54.435 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 11:53:54.435 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:53:54.435 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.4867ms
2025-07-31 11:53:55.278 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 11:53:55.279 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:55.279 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.9313ms
2025-07-31 11:53:55.281 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 11:53:55.281 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:55.281 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:53:55.282 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 11:53:55.295 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 11:53:55.863 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 11:53:55.863 +05:30 [INF] Role: Admin
2025-07-31 11:53:55.863 +05:30 [INF] Role: Admin
2025-07-31 11:53:55.863 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 11:53:55.870 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 11:53:55.871 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 11:53:55.871 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 589.5184ms
2025-07-31 11:53:55.871 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:53:55.872 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 590.3668 ms
2025-07-31 11:53:55.872 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 591.0695ms
2025-07-31 11:53:55.878 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:53:55.879 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:55.879 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7963ms
2025-07-31 11:53:55.882 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:53:55.882 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:55.882 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:53:55.883 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:53:55.884 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:53:55.886 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 11:53:55.890 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:53:55.891 +05:30 [INF] Found 1 users among search
2025-07-31 11:53:55.891 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:53:55.896 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 13.2447ms
2025-07-31 11:53:55.897 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:53:55.898 +05:30 [INF] HTTP GET /api/user/search responded 200 in 15.1113 ms
2025-07-31 11:53:55.898 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 16.3026ms
2025-07-31 11:53:55.915 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:53:55.916 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:55.916 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.892ms
2025-07-31 11:53:55.920 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:53:55.920 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:55.921 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:53:55.921 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:53:55.923 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:53:55.926 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 11:53:55.930 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 11:53:55.931 +05:30 [INF] Found 1 users among search
2025-07-31 11:53:55.931 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:53:55.931 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.3345ms
2025-07-31 11:53:55.931 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:53:55.931 +05:30 [INF] HTTP GET /api/user/search responded 200 in 10.6246 ms
2025-07-31 11:53:55.931 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 11.8456ms
2025-07-31 11:53:57.282 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:53:57.282 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:57.283 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:53:57.284 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:53:57.285 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 11:53:57.286 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:53:57.286 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.0298ms
2025-07-31 11:53:57.287 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:53:57.287 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.0908 ms
2025-07-31 11:53:57.288 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3770 application/json; charset=utf-8 5.9874ms
2025-07-31 11:53:58.351 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:53:58.352 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:58.352 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 204 null null 0.747ms
2025-07-31 11:53:58.355 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:53:58.355 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:58.355 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:53:58.356 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:53:58.356 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["John"],"LastName":["Doe"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 11:53:58.374 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 11:53:58.386 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:53:58.387 +05:30 [INF] Found 1 patients matching search
2025-07-31 11:53:58.387 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:53:58.387 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 31.2168ms
2025-07-31 11:53:58.388 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:53:58.388 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 32.7828 ms
2025-07-31 11:53:58.388 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 200 467 application/json; charset=utf-8 33.7522ms
2025-07-31 11:53:58.429 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:53:58.430 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:58.430 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7801ms
2025-07-31 11:53:58.432 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:53:58.432 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:53:58.433 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:53:58.433 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:53:58.434 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:53:58.436 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:53:58.483 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:53:58.483 +05:30 [INF] Found 1 users among search
2025-07-31 11:53:58.483 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:53:58.484 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 50.207ms
2025-07-31 11:53:58.484 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:53:58.484 +05:30 [INF] HTTP GET /api/user/search responded 200 in 51.2524 ms
2025-07-31 11:53:58.484 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 52.3122ms
2025-07-31 11:54:34.934 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Sarah&lastName=Wilson&contactNumber=5551011006&medicalHistory=Anxiety&allergies=Latex&currentMedications=Sertraline%2050mg - null null
2025-07-31 11:54:34.934 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:54:34.935 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Sarah&lastName=Wilson&contactNumber=5551011006&medicalHistory=Anxiety&allergies=Latex&currentMedications=Sertraline%2050mg - 204 null null 0.6159ms
2025-07-31 11:54:34.937 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Sarah&lastName=Wilson&contactNumber=5551011006&medicalHistory=Anxiety&allergies=Latex&currentMedications=Sertraline%2050mg - null null
2025-07-31 11:54:34.937 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:54:34.937 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:54:34.937 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:54:34.938 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["Sarah"],"LastName":["Wilson"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 11:54:34.966 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 11:54:34.978 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:54:34.979 +05:30 [INF] Found 1 patients matching search
2025-07-31 11:54:34.979 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:54:34.980 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 42.0948ms
2025-07-31 11:54:34.980 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:54:34.980 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 43.0517 ms
2025-07-31 11:54:34.981 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Sarah&lastName=Wilson&contactNumber=5551011006&medicalHistory=Anxiety&allergies=Latex&currentMedications=Sertraline%2050mg - 200 445 application/json; charset=utf-8 44.1674ms
2025-07-31 11:54:35.007 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:54:35.007 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:54:35.008 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.2298ms
2025-07-31 11:54:35.020 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:54:35.021 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:54:35.021 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:54:35.021 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:54:35.022 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:54:35.026 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:54:35.060 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:54:35.061 +05:30 [INF] Found 1 users among search
2025-07-31 11:54:35.062 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:54:35.062 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 40.9202ms
2025-07-31 11:54:35.063 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:54:35.064 +05:30 [INF] HTTP GET /api/user/search responded 200 in 42.7466 ms
2025-07-31 11:54:35.065 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 44.8568ms
2025-07-31 11:56:34.342 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:56:34.343 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:56:34.344 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.4346ms
2025-07-31 11:56:34.358 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:56:34.359 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:56:34.360 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 11:56:34.360 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:56:34.360 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.8298ms
2025-07-31 11:56:35.159 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 11:56:35.160 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:56:35.160 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 11:56:35.160 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 11:56:35.160 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.261ms
2025-07-31 11:56:35.918 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 11:56:35.918 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:56:35.919 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.4924ms
2025-07-31 11:56:35.921 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 11:56:35.922 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:56:35.922 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:56:35.923 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 11:56:35.941 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 11:56:36.489 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 11:56:36.489 +05:30 [INF] Role: Admin
2025-07-31 11:56:36.489 +05:30 [INF] Role: Admin
2025-07-31 11:56:36.489 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 11:56:36.493 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 11:56:36.494 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 11:56:36.494 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 571.0167ms
2025-07-31 11:56:36.494 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 11:56:36.495 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 572.3593 ms
2025-07-31 11:56:36.495 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 573.67ms
2025-07-31 11:56:36.502 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:56:36.502 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:56:36.503 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7729ms
2025-07-31 11:56:36.505 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 11:56:36.505 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:56:36.506 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:56:36.507 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:56:36.507 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:56:36.509 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 11:56:36.515 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:56:36.517 +05:30 [INF] Found 1 users among search
2025-07-31 11:56:36.518 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:56:36.520 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 12.8278ms
2025-07-31 11:56:36.521 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:56:36.522 +05:30 [INF] HTTP GET /api/user/search responded 200 in 15.7659 ms
2025-07-31 11:56:36.523 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 508 application/json; charset=utf-8 18.1621ms
2025-07-31 11:56:36.549 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:56:36.550 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:56:36.551 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.6746ms
2025-07-31 11:56:36.561 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 11:56:36.561 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:56:36.563 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:56:36.564 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:56:36.566 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:56:36.570 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 11:56:36.575 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 11:56:36.576 +05:30 [INF] Found 1 users among search
2025-07-31 11:56:36.576 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:56:36.577 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 12.565ms
2025-07-31 11:56:36.578 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:56:36.579 +05:30 [INF] HTTP GET /api/user/search responded 200 in 16.3430 ms
2025-07-31 11:56:36.580 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 508 application/json; charset=utf-8 18.9517ms
2025-07-31 11:56:37.796 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 11:56:37.797 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:56:37.798 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:56:37.798 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:56:37.799 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 11:56:37.801 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:56:37.802 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 3.4148ms
2025-07-31 11:56:37.803 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 11:56:37.803 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 5.7798 ms
2025-07-31 11:56:37.804 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3775 application/json; charset=utf-8 7.3336ms
2025-07-31 11:56:38.956 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:56:38.956 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:56:38.956 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 204 null null 0.7054ms
2025-07-31 11:56:38.958 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 11:56:38.959 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:56:38.959 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:56:38.959 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 11:56:38.960 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["John"],"LastName":["Doe"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 11:56:38.991 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 11:56:39.003 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 11:56:39.003 +05:30 [INF] Found 1 patients matching search
2025-07-31 11:56:39.003 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:56:39.004 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 44.3923ms
2025-07-31 11:56:39.004 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 11:56:39.004 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 45.3083 ms
2025-07-31 11:56:39.005 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 200 467 application/json; charset=utf-8 46.5252ms
2025-07-31 11:56:39.051 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:56:39.052 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:56:39.053 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.8775ms
2025-07-31 11:56:39.056 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 11:56:39.056 +05:30 [INF] CORS policy execution successful.
2025-07-31 11:56:39.057 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:56:39.058 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 11:56:39.059 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 11:56:39.073 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 11:56:39.123 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 11:56:39.124 +05:30 [INF] Found 1 users among search
2025-07-31 11:56:39.124 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 11:56:39.125 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 66.0102ms
2025-07-31 11:56:39.126 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 11:56:39.126 +05:30 [INF] HTTP GET /api/user/search responded 200 in 68.5596 ms
2025-07-31 11:56:39.126 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 70.9402ms
2025-07-31 12:06:43.556 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:06:43.557 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:06:43.557 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.0659ms
2025-07-31 12:06:43.561 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:06:43.562 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:06:43.562 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 12:06:43.563 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 12:06:43.563 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.3732ms
2025-07-31 12:08:51.859 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:08:51.860 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:08:51.861 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.0851ms
2025-07-31 12:08:51.894 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:08:51.896 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:08:51.897 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 12:08:51.897 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 12:08:51.898 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.2934ms
2025-07-31 12:16:23.245 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:16:23.246 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:16:23.248 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.8862ms
2025-07-31 12:16:23.251 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:16:23.251 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:16:23.252 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 12:16:23.252 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 12:16:23.252 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.7518ms
2025-07-31 12:16:25.964 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 12:16:25.964 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:16:25.965 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 12:16:25.965 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 12:16:25.965 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.375ms
2025-07-31 12:16:26.756 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 12:16:26.757 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:16:26.757 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6206ms
2025-07-31 12:16:26.759 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 12:16:26.759 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:16:26.760 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 12:16:26.760 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 12:16:26.787 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 12:16:27.382 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 12:16:27.383 +05:30 [INF] Role: Admin
2025-07-31 12:16:27.383 +05:30 [INF] Role: Admin
2025-07-31 12:16:27.383 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 12:16:27.389 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 12:16:27.389 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 12:16:27.390 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 629.4073ms
2025-07-31 12:16:27.390 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 12:16:27.390 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 630.3791 ms
2025-07-31 12:16:27.390 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 631.0301ms
2025-07-31 12:16:27.396 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 12:16:27.396 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:16:27.396 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7408ms
2025-07-31 12:16:27.399 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 12:16:27.399 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:16:27.400 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:16:27.400 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 12:16:27.401 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 12:16:27.405 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 12:16:27.409 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 12:16:27.412 +05:30 [INF] Found 1 users among search
2025-07-31 12:16:27.413 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:16:27.414 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 13.082ms
2025-07-31 12:16:27.414 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:16:27.415 +05:30 [INF] HTTP GET /api/user/search responded 200 in 14.8116 ms
2025-07-31 12:16:27.415 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 16.4926ms
2025-07-31 12:16:27.445 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 12:16:27.445 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:16:27.446 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.1342ms
2025-07-31 12:16:27.449 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 12:16:27.449 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:16:27.450 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:16:27.451 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 12:16:27.452 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 12:16:27.454 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 12:16:27.457 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 12:16:27.458 +05:30 [INF] Found 1 users among search
2025-07-31 12:16:27.458 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:16:27.458 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.2693ms
2025-07-31 12:16:27.459 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:16:27.459 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.8583 ms
2025-07-31 12:16:27.459 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 10.4836ms
2025-07-31 12:16:28.436 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:16:28.436 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:16:28.437 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.9482ms
2025-07-31 12:16:28.441 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:16:28.443 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:16:28.444 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:16:28.444 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:16:28.445 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 12:16:28.446 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:16:28.447 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.1379ms
2025-07-31 12:16:28.447 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:16:28.448 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.1572 ms
2025-07-31 12:16:28.448 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3773 application/json; charset=utf-8 7.1318ms
2025-07-31 12:16:29.337 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 12:16:29.338 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:16:29.338 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 204 null null 1.0342ms
2025-07-31 12:16:29.341 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 12:16:29.341 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:16:29.341 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 12:16:29.341 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:16:29.342 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["John"],"LastName":["Doe"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 12:16:29.360 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 12:16:29.375 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 12:16:29.375 +05:30 [INF] Found 1 patients matching search
2025-07-31 12:16:29.375 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:16:29.376 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 34.1606ms
2025-07-31 12:16:29.376 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 12:16:29.376 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 34.8416 ms
2025-07-31 12:16:29.376 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 200 467 application/json; charset=utf-8 35.6937ms
2025-07-31 12:16:29.415 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 12:16:29.416 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:16:29.416 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.686ms
2025-07-31 12:16:29.418 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 12:16:29.418 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:16:29.419 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:16:29.419 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 12:16:29.420 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 12:16:29.423 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 12:16:29.462 +05:30 [INF] Executed DbCommand (38ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 12:16:29.462 +05:30 [INF] Found 1 users among search
2025-07-31 12:16:29.463 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:16:29.463 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 43.483ms
2025-07-31 12:16:29.463 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:16:29.464 +05:30 [INF] HTTP GET /api/user/search responded 200 in 44.5974 ms
2025-07-31 12:16:29.464 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 45.793ms
2025-07-31 12:29:00.766 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:29:00.767 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:29:00.767 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.6142ms
2025-07-31 12:29:00.773 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:29:00.774 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:29:00.776 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 12:29:00.776 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 12:29:00.776 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.1317ms
2025-07-31 12:29:03.365 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 12:29:03.365 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:29:03.366 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 12:29:03.366 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 12:29:03.366 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.3742ms
2025-07-31 12:29:05.959 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 12:29:05.960 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:29:05.960 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.1248ms
2025-07-31 12:29:05.962 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 12:29:05.962 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:29:05.963 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 12:29:05.963 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 12:29:05.988 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 12:29:06.574 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 12:29:06.575 +05:30 [INF] Role: Admin
2025-07-31 12:29:06.575 +05:30 [INF] Role: Admin
2025-07-31 12:29:06.575 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 12:29:06.583 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 12:29:06.584 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 12:29:06.584 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 620.5673ms
2025-07-31 12:29:06.584 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 12:29:06.584 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 621.5548 ms
2025-07-31 12:29:06.585 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 622.6017ms
2025-07-31 12:29:06.591 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 12:29:06.591 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:29:06.591 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.5566ms
2025-07-31 12:29:06.594 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 12:29:06.594 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:29:06.594 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:29:06.595 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 12:29:06.595 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 12:29:06.597 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 12:29:06.602 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 12:29:06.603 +05:30 [INF] Found 1 users among search
2025-07-31 12:29:06.603 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:29:06.607 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 11.7944ms
2025-07-31 12:29:06.607 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:29:06.608 +05:30 [INF] HTTP GET /api/user/search responded 200 in 13.3523 ms
2025-07-31 12:29:06.608 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 14.5591ms
2025-07-31 12:29:06.640 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 12:29:06.641 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:29:06.642 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.6353ms
2025-07-31 12:29:06.646 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 12:29:06.646 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:29:06.648 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:29:06.648 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 12:29:06.650 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 12:29:06.654 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 12:29:06.657 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 12:29:06.657 +05:30 [INF] Found 1 users among search
2025-07-31 12:29:06.657 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:29:06.658 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.4519ms
2025-07-31 12:29:06.658 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:29:06.659 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.2224 ms
2025-07-31 12:29:06.659 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 12.8693ms
2025-07-31 12:29:10.438 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:29:10.439 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:29:10.439 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.9106ms
2025-07-31 12:29:10.441 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:29:10.442 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:29:10.442 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:29:10.442 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:29:10.443 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 12:29:10.444 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:29:10.444 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.8287ms
2025-07-31 12:29:10.445 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:29:10.445 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 2.9874 ms
2025-07-31 12:29:10.445 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3774 application/json; charset=utf-8 4.1002ms
2025-07-31 12:29:12.872 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 12:29:12.872 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:29:12.872 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 204 null null 0.6756ms
2025-07-31 12:29:12.875 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 12:29:12.875 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:29:12.876 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 12:29:12.876 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:29:12.877 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["John"],"LastName":["Doe"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 12:29:12.898 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 12:29:12.909 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 12:29:12.909 +05:30 [INF] Found 1 patients matching search
2025-07-31 12:29:12.910 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:29:12.910 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 33.5515ms
2025-07-31 12:29:12.910 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 12:29:12.910 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 34.5556 ms
2025-07-31 12:29:12.910 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 200 467 application/json; charset=utf-8 35.3267ms
2025-07-31 12:29:12.946 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 12:29:12.947 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:29:12.947 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7775ms
2025-07-31 12:29:12.949 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 12:29:12.950 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:29:12.951 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:29:12.951 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 12:29:12.952 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 12:29:12.955 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 12:29:12.995 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 12:29:12.996 +05:30 [INF] Found 1 users among search
2025-07-31 12:29:12.996 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:29:12.996 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 44.5501ms
2025-07-31 12:29:12.996 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:29:12.997 +05:30 [INF] HTTP GET /api/user/search responded 200 in 46.1516 ms
2025-07-31 12:29:12.997 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 47.7446ms
2025-07-31 12:30:12.716 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:30:12.717 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:30:12.718 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.7697ms
2025-07-31 12:30:12.727 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:30:12.728 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:30:12.730 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 12:30:12.731 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 12:30:12.731 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 4.5292ms
2025-07-31 12:31:53.742 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:31:53.742 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:31:53.743 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6123ms
2025-07-31 12:31:53.751 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:31:53.752 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:31:53.752 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 12:31:53.753 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 12:31:53.753 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.0021ms
2025-07-31 12:32:06.009 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 12:32:06.009 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:06.010 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 12:32:06.010 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 12:32:06.010 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.6407ms
2025-07-31 12:32:10.977 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 12:32:10.977 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:10.977 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5559ms
2025-07-31 12:32:10.979 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 12:32:10.980 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:10.980 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 12:32:10.981 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 12:32:10.998 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 12:32:12.019 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 12:32:12.019 +05:30 [INF] Role: Admin
2025-07-31 12:32:12.020 +05:30 [INF] Role: Admin
2025-07-31 12:32:12.020 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 12:32:12.028 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 12:32:12.029 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 12:32:12.030 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1049.3184ms
2025-07-31 12:32:12.030 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 12:32:12.031 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1050.5693 ms
2025-07-31 12:32:12.031 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 1051.7072ms
2025-07-31 12:32:12.036 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 12:32:12.037 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:12.037 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.9212ms
2025-07-31 12:32:12.039 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 12:32:12.039 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:12.040 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:12.041 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 12:32:12.042 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 12:32:12.044 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 12:32:12.050 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 12:32:12.050 +05:30 [INF] Found 1 users among search
2025-07-31 12:32:12.052 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:32:12.053 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 11.2312ms
2025-07-31 12:32:12.054 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:12.055 +05:30 [INF] HTTP GET /api/user/search responded 200 in 14.9348 ms
2025-07-31 12:32:12.055 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 16.1724ms
2025-07-31 12:32:12.082 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 12:32:12.083 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:12.084 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.1566ms
2025-07-31 12:32:12.087 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 12:32:12.088 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:12.089 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:12.089 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 12:32:12.090 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 12:32:12.093 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 12:32:12.096 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 12:32:12.096 +05:30 [INF] Found 1 users among search
2025-07-31 12:32:12.097 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:32:12.097 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.7768ms
2025-07-31 12:32:12.097 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:12.098 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.2176 ms
2025-07-31 12:32:12.098 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 10.7741ms
2025-07-31 12:32:13.982 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:32:13.982 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:13.983 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6098ms
2025-07-31 12:32:13.985 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:32:13.985 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:13.986 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:32:13.988 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:32:13.989 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 12:32:13.990 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:32:13.991 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.0924ms
2025-07-31 12:32:13.991 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:32:13.992 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 5.8820 ms
2025-07-31 12:32:13.992 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3775 application/json; charset=utf-8 7.241ms
2025-07-31 12:32:15.321 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 12:32:15.321 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:15.322 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 204 null null 0.8179ms
2025-07-31 12:32:15.325 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 12:32:15.325 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:15.326 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:15.326 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:32:15.327 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["John"],"LastName":["Doe"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 12:32:15.347 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 12:32:15.361 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 12:32:15.362 +05:30 [INF] Found 1 patients matching search
2025-07-31 12:32:15.362 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:32:15.362 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 36.1134ms
2025-07-31 12:32:15.363 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:15.363 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 37.6423 ms
2025-07-31 12:32:15.364 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 200 467 application/json; charset=utf-8 39.1962ms
2025-07-31 12:32:15.412 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 12:32:15.412 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:15.412 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7765ms
2025-07-31 12:32:15.415 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 12:32:15.416 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:15.416 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:15.417 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 12:32:15.419 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 12:32:15.421 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 12:32:15.464 +05:30 [INF] Executed DbCommand (42ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 12:32:15.465 +05:30 [INF] Found 1 users among search
2025-07-31 12:32:15.465 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:32:15.466 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 47.6764ms
2025-07-31 12:32:15.466 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:15.467 +05:30 [INF] HTTP GET /api/user/search responded 200 in 50.4529 ms
2025-07-31 12:32:15.468 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 52.8186ms
2025-07-31 12:32:23.056 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Michael&lastName=Johnson&contactNumber=5551009005&medicalHistory=Arthritis&allergies=None&currentMedications=Ibuprofen%20400mg - null null
2025-07-31 12:32:23.056 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:23.057 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Michael&lastName=Johnson&contactNumber=5551009005&medicalHistory=Arthritis&allergies=None&currentMedications=Ibuprofen%20400mg - 204 null null 0.5529ms
2025-07-31 12:32:23.059 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Michael&lastName=Johnson&contactNumber=5551009005&medicalHistory=Arthritis&allergies=None&currentMedications=Ibuprofen%20400mg - null null
2025-07-31 12:32:23.059 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:23.060 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:23.060 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:32:23.061 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["Michael"],"LastName":["Johnson"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 12:32:23.064 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 12:32:23.066 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 12:32:23.067 +05:30 [INF] Found 1 patients matching search
2025-07-31 12:32:23.068 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:32:23.069 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 8.2228ms
2025-07-31 12:32:23.070 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:23.071 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 11.0994 ms
2025-07-31 12:32:23.071 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Michael&lastName=Johnson&contactNumber=5551009005&medicalHistory=Arthritis&allergies=None&currentMedications=Ibuprofen%20400mg - 200 445 application/json; charset=utf-8 12.2512ms
2025-07-31 12:32:23.098 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 12:32:23.099 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:23.100 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.2007ms
2025-07-31 12:32:23.102 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 12:32:23.102 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:23.103 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:23.103 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 12:32:23.105 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 12:32:23.107 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 12:32:23.111 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 12:32:23.112 +05:30 [INF] Found 1 users among search
2025-07-31 12:32:23.112 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:32:23.112 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.2975ms
2025-07-31 12:32:23.113 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:23.113 +05:30 [INF] HTTP GET /api/user/search responded 200 in 10.7478 ms
2025-07-31 12:32:23.114 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 12.1496ms
2025-07-31 12:32:34.359 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=25 - null null
2025-07-31 12:32:34.360 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:34.360 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=25 - 204 null null 0.7957ms
2025-07-31 12:32:34.363 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=25 - null null
2025-07-31 12:32:34.363 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:34.364 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:32:34.365 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:32:34.367 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 12:32:34.374 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:32:34.376 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 9.7084ms
2025-07-31 12:32:34.376 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:32:34.377 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 12.8485 ms
2025-07-31 12:32:34.377 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=25 - 200 8228 application/json; charset=utf-8 14.5733ms
2025-07-31 12:32:37.678 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:32:37.679 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:37.680 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1153ms
2025-07-31 12:32:37.681 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:32:37.682 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:37.682 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:32:37.682 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:32:37.683 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 12:32:37.684 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:32:37.684 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.8737ms
2025-07-31 12:32:37.685 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:32:37.685 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 2.9388 ms
2025-07-31 12:32:37.686 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3773 application/json; charset=utf-8 4.2547ms
2025-07-31 12:32:41.996 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 12:32:41.997 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:41.997 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.6264ms
2025-07-31 12:32:42.001 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 12:32:42.002 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:42.003 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:32:42.003 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:32:42.004 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 12:32:42.005 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:32:42.006 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.3394ms
2025-07-31 12:32:42.007 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:32:42.007 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.5472 ms
2025-07-31 12:32:42.008 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - 200 3038 application/json; charset=utf-8 6.4879ms
2025-07-31 12:32:43.435 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:32:43.435 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:43.435 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8126ms
2025-07-31 12:32:43.438 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:32:43.438 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:43.439 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:32:43.439 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:32:43.439 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 12:32:43.440 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:32:43.441 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.6688ms
2025-07-31 12:32:43.441 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:32:43.441 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 2.3185 ms
2025-07-31 12:32:43.441 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3774 application/json; charset=utf-8 3.2178ms
2025-07-31 12:32:47.642 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=aa - null null
2025-07-31 12:32:47.643 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:47.643 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=aa - 204 null null 0.8108ms
2025-07-31 12:32:47.645 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=aa - null null
2025-07-31 12:32:47.646 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:47.646 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:32:47.647 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:32:47.647 +05:30 [INF] Lucene search for query 'aa' with sort 'null' order 'null'
2025-07-31 12:32:47.688 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:32:47.689 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 41.8541ms
2025-07-31 12:32:47.689 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:32:47.690 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 43.2565 ms
2025-07-31 12:32:47.690 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=aa - 200 777 application/json; charset=utf-8 44.796ms
2025-07-31 12:32:48.094 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=aak - null null
2025-07-31 12:32:48.094 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:48.095 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=aak - 204 null null 0.8448ms
2025-07-31 12:32:48.097 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=aak - null null
2025-07-31 12:32:48.097 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:48.098 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:32:48.098 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:32:48.099 +05:30 [INF] Lucene search for query 'aak' with sort 'null' order 'null'
2025-07-31 12:32:48.148 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:32:48.152 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 53.7166ms
2025-07-31 12:32:48.154 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:32:48.155 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 57.5130 ms
2025-07-31 12:32:48.156 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=aak - 200 777 application/json; charset=utf-8 58.9075ms
2025-07-31 12:32:49.940 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Aakarsh&lastName=Batra&contactNumber=7573020400&medicalHistory=None&allergies=House%20dust%20mites,Other&currentMedications=None - null null
2025-07-31 12:32:49.941 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:49.941 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Aakarsh&lastName=Batra&contactNumber=7573020400&medicalHistory=None&allergies=House%20dust%20mites,Other&currentMedications=None - 204 null null 0.9785ms
2025-07-31 12:32:49.943 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Aakarsh&lastName=Batra&contactNumber=7573020400&medicalHistory=None&allergies=House%20dust%20mites,Other&currentMedications=None - null null
2025-07-31 12:32:49.944 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:49.944 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:49.945 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:32:49.946 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["Aakarsh"],"LastName":["Batra"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 12:32:49.948 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 12:32:49.951 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 12:32:49.951 +05:30 [INF] Found 2 patients matching search
2025-07-31 12:32:49.952 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:32:49.953 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 7.5256ms
2025-07-31 12:32:49.953 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:49.954 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 9.0333 ms
2025-07-31 12:32:49.954 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Aakarsh&lastName=Batra&contactNumber=7573020400&medicalHistory=None&allergies=House%20dust%20mites,Other&currentMedications=None - 200 784 application/json; charset=utf-8 11.2532ms
2025-07-31 12:32:49.986 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 12:32:49.987 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:49.987 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.1546ms
2025-07-31 12:32:49.990 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 12:32:49.990 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:32:49.991 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:49.991 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 12:32:49.992 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 12:32:49.994 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 12:32:49.996 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 12:32:49.997 +05:30 [INF] Found 1 users among search
2025-07-31 12:32:49.997 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:32:49.998 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.6439ms
2025-07-31 12:32:49.998 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:32:49.998 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.8429 ms
2025-07-31 12:32:49.999 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 8.9851ms
2025-07-31 12:33:06.451 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Aakarsh&lastName=Batra&contactNumber=7573020400&medicalHistory=None&allergies=House%20dust%20mites,Other&currentMedications=None - null null
2025-07-31 12:33:06.451 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:33:06.451 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Aakarsh&lastName=Batra&contactNumber=7573020400&medicalHistory=None&allergies=House%20dust%20mites,Other&currentMedications=None - 204 null null 0.6922ms
2025-07-31 12:33:06.454 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Aakarsh&lastName=Batra&contactNumber=7573020400&medicalHistory=None&allergies=House%20dust%20mites,Other&currentMedications=None - null null
2025-07-31 12:33:06.454 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:33:06.454 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 12:33:06.454 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:33:06.455 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["Aakarsh"],"LastName":["Batra"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 12:33:06.484 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 12:33:06.497 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 12:33:06.497 +05:30 [INF] Found 2 patients matching search
2025-07-31 12:33:06.498 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:33:06.499 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 43.9087ms
2025-07-31 12:33:06.499 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 12:33:06.499 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 44.8699 ms
2025-07-31 12:33:06.499 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=Aakarsh&lastName=Batra&contactNumber=7573020400&medicalHistory=None&allergies=House%20dust%20mites,Other&currentMedications=None - 200 784 application/json; charset=utf-8 45.7775ms
2025-07-31 12:33:06.519 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 12:33:06.519 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:33:06.520 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.6018ms
2025-07-31 12:33:06.522 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 12:33:06.522 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:33:06.523 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:33:06.524 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 12:33:06.524 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 12:33:06.527 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 12:33:06.568 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 12:33:06.568 +05:30 [INF] Found 1 users among search
2025-07-31 12:33:06.569 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:33:06.569 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 45.0858ms
2025-07-31 12:33:06.569 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 12:33:06.570 +05:30 [INF] HTTP GET /api/user/search responded 200 in 46.8784 ms
2025-07-31 12:33:06.570 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 48.2829ms
2025-07-31 12:33:16.792 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:33:16.792 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:33:16.792 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6507ms
2025-07-31 12:33:16.795 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 12:33:16.795 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:33:16.796 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:33:16.797 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:33:16.798 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 12:33:16.799 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:33:16.800 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.1044ms
2025-07-31 12:33:16.800 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:33:16.800 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.2732 ms
2025-07-31 12:33:16.801 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3772 application/json; charset=utf-8 6.0274ms
2025-07-31 12:33:38.515 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 12:33:38.515 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:33:38.515 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.6406ms
2025-07-31 12:33:38.518 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 12:33:38.518 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:33:38.519 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:33:38.519 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:33:38.519 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 12:33:38.520 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:33:38.520 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.3225ms
2025-07-31 12:33:38.522 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:33:38.522 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.7368 ms
2025-07-31 12:33:38.523 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - 200 3036 application/json; charset=utf-8 5.1436ms
2025-07-31 12:33:38.923 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=3&pageSize=10 - null null
2025-07-31 12:33:38.923 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:33:38.924 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.5148ms
2025-07-31 12:33:38.926 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=3&pageSize=10 - null null
2025-07-31 12:33:38.931 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:33:38.932 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:33:38.933 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:33:38.934 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 12:33:38.947 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:33:38.947 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 13.5159ms
2025-07-31 12:33:38.947 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:33:38.947 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 15.2751 ms
2025-07-31 12:33:38.948 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=3&pageSize=10 - 200 3039 application/json; charset=utf-8 21.2568ms
2025-07-31 12:33:39.852 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=4&pageSize=10 - null null
2025-07-31 12:33:39.852 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:33:39.853 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=4&pageSize=10 - 204 null null 0.9718ms
2025-07-31 12:33:39.855 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=4&pageSize=10 - null null
2025-07-31 12:33:39.855 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:33:39.856 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:33:39.856 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 12:33:39.856 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 12:33:39.861 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 12:33:39.862 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 5.4417ms
2025-07-31 12:33:39.862 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 12:33:39.862 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 6.8191 ms
2025-07-31 12:33:39.863 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=4&pageSize=10 - 200 2319 application/json; charset=utf-8 7.9361ms
2025-07-31 12:33:45.263 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 12:33:45.264 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:33:45.264 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 12:33:45.265 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 12:33:45.265 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.9822ms
2025-07-31 12:33:45.270 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 12:33:45.270 +05:30 [INF] CORS policy execution successful.
2025-07-31 12:33:45.271 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 12:33:45.271 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 12:33:45.271 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.178ms
2025-07-31 13:48:11.563 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 13:48:11.564 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:11.564 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.6022ms
2025-07-31 13:48:11.566 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 13:48:11.566 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:11.567 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 13:48:11.568 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 13:48:11.603 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 13:48:12.238 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 13:48:12.238 +05:30 [INF] Role: Admin
2025-07-31 13:48:12.239 +05:30 [INF] Role: Admin
2025-07-31 13:48:12.239 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 13:48:12.246 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 13:48:12.246 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 13:48:12.247 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 678.8536ms
2025-07-31 13:48:12.247 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 13:48:12.247 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 680.0245 ms
2025-07-31 13:48:12.247 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 681.3764ms
2025-07-31 13:48:12.251 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 13:48:12.251 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:12.251 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6057ms
2025-07-31 13:48:12.253 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 13:48:12.254 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:12.254 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 13:48:12.254 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 13:48:12.255 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 13:48:12.257 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 13:48:12.259 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 13:48:12.259 +05:30 [INF] Found 1 users among search
2025-07-31 13:48:12.260 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 13:48:12.260 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.6622ms
2025-07-31 13:48:12.261 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 13:48:12.261 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.9549 ms
2025-07-31 13:48:12.261 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 7.8356ms
2025-07-31 13:48:12.286 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 13:48:12.286 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:12.286 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.7567ms
2025-07-31 13:48:12.290 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 13:48:12.290 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:12.291 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 13:48:12.291 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 13:48:12.292 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 13:48:12.294 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 13:48:12.296 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 13:48:12.297 +05:30 [INF] Found 1 users among search
2025-07-31 13:48:12.297 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 13:48:12.297 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.7544ms
2025-07-31 13:48:12.297 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 13:48:12.298 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.3425 ms
2025-07-31 13:48:12.298 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 8.7362ms
2025-07-31 13:48:18.386 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 13:48:18.387 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:18.387 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7451ms
2025-07-31 13:48:18.390 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 13:48:18.390 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:18.391 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 13:48:18.391 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 13:48:18.392 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 13:48:18.393 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 13:48:18.393 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.5215ms
2025-07-31 13:48:18.394 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 13:48:18.394 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.0246 ms
2025-07-31 13:48:18.394 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3774 application/json; charset=utf-8 4.4058ms
2025-07-31 13:48:20.996 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 13:48:20.997 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:20.997 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.9797ms
2025-07-31 13:48:21.000 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 13:48:21.000 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:21.001 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 13:48:21.001 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 13:48:21.002 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 13:48:21.005 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 13:48:21.032 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 13:48:21.033 +05:30 [INF] Found 1 users among search
2025-07-31 13:48:21.034 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 13:48:21.034 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 32.8208ms
2025-07-31 13:48:21.035 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 13:48:21.035 +05:30 [INF] HTTP GET /api/user/search responded 200 in 34.2265 ms
2025-07-31 13:48:21.035 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 35.8768ms
2025-07-31 13:48:30.453 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 13:48:30.454 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:30.455 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.2795ms
2025-07-31 13:48:30.457 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 13:48:30.457 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:30.458 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 13:48:30.458 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 13:48:30.458 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 13:48:30.460 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 13:48:30.467 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 13:48:30.467 +05:30 [INF] Found 1 users among search
2025-07-31 13:48:30.467 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 13:48:30.468 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 10.0097ms
2025-07-31 13:48:30.470 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 13:48:30.470 +05:30 [INF] HTTP GET /api/user/search responded 200 in 12.6268 ms
2025-07-31 13:48:30.471 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 13.8919ms
2025-07-31 13:48:30.545 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 13:48:30.545 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:30.546 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 204 null null 1.1976ms
2025-07-31 13:48:30.549 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 13:48:30.550 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:30.550 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 13:48:30.551 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 13:48:30.551 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["John"],"LastName":["Doe"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 13:48:30.575 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 13:48:30.593 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 13:48:30.594 +05:30 [INF] Found 1 patients matching search
2025-07-31 13:48:30.594 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 13:48:30.594 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 43.1885ms
2025-07-31 13:48:30.594 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 13:48:30.595 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 44.3646 ms
2025-07-31 13:48:30.595 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 200 467 application/json; charset=utf-8 45.5996ms
2025-07-31 13:48:30.601 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/1 - null null
2025-07-31 13:48:30.601 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:30.602 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/1 - 204 null null 0.7891ms
2025-07-31 13:48:30.604 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - application/json-patch+json 843
2025-07-31 13:48:30.604 +05:30 [INF] CORS policy execution successful.
2025-07-31 13:48:30.605 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 13:48:30.617 +05:30 [INF] Route matched with {action = "PatchPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PatchPatient(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[HealthcareApi.Models.Patient]) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 13:48:30.665 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[PatientID] = @__id_0
2025-07-31 13:48:30.688 +05:30 [ERR] Error updating patient 1
System.InvalidOperationException: The property 'Patient.PatientID' is part of a key and so cannot be modified or marked as modified. To change the principal of an existing entity with an identifying foreign key, first delete the dependent and invoke 'SaveChanges', and then associate the dependent with the new principal.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.LocalDetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(InternalEntityEntry entry, HashSet`1 visited)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.ChangeDetector.DetectChanges(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.EntityEntry.DetectChanges()
   at Microsoft.EntityFrameworkCore.DbContext.TryDetectChanges(EntityEntry entry)
   at Microsoft.EntityFrameworkCore.DbContext.Entry[TEntity](TEntity entity)
   at HealthcareApi.Repositories.PatientRepository.UpdateAsync(Patient patient) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Repositories\PatientRepository.cs:line 34
   at HealthcareApi.Services.PatientService.UpdatePatient(Int32 id, JsonPatchDocument`1 patchDoc) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\PatientService.cs:line 54
   at HealthcareApi.Controllers.PatientController.PatchPatient(Int32 id, JsonPatchDocument`1 patchDoc) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\PatientController.cs:line 101
2025-07-31 13:48:30.721 +05:30 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-07-31 13:48:30.731 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi) in 114.079ms
2025-07-31 13:48:30.731 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 13:48:30.732 +05:30 [ERR] HTTP PATCH /api/patient/1 responded 500 in 126.5979 ms
2025-07-31 13:48:30.732 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - 500 null text/plain; charset=utf-8 128.1771ms
2025-07-31 14:00:37.819 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:00:37.820 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:37.820 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.4196ms
2025-07-31 14:00:37.836 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:00:37.839 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:37.839 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 14:00:37.840 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 14:00:37.840 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.5347ms
2025-07-31 14:00:41.030 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 14:00:41.030 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:41.031 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 14:00:41.031 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 14:00:41.031 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.1953ms
2025-07-31 14:00:42.049 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 14:00:42.049 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:42.049 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.62ms
2025-07-31 14:00:42.051 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 14:00:42.051 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:42.052 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 14:00:42.052 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 14:00:42.076 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 14:00:42.827 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 14:00:42.828 +05:30 [INF] Role: Admin
2025-07-31 14:00:42.828 +05:30 [INF] Role: Admin
2025-07-31 14:00:42.828 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 14:00:42.833 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 14:00:42.834 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 14:00:42.834 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 781.9145ms
2025-07-31 14:00:42.835 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 14:00:42.835 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 783.7462 ms
2025-07-31 14:00:42.836 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 784.8726ms
2025-07-31 14:00:42.843 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 14:00:42.843 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:42.844 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 1.2997ms
2025-07-31 14:00:42.847 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 14:00:42.848 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:42.849 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:00:42.850 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 14:00:42.852 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 14:00:42.863 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 14:00:42.876 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 14:00:42.890 +05:30 [INF] Found 1 users among search
2025-07-31 14:00:42.892 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:00:42.899 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 47.8896ms
2025-07-31 14:00:42.901 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:00:42.901 +05:30 [INF] HTTP GET /api/user/search responded 200 in 51.7294 ms
2025-07-31 14:00:42.901 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 53.7982ms
2025-07-31 14:00:42.913 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 14:00:42.915 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:42.915 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.2023ms
2025-07-31 14:00:42.921 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 14:00:42.921 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:42.923 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:00:42.923 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 14:00:42.929 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 14:00:42.935 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 14:00:42.939 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 14:00:42.940 +05:30 [INF] Found 1 users among search
2025-07-31 14:00:42.941 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:00:42.941 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 12.8098ms
2025-07-31 14:00:42.942 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:00:42.942 +05:30 [INF] HTTP GET /api/user/search responded 200 in 19.3194 ms
2025-07-31 14:00:42.942 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 21.4988ms
2025-07-31 14:00:44.187 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:00:44.188 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:44.188 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.9197ms
2025-07-31 14:00:44.191 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:00:44.191 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:44.192 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:00:44.192 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:00:44.193 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:00:44.195 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:00:44.196 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 3.3663ms
2025-07-31 14:00:44.196 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:00:44.197 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.7596 ms
2025-07-31 14:00:44.197 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3773 application/json; charset=utf-8 6.6552ms
2025-07-31 14:00:46.507 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 14:00:46.507 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:46.508 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.4368ms
2025-07-31 14:00:46.510 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 14:00:46.511 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:46.512 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:00:46.512 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 14:00:46.513 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 14:00:46.516 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 14:00:46.588 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 14:00:46.589 +05:30 [INF] Found 1 users among search
2025-07-31 14:00:46.590 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:00:46.591 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 78.4651ms
2025-07-31 14:00:46.591 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:00:46.592 +05:30 [INF] HTTP GET /api/user/search responded 200 in 80.0949 ms
2025-07-31 14:00:46.595 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 84.0315ms
2025-07-31 14:00:51.274 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 14:00:51.275 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:51.275 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:00:51.276 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 14:00:51.277 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 14:00:51.280 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 14:00:51.283 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 14:00:51.284 +05:30 [INF] Found 1 users among search
2025-07-31 14:00:51.284 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:00:51.285 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.6476ms
2025-07-31 14:00:51.285 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:00:51.285 +05:30 [INF] HTTP GET /api/user/search responded 200 in 10.0570 ms
2025-07-31 14:00:51.285 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 11.1668ms
2025-07-31 14:00:51.359 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 14:00:51.359 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:51.360 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 204 null null 1.3862ms
2025-07-31 14:00:51.364 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 14:00:51.365 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:51.366 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 14:00:51.366 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:00:51.367 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["John"],"LastName":["Doe"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 14:00:51.389 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 14:00:51.405 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 14:00:51.406 +05:30 [INF] Found 1 patients matching search
2025-07-31 14:00:51.406 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:00:51.407 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 40.3686ms
2025-07-31 14:00:51.407 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 14:00:51.408 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 42.1703 ms
2025-07-31 14:00:51.408 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension,%20Diabetes%20Type%202&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 200 467 application/json; charset=utf-8 43.5385ms
2025-07-31 14:00:51.413 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/1 - null null
2025-07-31 14:00:51.413 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:51.413 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/1 - 204 null null 0.7417ms
2025-07-31 14:00:51.415 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - application/json-patch+json 743
2025-07-31 14:00:51.416 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:51.417 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:00:51.417 +05:30 [INF] Route matched with {action = "PatchPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PatchPatient(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[HealthcareApi.Models.Patient]) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:00:51.424 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[PatientID] = @__id_0
2025-07-31 14:00:51.433 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p13='?' (DbType = Int32), @p0='?' (Size = 255), @p1='?' (Size = 500), @p2='?' (Size = 20), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Date), @p6='?' (Size = 50), @p7='?' (Size = 10), @p8='?' (Size = 50), @p9='?' (Size = 1000), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Patients] SET [Address] = @p0, [Allergies] = @p1, [ContactNumber] = @p2, [CreatedAt] = @p3, [CurrentMedications] = @p4, [DateOfBirth] = @p5, [FirstName] = @p6, [Gender] = @p7, [LastName] = @p8, [MedicalHistory] = @p9, [ModifiedAt] = @p10, [UserID] = @p11, [isActive] = @p12
OUTPUT 1
WHERE [PatientID] = @p13;
2025-07-31 14:00:51.530 +05:30 [INF] Patient 1 updated successfully
2025-07-31 14:00:51.532 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-31 14:00:51.532 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi) in 114.486ms
2025-07-31 14:00:51.533 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:00:51.533 +05:30 [INF] HTTP PATCH /api/patient/1 responded 204 in 116.2944 ms
2025-07-31 14:00:51.533 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - 204 null null 117.564ms
2025-07-31 14:00:51.550 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:00:51.551 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:51.551 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.9323ms
2025-07-31 14:00:51.554 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:00:51.554 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:00:51.554 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:00:51.555 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:00:51.555 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:00:51.558 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:00:51.559 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 4.4945ms
2025-07-31 14:00:51.560 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:00:51.560 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 6.1303 ms
2025-07-31 14:00:51.561 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3671 application/json; charset=utf-8 7.4756ms
2025-07-31 14:01:02.397 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-07-31 14:01:02.397 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:02.398 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - 204 null null 0.9387ms
2025-07-31 14:01:02.400 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-07-31 14:01:02.401 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:02.401 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:01:02.403 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:01:02.404 +05:30 [INF] Lucene search for query 'john' with sort 'null' order 'null'
2025-07-31 14:01:02.446 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:01:02.446 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 43.2925ms
2025-07-31 14:01:02.447 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:01:02.447 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 45.3729 ms
2025-07-31 14:01:02.447 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - 200 1525 application/json; charset=utf-8 46.4762ms
2025-07-31 14:01:10.184 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:01:10.185 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:10.185 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6971ms
2025-07-31 14:01:10.187 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:01:10.188 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:10.188 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:01:10.188 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:01:10.189 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:01:10.190 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:01:10.190 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.8158ms
2025-07-31 14:01:10.191 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:01:10.191 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.0175 ms
2025-07-31 14:01:10.191 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3668 application/json; charset=utf-8 4.2136ms
2025-07-31 14:01:11.692 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=doe - null null
2025-07-31 14:01:11.693 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:11.693 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=doe - 204 null null 0.6772ms
2025-07-31 14:01:11.695 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=doe - null null
2025-07-31 14:01:11.696 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:11.696 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:01:11.697 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:01:11.697 +05:30 [INF] Lucene search for query 'doe' with sort 'null' order 'null'
2025-07-31 14:01:11.735 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:01:11.736 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 38.8203ms
2025-07-31 14:01:11.736 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:01:11.736 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 39.9466 ms
2025-07-31 14:01:11.737 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=doe - 200 452 application/json; charset=utf-8 41.0843ms
2025-07-31 14:01:13.309 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:01:13.310 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:13.311 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:01:13.311 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:01:13.312 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:01:13.313 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:01:13.313 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.5755ms
2025-07-31 14:01:13.314 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:01:13.314 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.3260 ms
2025-07-31 14:01:13.314 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3669 application/json; charset=utf-8 5.0818ms
2025-07-31 14:01:46.001 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:01:46.003 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:46.004 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.7864ms
2025-07-31 14:01:46.013 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:01:46.013 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:46.014 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 14:01:46.015 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 14:01:46.015 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.3665ms
2025-07-31 14:01:46.773 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 14:01:46.773 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:46.774 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 14:01:46.774 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 14:01:46.775 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.8582ms
2025-07-31 14:01:47.523 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 14:01:47.524 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:47.524 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7623ms
2025-07-31 14:01:47.526 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 14:01:47.527 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:47.527 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 14:01:47.527 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 14:01:47.532 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 14:01:48.259 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 14:01:48.259 +05:30 [INF] Role: Admin
2025-07-31 14:01:48.260 +05:30 [INF] Role: Admin
2025-07-31 14:01:48.260 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 14:01:48.264 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 14:01:48.265 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 14:01:48.265 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 737.3028ms
2025-07-31 14:01:48.265 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 14:01:48.266 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 738.4345 ms
2025-07-31 14:01:48.266 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 739.6684ms
2025-07-31 14:01:48.273 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 14:01:48.274 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:48.274 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7811ms
2025-07-31 14:01:48.277 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 14:01:48.277 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:48.277 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:01:48.278 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 14:01:48.278 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 14:01:48.281 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 14:01:48.285 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 14:01:48.289 +05:30 [INF] Found 1 users among search
2025-07-31 14:01:48.293 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:01:48.293 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 15.2398ms
2025-07-31 14:01:48.294 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:01:48.294 +05:30 [INF] HTTP GET /api/user/search responded 200 in 16.5981 ms
2025-07-31 14:01:48.294 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 17.8984ms
2025-07-31 14:01:48.315 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 14:01:48.316 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:48.317 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.9895ms
2025-07-31 14:01:48.323 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 14:01:48.324 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:48.325 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:01:48.327 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 14:01:48.328 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 14:01:48.330 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 14:01:48.333 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 14:01:48.334 +05:30 [INF] Found 1 users among search
2025-07-31 14:01:48.334 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:01:48.336 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.1206ms
2025-07-31 14:01:48.336 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:01:48.337 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.5404 ms
2025-07-31 14:01:48.337 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 14.135ms
2025-07-31 14:01:49.530 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:01:49.530 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:01:49.531 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:01:49.532 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:01:49.533 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:01:49.534 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:01:49.534 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.98ms
2025-07-31 14:01:49.535 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:01:49.535 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.3837 ms
2025-07-31 14:01:49.536 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3672 application/json; charset=utf-8 6.4764ms
2025-07-31 14:19:29.323 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:19:29.325 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:19:29.326 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 3.0561ms
2025-07-31 14:19:29.331 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:19:29.332 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:19:29.334 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 14:19:29.334 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 14:19:29.336 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 4.7593ms
2025-07-31 14:19:29.948 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 14:19:29.949 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:19:29.949 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 14:19:29.949 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 14:19:29.949 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.9279ms
2025-07-31 14:19:31.113 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 14:19:31.114 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:19:31.114 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.9944ms
2025-07-31 14:19:31.116 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 14:19:31.116 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:19:31.117 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 14:19:31.117 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 14:19:31.148 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 14:19:31.992 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 14:19:31.993 +05:30 [INF] Role: Admin
2025-07-31 14:19:31.993 +05:30 [INF] Role: Admin
2025-07-31 14:19:31.994 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 14:19:32.004 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 14:19:32.005 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 14:19:32.005 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 888.1822ms
2025-07-31 14:19:32.006 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 14:19:32.006 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 889.7900 ms
2025-07-31 14:19:32.007 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 890.8973ms
2025-07-31 14:19:32.012 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 14:19:32.012 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:19:32.012 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6625ms
2025-07-31 14:19:32.015 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 14:19:32.015 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:19:32.015 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:19:32.016 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 14:19:32.016 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 14:19:32.019 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 14:19:32.024 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 14:19:32.026 +05:30 [INF] Found 1 users among search
2025-07-31 14:19:32.027 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:19:32.028 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 11.7275ms
2025-07-31 14:19:32.028 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:19:32.029 +05:30 [INF] HTTP GET /api/user/search responded 200 in 13.2288 ms
2025-07-31 14:19:32.030 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 14.71ms
2025-07-31 14:19:32.053 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 14:19:32.055 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:19:32.056 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.1101ms
2025-07-31 14:19:32.059 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 14:19:32.059 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:19:32.059 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:19:32.060 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 14:19:32.060 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 14:19:32.063 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 14:19:32.065 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 14:19:32.066 +05:30 [INF] Found 1 users among search
2025-07-31 14:19:32.066 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:19:32.067 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.7379ms
2025-07-31 14:19:32.067 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:19:32.067 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.1342 ms
2025-07-31 14:19:32.068 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 8.985ms
2025-07-31 14:19:43.101 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:19:43.102 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:19:43.102 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.5594ms
2025-07-31 14:19:43.106 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:19:43.107 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:19:43.107 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:19:43.108 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:19:43.108 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:19:43.109 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:19:43.110 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.7282ms
2025-07-31 14:19:43.110 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:19:43.110 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.1244 ms
2025-07-31 14:19:43.111 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3668 application/json; charset=utf-8 4.9963ms
2025-07-31 14:24:09.265 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 14:24:10.376 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 14:24:12.144 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 14:24:12.825 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-31 14:24:13.025 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-31 14:24:13.028 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-31 14:24:13.029 +05:30 [INF] Hosting environment: Development
2025-07-31 14:24:13.029 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-31 14:24:49.680 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 65
2025-07-31 14:24:49.716 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-31 14:24:49.825 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 14:24:49.850 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 14:24:50.126 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 14:24:51.612 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 14:24:51.613 +05:30 [INF] Role: Admin
2025-07-31 14:24:51.614 +05:30 [INF] Role: Admin
2025-07-31 14:24:51.615 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 14:24:51.720 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 14:24:51.762 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 14:24:51.818 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1962.3053ms
2025-07-31 14:24:51.822 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 14:24:51.828 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 2009.0750 ms
2025-07-31 14:24:51.836 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 2158.4298ms
2025-07-31 14:25:56.304 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - application/json 29
2025-07-31 14:25:56.339 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:25:56.345 +05:30 [INF] Route matched with {action = "PatchPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PatchPatient(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[HealthcareApi.Models.Patient]) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:25:56.362 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 14:25:56.392 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi) in 46.934ms
2025-07-31 14:25:56.393 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:25:56.394 +05:30 [INF] HTTP PATCH /api/patient/1 responded 400 in 55.4276 ms
2025-07-31 14:25:56.396 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - 400 320 application/problem+json; charset=utf-8 91.4561ms
2025-07-31 14:26:58.544 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-07-31 14:26:58.547 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:26:58.550 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - 204 null null 5.7997ms
2025-07-31 14:26:58.552 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-07-31 14:26:58.556 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:26:58.560 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:26:58.562 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:26:58.569 +05:30 [INF] Lucene search for query 'john' with sort 'null' order 'null'
2025-07-31 14:26:58.685 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:26:58.690 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 128.4177ms
2025-07-31 14:26:58.691 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:26:58.691 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 131.3295 ms
2025-07-31 14:26:58.691 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - 200 1525 application/json; charset=utf-8 138.6739ms
2025-07-31 14:27:01.110 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 14:27:01.111 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:27:01.112 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 2.4271ms
2025-07-31 14:27:01.116 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 14:27:01.117 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:27:01.119 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:27:01.132 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 14:27:01.152 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 14:27:01.336 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 14:27:01.385 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 14:27:01.386 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 14:27:01.586 +05:30 [INF] Executed DbCommand (166ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 14:27:01.591 +05:30 [INF] Found 1 users among search
2025-07-31 14:27:01.592 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:27:01.608 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 475.332ms
2025-07-31 14:27:01.608 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:27:01.609 +05:30 [INF] HTTP GET /api/user/search responded 200 in 490.2568 ms
2025-07-31 14:27:01.610 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 493.4194ms
2025-07-31 14:27:15.946 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 14:27:15.947 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:27:15.947 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.0974ms
2025-07-31 14:27:15.950 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 14:27:15.951 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:27:15.952 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:27:15.953 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 14:27:15.956 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 14:27:15.986 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 14:27:16.042 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 14:27:16.043 +05:30 [INF] Found 1 users among search
2025-07-31 14:27:16.044 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:27:16.045 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 91.8012ms
2025-07-31 14:27:16.045 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:27:16.046 +05:30 [INF] HTTP GET /api/user/search responded 200 in 94.0439 ms
2025-07-31 14:27:16.047 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 96.3789ms
2025-07-31 14:27:16.051 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 14:27:16.052 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:27:16.052 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 204 null null 1.1382ms
2025-07-31 14:27:16.054 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - null null
2025-07-31 14:27:16.055 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:27:16.056 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 14:27:16.063 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:27:16.073 +05:30 [INF] Searching patients with params {"PID":null,"UID":null,"FirstName":["John"],"LastName":["Doe"],"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-31 14:27:16.107 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
2025-07-31 14:27:16.110 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 14:27:16.111 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 14:27:16.128 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__param_FirstName_0='?' (Size = 4000), @__param_LastName_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[FirstName] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_FirstName_0) WITH ([value] nvarchar(50) '$') AS [p0]
) AND [p].[LastName] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_LastName_1) WITH ([value] nvarchar(50) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 14:27:16.129 +05:30 [INF] Found 1 patients matching search
2025-07-31 14:27:16.130 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:27:16.130 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 66.6358ms
2025-07-31 14:27:16.131 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-31 14:27:16.131 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 74.8922 ms
2025-07-31 14:27:16.133 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?pageNumber=1&pageSize=10&firstName=John&lastName=Doe&contactNumber=5551001001&medicalHistory=Hypertension&allergies=Penicillin&currentMedications=Lisinopril%2010mg%20daily - 200 442 application/json; charset=utf-8 78.1009ms
2025-07-31 14:27:16.138 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/1 - null null
2025-07-31 14:27:16.139 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:27:16.140 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/1 - 204 null null 2.2123ms
2025-07-31 14:27:16.142 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - application/json-patch+json 737
2025-07-31 14:27:16.142 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:27:16.144 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:27:16.145 +05:30 [INF] Route matched with {action = "PatchPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PatchPatient(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[HealthcareApi.Models.Patient]) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:27:16.204 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[PatientID] = @__id_0
2025-07-31 14:27:16.247 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p13='?' (DbType = Int32), @p0='?' (Size = 255), @p1='?' (Size = 500), @p2='?' (Size = 20), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Date), @p6='?' (Size = 50), @p7='?' (Size = 10), @p8='?' (Size = 50), @p9='?' (Size = 1000), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Patients] SET [Address] = @p0, [Allergies] = @p1, [ContactNumber] = @p2, [CreatedAt] = @p3, [CurrentMedications] = @p4, [DateOfBirth] = @p5, [FirstName] = @p6, [Gender] = @p7, [LastName] = @p8, [MedicalHistory] = @p9, [ModifiedAt] = @p10, [UserID] = @p11, [isActive] = @p12
OUTPUT 1
WHERE [PatientID] = @p13;
2025-07-31 14:27:16.305 +05:30 [INF] Patient 1 updated successfully
2025-07-31 14:27:16.308 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-31 14:27:16.308 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi) in 163.3907ms
2025-07-31 14:27:16.308 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:27:16.308 +05:30 [INF] HTTP PATCH /api/patient/1 responded 204 in 164.2823 ms
2025-07-31 14:27:16.309 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - 204 null null 166.6145ms
2025-07-31 14:27:16.324 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-07-31 14:27:16.324 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:27:16.325 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - 204 null null 0.9664ms
2025-07-31 14:27:16.327 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-07-31 14:27:16.328 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:27:16.329 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:27:16.329 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:27:16.330 +05:30 [INF] Lucene search for query 'john' with sort 'null' order 'null'
2025-07-31 14:27:16.359 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:27:16.360 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 30.6874ms
2025-07-31 14:27:16.360 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:27:16.361 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 32.1179 ms
2025-07-31 14:27:16.361 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10&query=john - 200 1518 application/json; charset=utf-8 33.5298ms
2025-07-31 14:30:06.243 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - application/json 113
2025-07-31 14:30:06.244 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:30:06.245 +05:30 [INF] Route matched with {action = "PatchPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PatchPatient(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[HealthcareApi.Models.Patient]) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:30:06.247 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 14:30:06.247 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi) in 2.5481ms
2025-07-31 14:30:06.248 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:30:06.248 +05:30 [INF] HTTP PATCH /api/patient/1 responded 400 in 4.2164 ms
2025-07-31 14:30:06.249 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - 400 320 application/problem+json; charset=utf-8 5.7965ms
2025-07-31 14:30:26.813 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - application/json 119
2025-07-31 14:30:26.814 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:30:26.815 +05:30 [INF] Route matched with {action = "PatchPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PatchPatient(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[HealthcareApi.Models.Patient]) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:30:26.816 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 14:30:26.816 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi) in 1.3062ms
2025-07-31 14:30:26.817 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:30:26.817 +05:30 [INF] HTTP PATCH /api/patient/1 responded 400 in 2.8236 ms
2025-07-31 14:30:26.817 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - 400 320 application/problem+json; charset=utf-8 4.3972ms
2025-07-31 14:30:29.686 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - application/json 119
2025-07-31 14:30:29.687 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:30:29.688 +05:30 [INF] Route matched with {action = "PatchPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PatchPatient(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[HealthcareApi.Models.Patient]) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:30:29.689 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 14:30:29.689 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi) in 1.2218ms
2025-07-31 14:30:29.690 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:30:29.690 +05:30 [INF] HTTP PATCH /api/patient/1 responded 400 in 2.8159 ms
2025-07-31 14:30:29.690 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - 400 320 application/problem+json; charset=utf-8 4.041ms
2025-07-31 14:32:44.442 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - application/json-patch+json 119
2025-07-31 14:32:44.445 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:32:44.445 +05:30 [INF] Route matched with {action = "PatchPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PatchPatient(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[HealthcareApi.Models.Patient]) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:32:44.449 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 14:32:44.449 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi) in 3.1248ms
2025-07-31 14:32:44.450 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:32:44.450 +05:30 [INF] HTTP PATCH /api/patient/1 responded 400 in 5.4402 ms
2025-07-31 14:32:44.450 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - 400 320 application/problem+json; charset=utf-8 8.0142ms
2025-07-31 14:33:00.946 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - application/json-patch+json 146
2025-07-31 14:33:00.947 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:33:00.948 +05:30 [INF] Route matched with {action = "PatchPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PatchPatient(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[HealthcareApi.Models.Patient]) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:33:00.949 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 14:33:00.949 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi) in 1.5881ms
2025-07-31 14:33:00.950 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:33:00.951 +05:30 [INF] HTTP PATCH /api/patient/1 responded 400 in 3.6046 ms
2025-07-31 14:33:00.951 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - 400 320 application/problem+json; charset=utf-8 5.0096ms
2025-07-31 14:33:26.773 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - application/json-patch+json 146
2025-07-31 14:33:26.774 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:33:26.774 +05:30 [INF] Route matched with {action = "PatchPatient", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PatchPatient(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[HealthcareApi.Models.Patient]) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:33:26.775 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 14:33:26.776 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi) in 1.7875ms
2025-07-31 14:33:26.777 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.PatchPatient (HealthcareApi)'
2025-07-31 14:33:26.777 +05:30 [INF] HTTP PATCH /api/patient/1 responded 400 in 3.9127 ms
2025-07-31 14:33:26.778 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/patient/1 - 400 320 application/problem+json; charset=utf-8 5.1255ms
2025-07-31 14:33:59.331 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:33:59.332 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:33:59.332 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1602ms
2025-07-31 14:33:59.335 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:33:59.335 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:33:59.336 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:33:59.336 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:33:59.337 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:33:59.338 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:33:59.339 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.5853ms
2025-07-31 14:33:59.339 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:33:59.339 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.6409 ms
2025-07-31 14:33:59.340 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3734 application/json; charset=utf-8 4.9411ms
2025-07-31 14:38:38.978 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 14:38:39.849 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 14:38:41.519 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 14:38:42.019 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-31 14:38:42.092 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-31 14:38:42.094 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-31 14:38:42.095 +05:30 [INF] Hosting environment: Development
2025-07-31 14:38:42.095 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-31 14:38:56.168 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/patient - application/json 476
2025-07-31 14:38:56.191 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-31 14:38:56.248 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '31-07-2025 06:19:06', Current time (UTC): '31-07-2025 09:08:56'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-31 14:38:56.264 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '31-07-2025 06:19:06', Current time (UTC): '31-07-2025 09:08:56'.
2025-07-31 14:38:56.268 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-31 14:38:56.273 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 14:38:56.282 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/patient - 401 0 null 115.9123ms
2025-07-31 14:39:06.664 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:39:06.668 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:06.671 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 7.6512ms
2025-07-31 14:39:06.674 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:39:06.681 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:06.686 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 14:39:06.687 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 14:39:06.688 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 13.5896ms
2025-07-31 14:39:07.218 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 14:39:07.219 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:07.222 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 14:39:07.222 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 14:39:07.223 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 5.2215ms
2025-07-31 14:39:08.032 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 14:39:08.033 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:08.034 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.9842ms
2025-07-31 14:39:08.036 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 14:39:08.037 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:08.046 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 14:39:08.078 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 14:39:08.266 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 14:39:09.430 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 14:39:09.430 +05:30 [INF] Role: Admin
2025-07-31 14:39:09.431 +05:30 [INF] Role: Admin
2025-07-31 14:39:09.432 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 14:39:09.550 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 14:39:09.577 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 14:39:09.608 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1525.2217ms
2025-07-31 14:39:09.610 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 14:39:09.615 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1573.3325 ms
2025-07-31 14:39:09.623 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 1586.6485ms
2025-07-31 14:39:09.624 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 14:39:09.628 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:09.628 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 4.2919ms
2025-07-31 14:39:09.631 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 14:39:09.633 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:09.644 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:39:09.656 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 14:39:09.683 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 14:39:09.912 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 14:39:09.920 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 14:39:09.921 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 14:39:09.934 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 14:39:09.937 +05:30 [INF] Found 1 users among search
2025-07-31 14:39:09.940 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:39:09.967 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 310.8245ms
2025-07-31 14:39:09.968 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:39:09.968 +05:30 [INF] HTTP GET /api/user/search responded 200 in 324.5313 ms
2025-07-31 14:39:09.969 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 338.7371ms
2025-07-31 14:39:09.973 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 14:39:09.973 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:09.974 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.9863ms
2025-07-31 14:39:09.976 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 14:39:09.977 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:09.978 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:39:09.979 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 14:39:09.984 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 14:39:10.001 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 14:39:10.004 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 14:39:10.004 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 14:39:10.010 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 14:39:10.011 +05:30 [INF] Found 1 users among search
2025-07-31 14:39:10.011 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:39:10.012 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 32.9632ms
2025-07-31 14:39:10.012 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 14:39:10.012 +05:30 [INF] HTTP GET /api/user/search responded 200 in 34.3011 ms
2025-07-31 14:39:10.013 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 36.923ms
2025-07-31 14:39:10.598 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:39:10.599 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:10.601 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:10.607 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:39:10.609 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:39:10.673 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:39:10.679 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 71.464ms
2025-07-31 14:39:10.679 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:10.679 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 78.8804 ms
2025-07-31 14:39:10.680 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3818 application/json; charset=utf-8 81.4682ms
2025-07-31 14:39:15.176 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=25 - null null
2025-07-31 14:39:15.176 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:15.177 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=25 - 204 null null 1.2208ms
2025-07-31 14:39:15.179 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=25 - null null
2025-07-31 14:39:15.180 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:15.181 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:15.182 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:39:15.184 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:39:15.186 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:39:15.189 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 6.778ms
2025-07-31 14:39:15.189 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:15.190 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 8.9392 ms
2025-07-31 14:39:15.190 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=25 - 200 8270 application/json; charset=utf-8 11.1982ms
2025-07-31 14:39:17.022 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=25 - null null
2025-07-31 14:39:17.023 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:17.024 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=25 - 204 null null 1.4857ms
2025-07-31 14:39:17.026 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=25 - null null
2025-07-31 14:39:17.026 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:17.028 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:17.028 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:39:17.033 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:39:17.034 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:39:17.035 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 5.7131ms
2025-07-31 14:39:17.035 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:17.035 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 7.6758 ms
2025-07-31 14:39:17.035 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=25 - 200 3734 application/json; charset=utf-8 9.5063ms
2025-07-31 14:39:19.916 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=3&pageSize=10 - null null
2025-07-31 14:39:19.917 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:19.917 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=3&pageSize=10 - 204 null null 1.132ms
2025-07-31 14:39:19.919 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=3&pageSize=10 - null null
2025-07-31 14:39:19.920 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:19.922 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:19.922 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:39:19.923 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:39:19.924 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:39:19.925 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.5911ms
2025-07-31 14:39:19.925 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:19.925 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.8780 ms
2025-07-31 14:39:19.926 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=3&pageSize=10 - 200 3040 application/json; charset=utf-8 6.5433ms
2025-07-31 14:39:20.983 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 14:39:20.984 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:20.985 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - 204 null null 1.1588ms
2025-07-31 14:39:20.987 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 14:39:20.988 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:20.989 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:20.989 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:39:20.990 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:39:20.991 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:39:20.992 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.5049ms
2025-07-31 14:39:20.993 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:20.993 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.4979 ms
2025-07-31 14:39:20.994 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - 200 3037 application/json; charset=utf-8 6.5423ms
2025-07-31 14:39:21.578 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:39:21.579 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:21.579 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.5713ms
2025-07-31 14:39:21.582 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:39:21.582 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:21.584 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:21.584 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:39:21.586 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:39:21.587 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:39:21.588 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 3.1186ms
2025-07-31 14:39:21.589 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:21.589 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 5.3775 ms
2025-07-31 14:39:21.589 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3813 application/json; charset=utf-8 7.4402ms
2025-07-31 14:39:22.581 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 14:39:22.581 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:22.582 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:22.582 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:39:22.584 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:39:22.585 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:39:22.586 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 3.0621ms
2025-07-31 14:39:22.586 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:22.587 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 5.0144 ms
2025-07-31 14:39:22.587 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - 200 3037 application/json; charset=utf-8 6.471ms
2025-07-31 14:39:22.983 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=3&pageSize=10 - null null
2025-07-31 14:39:22.984 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:22.985 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:22.986 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:39:22.987 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:39:22.988 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:39:22.989 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.4544ms
2025-07-31 14:39:22.989 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:22.989 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.5193 ms
2025-07-31 14:39:22.990 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=3&pageSize=10 - 200 3040 application/json; charset=utf-8 6.4093ms
2025-07-31 14:39:23.582 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=4&pageSize=10 - null null
2025-07-31 14:39:23.582 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:23.583 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=4&pageSize=10 - 204 null null 0.9088ms
2025-07-31 14:39:23.585 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=4&pageSize=10 - null null
2025-07-31 14:39:23.586 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:23.587 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:23.588 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:39:23.588 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:39:23.589 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:39:23.590 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.2445ms
2025-07-31 14:39:23.591 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:23.591 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.4166 ms
2025-07-31 14:39:23.592 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=4&pageSize=10 - 200 2253 application/json; charset=utf-8 6.5498ms
2025-07-31 14:39:25.520 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=3&pageSize=10 - null null
2025-07-31 14:39:25.521 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:25.522 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=3&pageSize=10 - 204 null null 1.3789ms
2025-07-31 14:39:25.524 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=3&pageSize=10 - null null
2025-07-31 14:39:25.525 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:25.526 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:25.527 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:39:25.527 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:39:25.529 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:39:25.530 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.7217ms
2025-07-31 14:39:25.530 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:25.530 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.4668 ms
2025-07-31 14:39:25.531 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=3&pageSize=10 - 200 3040 application/json; charset=utf-8 6.492ms
2025-07-31 14:39:25.672 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 14:39:25.672 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:25.674 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:25.674 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:39:25.675 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:39:25.676 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:39:25.677 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.7456ms
2025-07-31 14:39:25.677 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:25.678 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.6349 ms
2025-07-31 14:39:25.679 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=2&pageSize=10 - 200 3038 application/json; charset=utf-8 7.2949ms
2025-07-31 14:39:25.863 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:39:25.863 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:39:25.864 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:25.865 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 14:39:25.866 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 14:39:25.867 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 14:39:25.867 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.3071ms
2025-07-31 14:39:25.867 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 14:39:25.868 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.8534 ms
2025-07-31 14:39:25.868 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3815 application/json; charset=utf-8 5.4448ms
2025-07-31 14:40:43.524 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:40:43.524 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:40:43.525 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8254ms
2025-07-31 14:40:43.530 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 14:40:43.530 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:40:43.531 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 14:40:43.531 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 14:40:43.531 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.5598ms
2025-07-31 14:41:58.280 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 14:41:58.281 +05:30 [INF] CORS policy execution successful.
2025-07-31 14:41:58.282 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 14:41:58.282 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 14:41:58.283 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 2.3215ms
2025-07-31 15:11:04.043 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 15:11:04.045 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:11:04.045 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.5456ms
2025-07-31 15:11:04.047 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 15:11:04.047 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:11:04.048 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 15:11:04.049 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 15:11:04.073 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 15:11:04.927 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 15:11:04.928 +05:30 [INF] Role: Admin
2025-07-31 15:11:04.928 +05:30 [INF] Role: Admin
2025-07-31 15:11:04.928 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 15:11:04.940 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 15:11:04.943 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 15:11:04.944 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 894.8808ms
2025-07-31 15:11:04.944 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 15:11:04.944 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 896.3920 ms
2025-07-31 15:11:04.945 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 898.0323ms
2025-07-31 15:11:04.948 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 15:11:04.948 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:11:04.949 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7948ms
2025-07-31 15:11:04.951 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 15:11:04.951 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:11:04.953 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:11:04.954 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:11:04.956 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:11:04.959 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 15:11:04.963 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 15:11:04.964 +05:30 [INF] Found 1 users among search
2025-07-31 15:11:04.965 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:11:04.966 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 11.589ms
2025-07-31 15:11:04.966 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:11:04.966 +05:30 [INF] HTTP GET /api/user/search responded 200 in 13.3845 ms
2025-07-31 15:11:04.967 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 507 application/json; charset=utf-8 15.6967ms
2025-07-31 15:11:04.989 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 15:11:04.990 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:11:04.990 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.2341ms
2025-07-31 15:11:04.992 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 15:11:04.993 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:11:04.994 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:11:04.994 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:11:04.996 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:11:05.000 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 15:11:05.004 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 15:11:05.005 +05:30 [INF] Found 1 users among search
2025-07-31 15:11:05.005 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:11:05.006 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 11.3843ms
2025-07-31 15:11:05.006 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:11:05.007 +05:30 [INF] HTTP GET /api/user/search responded 200 in 13.1879 ms
2025-07-31 15:11:05.007 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 507 application/json; charset=utf-8 14.8876ms
2025-07-31 15:11:10.238 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:11:10.239 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:11:10.239 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7468ms
2025-07-31 15:11:10.242 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:11:10.244 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:11:10.246 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:11:10.254 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 15:11:10.269 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 15:11:10.271 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 15:11:10.271 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 15:11:10.280 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 15:11:10.281 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:11:10.289 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 34.5596ms
2025-07-31 15:11:10.289 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:11:10.290 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 44.3857 ms
2025-07-31 15:11:10.292 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1679 application/json; charset=utf-8 49.7035ms
2025-07-31 15:11:21.616 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:11:21.617 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:11:21.617 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7439ms
2025-07-31 15:11:21.620 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:11:21.621 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:11:21.622 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:11:21.622 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 15:11:21.626 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 15:11:21.629 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 15:11:21.629 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:11:21.630 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 7.3518ms
2025-07-31 15:11:21.630 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:11:21.631 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 8.9102 ms
2025-07-31 15:11:21.631 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1679 application/json; charset=utf-8 11.1361ms
2025-07-31 15:12:17.815 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:12:17.816 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:17.816 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.0125ms
2025-07-31 15:12:17.819 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:12:17.819 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:17.820 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor)
2025-07-31 15:12:17.820 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 15:12:17.821 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.1144ms
2025-07-31 15:12:19.222 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 15:12:19.223 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:19.224 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 15:12:19.224 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 15:12:19.225 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 2.0735ms
2025-07-31 15:12:20.071 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 15:12:20.071 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:20.071 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5834ms
2025-07-31 15:12:20.073 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 15:12:20.073 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:20.075 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 15:12:20.075 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 15:12:20.086 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 15:12:20.939 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 15:12:20.940 +05:30 [INF] Role: Admin
2025-07-31 15:12:20.940 +05:30 [INF] Role: Admin
2025-07-31 15:12:20.940 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 15:12:20.948 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 15:12:20.949 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 15:12:20.949 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 874.2717ms
2025-07-31 15:12:20.950 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 15:12:20.950 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 875.8786 ms
2025-07-31 15:12:20.951 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 877.7189ms
2025-07-31 15:12:20.954 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 15:12:20.954 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:20.955 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7971ms
2025-07-31 15:12:20.957 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 15:12:20.957 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:20.958 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:12:20.958 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:12:20.959 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:12:20.961 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 15:12:20.965 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 15:12:20.967 +05:30 [INF] Found 1 users among search
2025-07-31 15:12:20.967 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:12:20.968 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.6615ms
2025-07-31 15:12:20.969 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:12:20.970 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.8784 ms
2025-07-31 15:12:20.970 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 13.4107ms
2025-07-31 15:12:20.986 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 15:12:20.986 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:20.987 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.2441ms
2025-07-31 15:12:20.990 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 15:12:20.991 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:20.992 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:12:20.992 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:12:20.993 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:12:20.996 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 15:12:20.999 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 15:12:20.999 +05:30 [INF] Found 1 users among search
2025-07-31 15:12:21.000 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:12:21.000 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.7806ms
2025-07-31 15:12:21.001 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:12:21.001 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.3467 ms
2025-07-31 15:12:21.001 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 11.5929ms
2025-07-31 15:12:28.955 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 15:12:28.956 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:28.958 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 15:12:28.958 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 15:12:28.959 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 4.0057ms
2025-07-31 15:12:30.315 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 15:12:30.315 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:30.315 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5134ms
2025-07-31 15:12:30.317 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 15:12:30.317 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:30.318 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 15:12:30.318 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 15:12:30.321 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 15:12:30.922 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 15:12:30.922 +05:30 [INF] Role: Admin
2025-07-31 15:12:30.922 +05:30 [INF] Role: Admin
2025-07-31 15:12:30.922 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 15:12:30.929 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 15:12:30.930 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 15:12:30.930 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 611.6294ms
2025-07-31 15:12:30.930 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 15:12:30.930 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 612.8108 ms
2025-07-31 15:12:30.931 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 613.7324ms
2025-07-31 15:12:30.936 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 15:12:30.937 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:30.937 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.766ms
2025-07-31 15:12:30.940 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 15:12:30.941 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:30.942 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:12:30.943 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:12:30.944 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:12:30.947 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 15:12:30.951 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 15:12:30.952 +05:30 [INF] Found 1 users among search
2025-07-31 15:12:30.953 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:12:30.956 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 12.9876ms
2025-07-31 15:12:30.957 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:12:30.958 +05:30 [INF] HTTP GET /api/user/search responded 200 in 16.0914 ms
2025-07-31 15:12:30.959 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 18.7998ms
2025-07-31 15:12:30.981 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 15:12:30.984 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:30.985 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 3.7627ms
2025-07-31 15:12:30.988 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 15:12:30.988 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:30.990 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:12:30.990 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:12:30.993 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:12:30.997 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 15:12:31.000 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 15:12:31.001 +05:30 [INF] Found 1 users among search
2025-07-31 15:12:31.001 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:12:31.002 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 10.7289ms
2025-07-31 15:12:31.002 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:12:31.003 +05:30 [INF] HTTP GET /api/user/search responded 200 in 13.6393 ms
2025-07-31 15:12:31.003 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 15.4829ms
2025-07-31 15:12:32.220 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:12:32.221 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:32.221 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7004ms
2025-07-31 15:12:32.225 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:12:32.226 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:32.227 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:12:32.227 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 15:12:32.234 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 15:12:32.239 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 15:12:32.241 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:12:32.241 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 13.3404ms
2025-07-31 15:12:32.242 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:12:32.243 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 16.4227 ms
2025-07-31 15:12:32.244 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1679 application/json; charset=utf-8 19.3641ms
2025-07-31 15:12:38.330 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:12:38.330 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:38.331 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.3479ms
2025-07-31 15:12:38.335 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:12:38.336 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:38.337 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:12:38.343 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 15:12:38.368 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 15:12:38.375 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 15:12:38.375 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 15:12:38.409 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 15:12:38.410 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:12:38.413 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 69.36ms
2025-07-31 15:12:38.413 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:12:38.414 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 76.9254 ms
2025-07-31 15:12:38.414 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 78.8344ms
2025-07-31 15:12:57.578 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:12:57.579 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:57.579 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7889ms
2025-07-31 15:12:57.582 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:12:57.583 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:12:57.584 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 15:12:57.585 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 15:12:57.585 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 15:12:57.587 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:12:57.587 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.3183ms
2025-07-31 15:12:57.588 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 15:12:57.588 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.4672 ms
2025-07-31 15:12:57.589 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3817 application/json; charset=utf-8 6.336ms
2025-07-31 15:22:10.514 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 15:22:10.515 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:22:10.516 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 15:22:10.516 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 15:22:10.517 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 2.718ms
2025-07-31 15:22:11.434 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 15:22:11.434 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:22:11.434 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.548ms
2025-07-31 15:22:11.436 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 15:22:11.436 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:22:11.436 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 15:22:11.437 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 15:22:11.453 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 15:22:12.028 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 15:22:12.028 +05:30 [INF] Role: Admin
2025-07-31 15:22:12.028 +05:30 [INF] Role: Admin
2025-07-31 15:22:12.028 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 15:22:12.037 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 15:22:12.038 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 15:22:12.038 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 601.1325ms
2025-07-31 15:22:12.038 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 15:22:12.039 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 602.4403 ms
2025-07-31 15:22:12.039 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 603.2755ms
2025-07-31 15:22:12.042 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 15:22:12.043 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:22:12.043 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.8082ms
2025-07-31 15:22:12.045 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 15:22:12.046 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:22:12.047 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:22:12.047 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:22:12.049 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:22:12.052 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 15:22:12.057 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 15:22:12.058 +05:30 [INF] Found 1 users among search
2025-07-31 15:22:12.077 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:22:12.077 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 29.1289ms
2025-07-31 15:22:12.078 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:22:12.078 +05:30 [INF] HTTP GET /api/user/search responded 200 in 31.8460 ms
2025-07-31 15:22:12.079 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 33.3099ms
2025-07-31 15:22:12.119 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 15:22:12.120 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:22:12.120 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.9259ms
2025-07-31 15:22:12.122 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 15:22:12.123 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:22:12.123 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:22:12.124 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:22:12.124 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:22:12.126 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 15:22:12.128 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 15:22:12.136 +05:30 [INF] Found 1 users among search
2025-07-31 15:22:12.137 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:22:12.139 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 14.8992ms
2025-07-31 15:22:12.140 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:22:12.141 +05:30 [INF] HTTP GET /api/user/search responded 200 in 17.3466 ms
2025-07-31 15:22:12.142 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 19.173ms
2025-07-31 15:22:13.506 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:22:13.506 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:22:13.506 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.5258ms
2025-07-31 15:22:13.508 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:22:13.509 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:22:13.510 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:22:13.511 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 15:22:13.514 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 15:22:13.518 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 15:22:13.519 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:22:13.519 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 8.6805ms
2025-07-31 15:22:13.520 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:22:13.520 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 10.7560 ms
2025-07-31 15:22:13.520 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1679 application/json; charset=utf-8 12.1236ms
2025-07-31 15:22:19.095 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 15:22:19.096 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:22:19.097 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.2851ms
2025-07-31 15:22:19.099 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 15:22:19.100 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:22:19.101 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:22:19.101 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:22:19.102 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:22:19.114 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 15:22:19.117 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 15:22:19.117 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 15:22:19.154 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 15:22:19.155 +05:30 [INF] Found 1 users among search
2025-07-31 15:22:19.155 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:22:19.156 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 54.6456ms
2025-07-31 15:22:19.156 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:22:19.156 +05:30 [INF] HTTP GET /api/user/search responded 200 in 55.7811 ms
2025-07-31 15:22:19.156 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 57.1857ms
2025-07-31 15:22:25.173 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 15:22:25.174 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:22:25.175 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.6839ms
2025-07-31 15:22:25.177 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 15:22:25.177 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:22:25.178 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:22:25.179 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:22:25.180 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:22:25.182 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 15:22:25.185 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 15:22:25.185 +05:30 [INF] Found 1 users among search
2025-07-31 15:22:25.186 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:22:25.186 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.8351ms
2025-07-31 15:22:25.187 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:22:25.187 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.8005 ms
2025-07-31 15:22:25.187 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 10.3766ms
2025-07-31 15:22:44.785 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:22:44.785 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:22:44.785 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.5545ms
2025-07-31 15:22:44.787 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:22:44.788 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:22:44.789 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:22:44.789 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 15:22:44.801 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 15:22:44.811 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 15:22:44.812 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:22:44.813 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 22.8571ms
2025-07-31 15:22:44.813 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:22:44.813 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 24.5498 ms
2025-07-31 15:22:44.814 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 26.2773ms
2025-07-31 15:24:23.794 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:24:23.795 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:24:23.795 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.5656ms
2025-07-31 15:24:23.797 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:24:23.797 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:24:23.798 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 15:24:23.799 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 15:24:23.799 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 15:24:23.800 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:24:23.801 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.2218ms
2025-07-31 15:24:23.802 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 15:24:23.802 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.5981 ms
2025-07-31 15:24:23.802 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3815 application/json; charset=utf-8 4.9964ms
2025-07-31 15:32:40.721 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:32:40.722 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:32:40.722 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1852ms
2025-07-31 15:32:40.726 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:32:40.727 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:32:40.728 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 15:32:40.730 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 15:32:40.731 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 4.9204ms
2025-07-31 15:32:47.492 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:32:47.493 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:32:47.493 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1292ms
2025-07-31 15:32:47.497 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:32:47.498 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:32:47.499 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 15:32:47.499 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 15:32:47.500 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.6463ms
2025-07-31 15:36:02.941 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 15:36:02.942 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:36:02.945 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 15:36:02.945 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 15:36:02.945 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 4.4687ms
2025-07-31 15:36:03.866 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 15:36:03.867 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:36:03.867 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.4853ms
2025-07-31 15:36:03.869 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 15:36:03.869 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:36:03.869 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 15:36:03.870 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 15:36:03.891 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 15:36:04.455 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 15:36:04.455 +05:30 [INF] Role: Admin
2025-07-31 15:36:04.455 +05:30 [INF] Role: Admin
2025-07-31 15:36:04.455 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 15:36:04.459 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 15:36:04.460 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 15:36:04.460 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 590.0376ms
2025-07-31 15:36:04.460 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 15:36:04.461 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 591.3183 ms
2025-07-31 15:36:04.461 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 592.201ms
2025-07-31 15:36:04.464 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 15:36:04.465 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:36:04.465 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.631ms
2025-07-31 15:36:04.467 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 15:36:04.467 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:36:04.469 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:36:04.469 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:36:04.470 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:36:04.474 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 15:36:04.477 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 15:36:04.478 +05:30 [INF] Found 1 users among search
2025-07-31 15:36:04.479 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:36:04.479 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 10.1473ms
2025-07-31 15:36:04.480 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:36:04.480 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.6957 ms
2025-07-31 15:36:04.481 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 14.4334ms
2025-07-31 15:36:04.488 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 15:36:04.488 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:36:04.488 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.4993ms
2025-07-31 15:36:04.491 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 15:36:04.492 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:36:04.493 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:36:04.493 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:36:04.494 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:36:04.497 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 15:36:04.501 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 15:36:04.502 +05:30 [INF] Found 1 users among search
2025-07-31 15:36:04.502 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:36:04.503 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.627ms
2025-07-31 15:36:04.504 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:36:04.504 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.2409 ms
2025-07-31 15:36:04.504 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 13.0168ms
2025-07-31 15:36:05.799 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:36:05.799 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:36:05.799 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6761ms
2025-07-31 15:36:05.801 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:36:05.801 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:36:05.802 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:36:05.802 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 15:36:05.809 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 15:36:05.813 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 15:36:05.814 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:36:05.815 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 11.8579ms
2025-07-31 15:36:05.815 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:36:05.815 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 13.1757 ms
2025-07-31 15:36:05.816 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1679 application/json; charset=utf-8 14.4105ms
2025-07-31 15:37:02.834 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 15:37:02.834 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:37:02.834 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.4724ms
2025-07-31 15:37:02.837 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 15:37:02.838 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:37:02.839 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:37:02.839 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:37:02.840 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:37:02.863 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 15:37:02.894 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 15:37:02.894 +05:30 [INF] Found 1 users among search
2025-07-31 15:37:02.894 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:37:02.894 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 55.2126ms
2025-07-31 15:37:02.895 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:37:02.895 +05:30 [INF] HTTP GET /api/user/search responded 200 in 56.3374 ms
2025-07-31 15:37:02.895 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 58.122ms
2025-07-31 15:37:08.149 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 15:37:08.149 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:37:08.150 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.6829ms
2025-07-31 15:37:08.152 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 15:37:08.152 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:37:08.153 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:37:08.153 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:37:08.154 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:37:08.156 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 15:37:08.161 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 15:37:08.161 +05:30 [INF] Found 1 users among search
2025-07-31 15:37:08.162 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:37:08.162 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.6654ms
2025-07-31 15:37:08.164 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:37:08.165 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.9375 ms
2025-07-31 15:37:08.166 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 13.9444ms
2025-07-31 15:37:28.978 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:37:28.979 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:37:28.980 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.3903ms
2025-07-31 15:37:28.983 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:37:28.983 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:37:28.984 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:37:28.984 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 15:37:29.000 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 15:37:29.013 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 15:37:29.014 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:37:29.016 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 30.8257ms
2025-07-31 15:37:29.016 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:37:29.016 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 32.2772 ms
2025-07-31 15:37:29.017 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 33.9282ms
2025-07-31 15:40:58.545 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 15:40:58.546 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:40:58.548 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 2.811ms
2025-07-31 15:40:58.550 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 15:40:58.550 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:40:58.551 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 15:40:58.554 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 15:40:58.556 +05:30 [INF] Fetching all patients
2025-07-31 15:40:58.570 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 15:40:58.571 +05:30 [INF] Returned 10 patients
2025-07-31 15:40:58.572 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:40:58.572 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 17.2355ms
2025-07-31 15:40:58.572 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 15:40:58.573 +05:30 [INF] HTTP GET /api/patient responded 200 in 21.7584 ms
2025-07-31 15:40:58.573 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 22.911ms
2025-07-31 15:40:58.577 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 15:40:58.577 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:40:58.577 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6159ms
2025-07-31 15:40:58.580 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 15:40:58.580 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:40:58.581 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 15:40:58.585 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 15:40:58.591 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 15:40:58.595 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 15:40:58.596 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:40:58.597 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 11.5989ms
2025-07-31 15:40:58.598 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 15:40:58.598 +05:30 [INF] HTTP GET /api/doctor responded 200 in 17.0781 ms
2025-07-31 15:40:58.599 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1679 application/json; charset=utf-8 19.1901ms
2025-07-31 15:41:04.910 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 15:41:04.911 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:04.911 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.8131ms
2025-07-31 15:41:04.913 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 15:41:04.914 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:04.915 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 15:41:04.915 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 15:41:04.915 +05:30 [INF] Fetching all patients
2025-07-31 15:41:04.918 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 15:41:04.918 +05:30 [INF] Returned 10 patients
2025-07-31 15:41:04.919 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:04.920 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.9711ms
2025-07-31 15:41:04.921 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 15:41:04.921 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.3519 ms
2025-07-31 15:41:04.921 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.8119ms
2025-07-31 15:41:04.935 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 15:41:04.936 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:04.936 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.5512ms
2025-07-31 15:41:04.939 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 15:41:04.939 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:04.940 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 15:41:04.940 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 15:41:04.942 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 15:41:04.943 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 15:41:04.944 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:04.944 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 4.2447ms
2025-07-31 15:41:04.946 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 15:41:04.946 +05:30 [INF] HTTP GET /api/doctor responded 200 in 6.3548 ms
2025-07-31 15:41:04.946 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1679 application/json; charset=utf-8 7.5886ms
2025-07-31 15:41:11.368 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-07-31 15:41:11.368 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:11.369 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=john - 204 null null 0.6171ms
2025-07-31 15:41:11.371 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=john - null null
2025-07-31 15:41:11.371 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:11.372 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:11.373 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 15:41:11.443 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:11.444 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 70.5699ms
2025-07-31 15:41:11.444 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:11.444 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 71.6959 ms
2025-07-31 15:41:11.444 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=john - 200 70 application/json; charset=utf-8 73.563ms
2025-07-31 15:41:12.585 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:41:12.586 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:12.586 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1505ms
2025-07-31 15:41:12.590 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:41:12.590 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:12.591 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:12.592 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 15:41:12.605 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 15:41:12.623 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 15:41:12.623 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:12.624 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 31.7985ms
2025-07-31 15:41:12.625 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:12.626 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 34.3732 ms
2025-07-31 15:41:12.626 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 36.3178ms
2025-07-31 15:41:13.707 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=do - null null
2025-07-31 15:41:13.708 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:13.708 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=do - 204 null null 0.7544ms
2025-07-31 15:41:13.710 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=do - null null
2025-07-31 15:41:13.710 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:13.711 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:13.712 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 15:41:13.738 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:13.738 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 26.5875ms
2025-07-31 15:41:13.739 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:13.739 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 27.8003 ms
2025-07-31 15:41:13.739 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=do - 200 70 application/json; charset=utf-8 29.0669ms
2025-07-31 15:41:14.749 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=doe - null null
2025-07-31 15:41:14.749 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:14.750 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=doe - 204 null null 1.0573ms
2025-07-31 15:41:14.753 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=doe - null null
2025-07-31 15:41:14.753 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:14.754 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:14.755 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 15:41:14.799 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:14.800 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 44.7544ms
2025-07-31 15:41:14.800 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:14.800 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 46.4040 ms
2025-07-31 15:41:14.800 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=doe - 200 70 application/json; charset=utf-8 47.8103ms
2025-07-31 15:41:15.557 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:41:15.558 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:15.558 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:15.559 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 15:41:15.562 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 15:41:15.565 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 15:41:15.566 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:15.566 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 7.0149ms
2025-07-31 15:41:15.567 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:15.568 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 9.3447 ms
2025-07-31 15:41:15.568 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 11.1391ms
2025-07-31 15:41:24.663 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/proc?doctorId=NaN - null null
2025-07-31 15:41:24.664 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:24.664 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/proc?doctorId=NaN - 204 null null 0.9673ms
2025-07-31 15:41:24.667 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - null null
2025-07-31 15:41:24.667 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:24.668 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-31 15:41:24.672 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 15:41:24.699 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-31 15:41:24.703 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:24.710 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 37.0741ms
2025-07-31 15:41:24.710 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-31 15:41:24.710 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 42.3739 ms
2025-07-31 15:41:24.710 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - 200 937 application/json; charset=utf-8 43.7239ms
2025-07-31 15:41:27.265 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-31 15:41:27.265 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:27.265 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.741ms
2025-07-31 15:41:27.269 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-31 15:41:27.269 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:27.270 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-31 15:41:27.274 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 15:41:27.296 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-31 15:41:27.299 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:27.304 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 29.1327ms
2025-07-31 15:41:27.304 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-31 15:41:27.304 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 34.5138 ms
2025-07-31 15:41:27.305 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 347 application/json; charset=utf-8 35.709ms
2025-07-31 15:41:33.922 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:41:33.922 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:33.922 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.536ms
2025-07-31 15:41:33.924 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:41:33.924 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:33.925 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:33.925 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 15:41:33.926 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 15:41:33.927 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:33.928 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.8746ms
2025-07-31 15:41:33.928 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:33.929 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 3.6020 ms
2025-07-31 15:41:33.929 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3814 application/json; charset=utf-8 5.3942ms
2025-07-31 15:41:37.255 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:41:37.255 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:37.255 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.5552ms
2025-07-31 15:41:37.257 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:41:37.257 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:37.258 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:37.259 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 15:41:37.260 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 15:41:37.263 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 15:41:37.263 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:37.264 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 5.0558ms
2025-07-31 15:41:37.264 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:37.265 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 6.7347 ms
2025-07-31 15:41:37.265 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1679 application/json; charset=utf-8 7.979ms
2025-07-31 15:41:39.713 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:41:39.713 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:39.714 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:39.715 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 15:41:39.722 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 15:41:39.727 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 15:41:39.728 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:39.728 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 13.296ms
2025-07-31 15:41:39.729 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:39.729 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 15.1720 ms
2025-07-31 15:41:39.729 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1679 application/json; charset=utf-8 16.4472ms
2025-07-31 15:41:41.789 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:41:41.790 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:41.790 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6174ms
2025-07-31 15:41:41.792 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:41:41.792 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:41.793 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:41.793 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 15:41:41.797 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 15:41:41.806 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 15:41:41.806 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:41.807 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 13.5869ms
2025-07-31 15:41:41.807 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:41.807 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 14.5720 ms
2025-07-31 15:41:41.807 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 15.6419ms
2025-07-31 15:41:47.333 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 15:41:47.333 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:47.334 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.6315ms
2025-07-31 15:41:47.335 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 15:41:47.336 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:47.336 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:47.337 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 15:41:47.343 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 15:41:47.346 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 15:41:47.346 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 15:41:47.358 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 15:41:47.359 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:47.360 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 22.4307ms
2025-07-31 15:41:47.360 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:47.360 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 23.8307 ms
2025-07-31 15:41:47.360 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 24.7689ms
2025-07-31 15:41:50.422 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-07-31 15:41:50.423 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:50.423 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.593ms
2025-07-31 15:41:50.425 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-07-31 15:41:50.425 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:50.426 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:50.427 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 15:41:50.431 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 15:41:50.441 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 15:41:50.442 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:50.442 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 15.225ms
2025-07-31 15:41:50.442 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:50.443 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 16.7025 ms
2025-07-31 15:41:50.443 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 431 application/json; charset=utf-8 18.5607ms
2025-07-31 15:41:54.615 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 15:41:54.616 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:54.616 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.5141ms
2025-07-31 15:41:54.619 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 15:41:54.619 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:54.620 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:54.621 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 15:41:54.623 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 15:41:54.625 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 15:41:54.626 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:54.626 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.9317ms
2025-07-31 15:41:54.627 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:54.627 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 6.4476 ms
2025-07-31 15:41:54.627 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 8.34ms
2025-07-31 15:41:55.046 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:41:55.046 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:55.047 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6454ms
2025-07-31 15:41:55.049 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:41:55.049 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:41:55.050 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:55.050 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 15:41:55.052 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 15:41:55.054 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 15:41:55.055 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:41:55.057 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 6.3358ms
2025-07-31 15:41:55.057 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 15:41:55.057 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 7.9136 ms
2025-07-31 15:41:55.058 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 9.3027ms
2025-07-31 15:44:18.755 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:44:18.756 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:44:18.756 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.0148ms
2025-07-31 15:44:18.759 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 15:44:18.760 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:44:18.760 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:44:18.761 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 15:44:18.775 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 15:44:18.778 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 15:44:18.779 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:44:18.780 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 18.7605ms
2025-07-31 15:44:18.780 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 15:44:18.780 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 19.9058 ms
2025-07-31 15:44:18.781 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1679 application/json; charset=utf-8 21.5717ms
2025-07-31 15:44:19.768 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 15:44:19.768 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:44:19.769 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.5956ms
2025-07-31 15:44:19.771 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 15:44:19.771 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:44:19.772 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:44:19.772 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:44:19.773 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:44:19.780 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 15:44:19.810 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 15:44:19.811 +05:30 [INF] Found 1 users among search
2025-07-31 15:44:19.811 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:44:19.812 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 39.0327ms
2025-07-31 15:44:19.812 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:44:19.812 +05:30 [INF] HTTP GET /api/user/search responded 200 in 40.0417 ms
2025-07-31 15:44:19.812 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 41.6401ms
2025-07-31 15:48:31.242 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 15:48:31.242 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:48:31.243 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7782ms
2025-07-31 15:48:31.245 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 15:48:31.245 +05:30 [INF] CORS policy execution successful.
2025-07-31 15:48:31.246 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:48:31.246 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 15:48:31.247 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 15:48:31.269 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 15:48:31.310 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 15:48:31.310 +05:30 [INF] Found 1 users among search
2025-07-31 15:48:31.310 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 15:48:31.311 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 64.5229ms
2025-07-31 15:48:31.311 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 15:48:31.311 +05:30 [INF] HTTP GET /api/user/search responded 200 in 65.3601 ms
2025-07-31 15:48:31.311 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 66.7587ms
2025-07-31 16:16:40.077 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 16:16:40.078 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:16:40.079 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.8029ms
2025-07-31 16:16:40.082 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 16:16:40.083 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:16:40.084 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '31-07-2025 10:36:04', Current time (UTC): '31-07-2025 10:46:40'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-31 16:16:40.084 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '31-07-2025 10:36:04', Current time (UTC): '31-07-2025 10:46:40'.
2025-07-31 16:16:40.085 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-31 16:16:40.085 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 16:16:40.086 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.6433ms
2025-07-31 16:16:41.166 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 16:16:41.166 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:16:41.166 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 16:16:41.167 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 16:16:41.167 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.9123ms
2025-07-31 16:16:41.895 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 16:16:41.895 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:16:41.896 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.8926ms
2025-07-31 16:16:41.898 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 16:16:41.899 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:16:41.899 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 16:16:41.899 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 16:16:41.925 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 16:16:42.714 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 16:16:42.714 +05:30 [INF] Role: Admin
2025-07-31 16:16:42.714 +05:30 [INF] Role: Admin
2025-07-31 16:16:42.714 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 16:16:42.720 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 16:16:42.721 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 16:16:42.721 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 821.6176ms
2025-07-31 16:16:42.721 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 16:16:42.722 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 822.7415 ms
2025-07-31 16:16:42.722 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 823.8592ms
2025-07-31 16:16:42.725 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 16:16:42.726 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:16:42.726 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.8376ms
2025-07-31 16:16:42.728 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 16:16:42.729 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:16:42.729 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:16:42.730 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 16:16:42.730 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 16:16:42.733 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 16:16:42.738 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 16:16:42.739 +05:30 [INF] Found 1 users among search
2025-07-31 16:16:42.739 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:16:42.740 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.8897ms
2025-07-31 16:16:42.740 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:16:42.741 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.4699 ms
2025-07-31 16:16:42.741 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 13.0102ms
2025-07-31 16:16:42.752 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 16:16:42.752 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:16:42.753 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.9247ms
2025-07-31 16:16:42.756 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 16:16:42.756 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:16:42.757 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:16:42.757 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 16:16:42.758 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 16:16:42.759 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 16:16:42.761 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 16:16:42.762 +05:30 [INF] Found 1 users among search
2025-07-31 16:16:42.763 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:16:42.764 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.6675ms
2025-07-31 16:16:42.764 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:16:42.765 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.9135 ms
2025-07-31 16:16:42.765 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 9.1909ms
2025-07-31 16:16:44.243 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 16:16:44.243 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:16:44.245 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 16:16:44.246 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 16:16:44.246 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 16:16:44.247 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:16:44.248 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 2.1157ms
2025-07-31 16:16:44.249 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 16:16:44.249 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 4.4926 ms
2025-07-31 16:16:44.250 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3816 application/json; charset=utf-8 6.6976ms
2025-07-31 16:16:45.247 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 16:16:45.248 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:16:45.249 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.1901ms
2025-07-31 16:16:45.251 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 16:16:45.251 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:16:45.252 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:16:45.252 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 16:16:45.254 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 16:16:45.264 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 16:16:45.324 +05:30 [INF] Executed DbCommand (58ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 16:16:45.325 +05:30 [INF] Found 1 users among search
2025-07-31 16:16:45.326 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:16:45.327 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 73.7567ms
2025-07-31 16:16:45.327 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:16:45.328 +05:30 [INF] HTTP GET /api/user/search responded 200 in 75.7504 ms
2025-07-31 16:16:45.328 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 77.0701ms
2025-07-31 16:16:52.500 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 16:16:52.500 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:16:52.500 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.6655ms
2025-07-31 16:16:52.502 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 16:16:52.502 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:16:52.502 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:16:52.502 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 16:16:52.503 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 16:16:52.517 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 16:16:52.555 +05:30 [INF] Executed DbCommand (37ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 16:16:52.555 +05:30 [INF] Found 1 users among search
2025-07-31 16:16:52.555 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:16:52.556 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 52.9267ms
2025-07-31 16:16:52.556 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:16:52.556 +05:30 [INF] HTTP GET /api/user/search responded 200 in 53.7251 ms
2025-07-31 16:16:52.556 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 54.3397ms
2025-07-31 16:16:54.099 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 16:16:54.100 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:16:54.100 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:16:54.100 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 16:16:54.101 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 16:16:54.105 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 16:16:54.108 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 16:16:54.108 +05:30 [INF] Found 1 users among search
2025-07-31 16:16:54.108 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:16:54.108 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.9062ms
2025-07-31 16:16:54.108 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:16:54.109 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.7936 ms
2025-07-31 16:16:54.109 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 9.4884ms
2025-07-31 16:17:11.299 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 16:17:11.299 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:17:11.299 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.4146ms
2025-07-31 16:17:11.301 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 16:17:11.301 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:17:11.302 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:17:11.302 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 16:17:11.303 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 16:17:11.305 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 16:17:11.307 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 16:17:11.308 +05:30 [INF] Found 1 users among search
2025-07-31 16:17:11.308 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:17:11.309 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.5602ms
2025-07-31 16:17:11.309 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:17:11.310 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.9174 ms
2025-07-31 16:17:11.310 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 8.9736ms
2025-07-31 16:17:28.676 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 16:17:28.677 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:17:28.677 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1861ms
2025-07-31 16:17:28.680 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 16:17:28.680 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:17:28.680 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 16:17:28.681 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 16:17:28.687 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 16:17:28.691 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 16:17:28.692 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:17:28.692 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 10.7975ms
2025-07-31 16:17:28.693 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 16:17:28.693 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 12.7756 ms
2025-07-31 16:17:28.693 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1679 application/json; charset=utf-8 13.7695ms
2025-07-31 16:17:29.369 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 16:17:29.369 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:17:29.369 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.5595ms
2025-07-31 16:17:29.371 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 16:17:29.371 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:17:29.372 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:17:29.372 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 16:17:29.373 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 16:17:29.375 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 16:17:29.378 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 16:17:29.379 +05:30 [INF] Found 1 users among search
2025-07-31 16:17:29.379 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:17:29.379 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.7442ms
2025-07-31 16:17:29.379 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:17:29.380 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.7451 ms
2025-07-31 16:17:29.380 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 8.9022ms
2025-07-31 16:17:30.741 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 16:17:30.741 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:17:30.742 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:17:30.742 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 16:17:30.743 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 16:17:30.746 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 16:17:30.749 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 16:17:30.749 +05:30 [INF] Found 1 users among search
2025-07-31 16:17:30.750 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:17:30.751 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.2513ms
2025-07-31 16:17:30.751 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:17:30.752 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.9732 ms
2025-07-31 16:17:30.753 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 12.3919ms
2025-07-31 16:17:32.551 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 16:17:32.552 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:17:32.552 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:17:32.553 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 16:17:32.554 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 16:17:32.557 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 16:17:32.559 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 16:17:32.560 +05:30 [INF] Found 1 users among search
2025-07-31 16:17:32.560 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:17:32.561 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.8783ms
2025-07-31 16:17:32.561 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:17:32.562 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.5129 ms
2025-07-31 16:17:32.562 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 10.7097ms
2025-07-31 16:20:21.030 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 16:20:21.031 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:20:21.031 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.357ms
2025-07-31 16:20:21.033 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 16:20:21.034 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:20:21.034 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:20:21.035 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 16:20:21.035 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 16:20:21.043 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 16:20:21.085 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 16:20:21.085 +05:30 [INF] Found 1 users among search
2025-07-31 16:20:21.085 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:20:21.086 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 50.8065ms
2025-07-31 16:20:21.086 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:20:21.086 +05:30 [INF] HTTP GET /api/user/search responded 200 in 51.8932 ms
2025-07-31 16:20:21.086 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 52.9913ms
2025-07-31 16:20:29.344 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 16:20:29.344 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:20:29.345 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8036ms
2025-07-31 16:20:29.347 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 16:20:29.347 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:20:29.347 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 16:20:29.348 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 16:20:29.348 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 16:20:29.349 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:20:29.350 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 1.9856ms
2025-07-31 16:20:29.350 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 16:20:29.350 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 2.9645 ms
2025-07-31 16:20:29.350 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3815 application/json; charset=utf-8 3.7133ms
2025-07-31 16:20:30.118 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 16:20:30.118 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:20:30.118 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.3881ms
2025-07-31 16:20:30.120 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 16:20:30.120 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:20:30.120 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:20:30.121 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 16:20:30.121 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 16:20:30.123 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 16:20:30.125 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 16:20:30.126 +05:30 [INF] Found 1 users among search
2025-07-31 16:20:30.126 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:20:30.127 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.7646ms
2025-07-31 16:20:30.127 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 16:20:30.127 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.7289 ms
2025-07-31 16:20:30.127 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 7.5691ms
2025-07-31 16:25:24.803 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 16:25:24.803 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:25:24.804 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.5127ms
2025-07-31 16:25:24.806 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 16:25:24.806 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:25:24.807 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 16:25:24.808 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 16:25:24.837 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 16:25:24.849 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 16:25:24.850 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:25:24.850 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 42.0713ms
2025-07-31 16:25:24.850 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 16:25:24.850 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 43.3294 ms
2025-07-31 16:25:24.851 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 44.4542ms
2025-07-31 16:25:25.628 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 16:25:25.629 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:25:25.629 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.9345ms
2025-07-31 16:25:25.631 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 16:25:25.632 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:25:25.633 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 16:25:25.633 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 16:25:25.633 +05:30 [INF] Fetching all patients
2025-07-31 16:25:25.636 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 16:25:25.637 +05:30 [INF] Returned 10 patients
2025-07-31 16:25:25.637 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:25:25.638 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.9387ms
2025-07-31 16:25:25.638 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 16:25:25.639 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.2235 ms
2025-07-31 16:25:25.639 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.82ms
2025-07-31 16:25:25.647 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 16:25:25.647 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:25:25.648 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7056ms
2025-07-31 16:25:25.650 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 16:25:25.651 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:25:25.651 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 16:25:25.652 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 16:25:25.655 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 16:25:25.658 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 16:25:25.659 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:25:25.660 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.3404ms
2025-07-31 16:25:25.661 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 16:25:25.661 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.8404 ms
2025-07-31 16:25:25.662 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1679 application/json; charset=utf-8 11.482ms
2025-07-31 16:25:43.480 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 16:25:43.480 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:25:43.480 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6363ms
2025-07-31 16:25:43.482 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 16:25:43.483 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:25:43.483 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 16:25:43.484 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 16:25:43.485 +05:30 [INF] Fetching all patients
2025-07-31 16:25:43.504 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 16:25:43.504 +05:30 [INF] Returned 10 patients
2025-07-31 16:25:43.504 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:25:43.505 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 20.4608ms
2025-07-31 16:25:43.505 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 16:25:43.505 +05:30 [INF] HTTP GET /api/patient responded 200 in 21.6617 ms
2025-07-31 16:25:43.505 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 22.8201ms
2025-07-31 16:25:43.509 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 16:25:43.509 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:25:43.509 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.5403ms
2025-07-31 16:25:43.512 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 16:25:43.513 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:25:43.513 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 16:25:43.513 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 16:25:43.518 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 16:25:43.521 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 16:25:43.522 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:25:43.522 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.9412ms
2025-07-31 16:25:43.522 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 16:25:43.522 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.5068 ms
2025-07-31 16:25:43.523 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1679 application/json; charset=utf-8 10.2458ms
2025-07-31 16:27:25.380 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 16:27:25.381 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:27:25.381 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.8301ms
2025-07-31 16:27:25.383 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 16:27:25.384 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:27:25.385 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 16:27:25.385 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 16:27:25.386 +05:30 [INF] Fetching all patients
2025-07-31 16:27:25.403 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 16:27:25.404 +05:30 [INF] Returned 10 patients
2025-07-31 16:27:25.405 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:27:25.405 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 19.7274ms
2025-07-31 16:27:25.405 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 16:27:25.406 +05:30 [INF] HTTP GET /api/patient responded 200 in 21.0091 ms
2025-07-31 16:27:25.406 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 22.698ms
2025-07-31 16:27:25.409 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 16:27:25.409 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:27:25.410 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.4679ms
2025-07-31 16:27:25.411 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 16:27:25.412 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:27:25.412 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 16:27:25.412 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 16:27:25.416 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 16:27:25.421 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 16:27:25.421 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:27:25.421 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.927ms
2025-07-31 16:27:25.421 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 16:27:25.422 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.5827 ms
2025-07-31 16:27:25.422 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1679 application/json; charset=utf-8 10.3111ms
2025-07-31 16:29:59.800 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 16:29:59.800 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:29:59.800 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5509ms
2025-07-31 16:29:59.802 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 16:29:59.803 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:29:59.803 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 16:29:59.804 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 16:29:59.804 +05:30 [INF] Fetching all patients
2025-07-31 16:29:59.821 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 16:29:59.822 +05:30 [INF] Returned 10 patients
2025-07-31 16:29:59.822 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:29:59.823 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 18.9153ms
2025-07-31 16:29:59.823 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 16:29:59.823 +05:30 [INF] HTTP GET /api/patient responded 200 in 20.1995 ms
2025-07-31 16:29:59.823 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 21.0743ms
2025-07-31 16:29:59.827 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 16:29:59.828 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:29:59.828 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.8827ms
2025-07-31 16:29:59.831 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 16:29:59.832 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:29:59.832 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 16:29:59.832 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 16:29:59.837 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 16:29:59.840 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 16:29:59.841 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:29:59.841 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.3232ms
2025-07-31 16:29:59.841 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 16:29:59.842 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.4889 ms
2025-07-31 16:29:59.842 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1679 application/json; charset=utf-8 10.3611ms
2025-07-31 16:32:51.061 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 16:32:51.062 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:32:51.062 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5149ms
2025-07-31 16:32:51.064 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 16:32:51.064 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:32:51.064 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 16:32:51.064 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 16:32:51.065 +05:30 [INF] Fetching all patients
2025-07-31 16:32:51.081 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 16:32:51.082 +05:30 [INF] Returned 10 patients
2025-07-31 16:32:51.082 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:32:51.083 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 17.9243ms
2025-07-31 16:32:51.083 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 16:32:51.083 +05:30 [INF] HTTP GET /api/patient responded 200 in 19.0555 ms
2025-07-31 16:32:51.084 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 19.8898ms
2025-07-31 16:32:51.087 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 16:32:51.088 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:32:51.088 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7867ms
2025-07-31 16:32:51.090 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 16:32:51.091 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:32:51.092 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 16:32:51.092 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 16:32:51.097 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 16:32:51.100 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 16:32:51.101 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 16:32:51.101 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.9533ms
2025-07-31 16:32:51.101 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 16:32:51.102 +05:30 [INF] HTTP GET /api/doctor responded 200 in 10.1162 ms
2025-07-31 16:32:51.102 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1679 application/json; charset=utf-8 11.749ms
2025-07-31 16:35:30.655 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 16:35:30.656 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:35:30.656 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8255ms
2025-07-31 16:35:30.658 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 16:35:30.659 +05:30 [INF] CORS policy execution successful.
2025-07-31 16:35:30.659 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 16:35:30.659 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 16:35:30.660 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.4749ms
2025-07-31 21:28:14.848 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:28:14.848 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:28:14.849 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7824ms
2025-07-31 21:28:14.851 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:28:14.851 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:28:14.851 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 21:28:14.852 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 21:28:14.852 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.2191ms
2025-07-31 21:28:16.738 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 21:28:16.739 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:28:16.740 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 21:28:16.741 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 21:28:16.741 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 2.6814ms
2025-07-31 21:29:05.109 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 21:29:05.109 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:29:05.109 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7473ms
2025-07-31 21:29:05.111 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 21:29:05.112 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:29:05.112 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 21:29:05.113 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 21:29:05.227 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 21:29:05.928 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 21:29:05.929 +05:30 [INF] Role: Admin
2025-07-31 21:29:05.929 +05:30 [INF] Role: Admin
2025-07-31 21:29:05.929 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 21:29:05.955 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 21:29:05.959 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 21:29:05.959 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 846.3961ms
2025-07-31 21:29:05.960 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 21:29:05.960 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 847.6286 ms
2025-07-31 21:29:05.960 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 848.5433ms
2025-07-31 21:29:05.963 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 21:29:05.964 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:29:05.964 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.4438ms
2025-07-31 21:29:05.966 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 21:29:05.967 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:29:05.968 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:29:05.968 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:29:05.969 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:29:05.982 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 21:29:05.986 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 21:29:05.987 +05:30 [INF] Found 1 users among search
2025-07-31 21:29:05.988 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:29:05.989 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 20.3972ms
2025-07-31 21:29:05.989 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:29:05.989 +05:30 [INF] HTTP GET /api/user/search responded 200 in 21.5813 ms
2025-07-31 21:29:05.990 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 23.3739ms
2025-07-31 21:29:06.001 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 21:29:06.001 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:29:06.002 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.9532ms
2025-07-31 21:29:06.006 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 21:29:06.006 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:29:06.007 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:29:06.007 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:29:06.008 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:29:06.011 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 21:29:06.014 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 21:29:06.014 +05:30 [INF] Found 1 users among search
2025-07-31 21:29:06.015 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:29:06.015 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.739ms
2025-07-31 21:29:06.015 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:29:06.015 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.6935 ms
2025-07-31 21:29:06.016 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 10.1716ms
2025-07-31 21:29:07.498 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:29:07.498 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:29:07.498 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.5795ms
2025-07-31 21:29:07.500 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:29:07.501 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:29:07.501 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:29:07.501 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:29:07.507 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 21:29:07.511 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 21:29:07.512 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:29:07.513 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 11.0238ms
2025-07-31 21:29:07.514 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:29:07.514 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 12.8483 ms
2025-07-31 21:29:07.514 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1679 application/json; charset=utf-8 13.7779ms
2025-07-31 21:29:08.206 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:29:08.206 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:29:08.207 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.8466ms
2025-07-31 21:29:08.209 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:29:08.209 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:29:08.210 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:29:08.210 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:29:08.211 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:29:08.215 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:29:08.299 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:29:08.300 +05:30 [INF] Found 1 users among search
2025-07-31 21:29:08.300 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:29:08.300 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 90.0371ms
2025-07-31 21:29:08.300 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:29:08.300 +05:30 [INF] HTTP GET /api/user/search responded 200 in 90.7623 ms
2025-07-31 21:29:08.301 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 91.6555ms
2025-07-31 21:29:24.340 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:29:24.340 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:29:24.340 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7408ms
2025-07-31 21:29:24.342 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:29:24.342 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:29:24.343 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:29:24.343 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:29:24.344 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:29:24.346 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:29:24.389 +05:30 [INF] Executed DbCommand (41ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:29:24.390 +05:30 [INF] Found 1 users among search
2025-07-31 21:29:24.391 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:29:24.391 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 47.4927ms
2025-07-31 21:29:24.391 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:29:24.391 +05:30 [INF] HTTP GET /api/user/search responded 200 in 48.6510 ms
2025-07-31 21:29:24.392 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 49.782ms
2025-07-31 21:44:12.325 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:44:12.326 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:44:12.326 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.9914ms
2025-07-31 21:44:12.330 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:44:12.331 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:44:12.332 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:44:12.333 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:44:12.333 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:44:12.361 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:44:12.405 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:44:12.405 +05:30 [INF] Found 1 users among search
2025-07-31 21:44:12.406 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:44:12.406 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 73.0695ms
2025-07-31 21:44:12.406 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:44:12.406 +05:30 [INF] HTTP GET /api/user/search responded 200 in 74.3559 ms
2025-07-31 21:44:12.407 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 76.4717ms
2025-07-31 21:47:15.757 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:47:15.757 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:47:15.758 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.959ms
2025-07-31 21:47:15.760 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:47:15.760 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:47:15.761 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:47:15.761 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:47:15.762 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:47:15.767 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:47:15.828 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:47:15.829 +05:30 [INF] Found 1 users among search
2025-07-31 21:47:15.829 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:47:15.830 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 68.6359ms
2025-07-31 21:47:15.830 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:47:15.831 +05:30 [INF] HTTP GET /api/user/search responded 200 in 70.2325 ms
2025-07-31 21:47:15.831 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 71.1498ms
2025-07-31 21:47:49.225 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:47:49.226 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:47:49.226 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.6987ms
2025-07-31 21:47:49.229 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:47:49.229 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:47:49.230 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:47:49.230 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:47:49.231 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:47:49.234 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:47:49.277 +05:30 [INF] Executed DbCommand (42ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:47:49.278 +05:30 [INF] Found 1 users among search
2025-07-31 21:47:49.278 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:47:49.278 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 47.7055ms
2025-07-31 21:47:49.278 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:47:49.279 +05:30 [INF] HTTP GET /api/user/search responded 200 in 48.6959 ms
2025-07-31 21:47:49.279 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 50.116ms
2025-07-31 21:48:20.404 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:48:20.404 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:48:20.404 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7866ms
2025-07-31 21:48:20.406 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:48:20.407 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:48:20.408 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor)
2025-07-31 21:48:20.408 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 21:48:20.408 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.098ms
2025-07-31 21:49:03.679 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 21:49:03.680 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:49:03.680 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 21:49:03.681 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 21:49:03.681 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.6449ms
2025-07-31 21:49:04.565 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 21:49:04.565 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:49:04.565 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5421ms
2025-07-31 21:49:04.566 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 21:49:04.567 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:49:04.567 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 21:49:04.567 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 21:49:04.573 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 21:49:05.161 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 21:49:05.161 +05:30 [INF] Role: Admin
2025-07-31 21:49:05.161 +05:30 [INF] Role: Admin
2025-07-31 21:49:05.166 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 21:49:05.171 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 21:49:05.173 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 21:49:05.173 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 606.3172ms
2025-07-31 21:49:05.174 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 21:49:05.174 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 606.9559 ms
2025-07-31 21:49:05.174 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 607.6139ms
2025-07-31 21:49:05.177 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 21:49:05.177 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:49:05.178 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6286ms
2025-07-31 21:49:05.180 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 21:49:05.180 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:49:05.180 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:49:05.181 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:49:05.181 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:49:05.183 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 21:49:05.186 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 21:49:05.188 +05:30 [INF] Found 1 users among search
2025-07-31 21:49:05.188 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:49:05.189 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.3637ms
2025-07-31 21:49:05.190 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:49:05.190 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.7868 ms
2025-07-31 21:49:05.190 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 10.6103ms
2025-07-31 21:49:05.203 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 21:49:05.203 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:49:05.203 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.6869ms
2025-07-31 21:49:05.207 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 21:49:05.207 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:49:05.208 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:49:05.208 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:49:05.209 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:49:05.211 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 21:49:05.214 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 21:49:05.214 +05:30 [INF] Found 1 users among search
2025-07-31 21:49:05.215 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:49:05.215 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.4901ms
2025-07-31 21:49:05.215 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:49:05.216 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.9461 ms
2025-07-31 21:49:05.216 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 9.2851ms
2025-07-31 21:49:06.266 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:49:06.266 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:49:06.266 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.5238ms
2025-07-31 21:49:06.268 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:49:06.268 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:49:06.269 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:49:06.269 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:49:06.278 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 21:49:06.283 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 21:49:06.283 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:49:06.284 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 14.6402ms
2025-07-31 21:49:06.284 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:49:06.284 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 15.3761 ms
2025-07-31 21:49:06.284 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1679 application/json; charset=utf-8 16.311ms
2025-07-31 21:50:35.334 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:50:35.335 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:50:35.335 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.5606ms
2025-07-31 21:50:35.337 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:50:35.337 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:50:35.337 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor)
2025-07-31 21:50:35.338 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 21:50:35.338 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.3313ms
2025-07-31 21:50:57.107 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:50:57.108 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:50:57.108 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6129ms
2025-07-31 21:50:57.110 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:50:57.110 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:50:57.110 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor)
2025-07-31 21:50:57.110 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 21:50:57.110 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 0.8617ms
2025-07-31 21:51:02.134 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:51:02.135 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:51:02.135 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.4973ms
2025-07-31 21:51:02.136 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:51:02.137 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:51:02.137 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor)
2025-07-31 21:51:02.138 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 21:51:02.138 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.4155ms
2025-07-31 21:52:04.153 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:52:04.154 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:52:04.154 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6487ms
2025-07-31 21:52:04.156 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:52:04.156 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:52:04.156 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor)
2025-07-31 21:52:04.157 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 21:52:04.157 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 0.8788ms
2025-07-31 21:52:45.871 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 21:52:45.872 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:52:45.872 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 21:52:45.872 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 21:52:45.873 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.3829ms
2025-07-31 21:52:46.760 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 21:52:46.760 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:52:46.760 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.531ms
2025-07-31 21:52:46.762 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 21:52:46.762 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:52:46.763 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 21:52:46.763 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 21:52:46.781 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 21:52:47.352 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 21:52:47.353 +05:30 [INF] Role: Admin
2025-07-31 21:52:47.353 +05:30 [INF] Role: Admin
2025-07-31 21:52:47.353 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 21:52:47.364 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 21:52:47.365 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 21:52:47.365 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 602.5351ms
2025-07-31 21:52:47.366 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 21:52:47.366 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 603.5253 ms
2025-07-31 21:52:47.366 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 604.2486ms
2025-07-31 21:52:47.370 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 21:52:47.370 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:52:47.371 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7138ms
2025-07-31 21:52:47.373 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 21:52:47.373 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:52:47.373 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:52:47.374 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:52:47.375 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:52:47.377 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 21:52:47.380 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 21:52:47.381 +05:30 [INF] Found 1 users among search
2025-07-31 21:52:47.381 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:52:47.382 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.3043ms
2025-07-31 21:52:47.382 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:52:47.383 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.4617 ms
2025-07-31 21:52:47.383 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 10.6268ms
2025-07-31 21:52:47.395 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 21:52:47.396 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:52:47.396 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.0638ms
2025-07-31 21:52:47.399 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 21:52:47.399 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:52:47.400 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:52:47.400 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:52:47.401 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:52:47.403 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 21:52:47.406 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 21:52:47.406 +05:30 [INF] Found 1 users among search
2025-07-31 21:52:47.406 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:52:47.407 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.3743ms
2025-07-31 21:52:47.407 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:52:47.407 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.3483 ms
2025-07-31 21:52:47.407 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 8.0854ms
2025-07-31 21:53:27.276 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:53:27.276 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:53:27.276 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.659ms
2025-07-31 21:53:27.279 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:53:27.279 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:53:27.279 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:53:27.280 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:53:27.288 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 21:53:27.293 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 21:53:27.293 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:53:27.294 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 13.5873ms
2025-07-31 21:53:27.294 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:53:27.294 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 15.0233 ms
2025-07-31 21:53:27.295 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1679 application/json; charset=utf-8 16.2211ms
2025-07-31 21:53:29.484 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:53:29.484 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:53:29.484 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.4964ms
2025-07-31 21:53:29.486 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:53:29.486 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:53:29.487 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:53:29.487 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:53:29.488 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:53:29.491 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:53:29.528 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:53:29.528 +05:30 [INF] Found 1 users among search
2025-07-31 21:53:29.528 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:53:29.528 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 41.0283ms
2025-07-31 21:53:29.528 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:53:29.529 +05:30 [INF] HTTP GET /api/user/search responded 200 in 41.8569 ms
2025-07-31 21:53:29.529 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 42.9309ms
2025-07-31 21:55:27.153 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:55:27.154 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:55:27.155 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.7049ms
2025-07-31 21:55:27.157 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:55:27.157 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:55:27.158 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor)
2025-07-31 21:55:27.158 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 21:55:27.158 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.4277ms
2025-07-31 21:56:30.898 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:56:30.899 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:30.900 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1855ms
2025-07-31 21:56:30.904 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:56:30.905 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:30.905 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor)
2025-07-31 21:56:30.905 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 21:56:30.906 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.8233ms
2025-07-31 21:56:31.649 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 21:56:31.650 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:31.650 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 21:56:31.650 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 21:56:31.651 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.4299ms
2025-07-31 21:56:32.481 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 21:56:32.481 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:32.481 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.4343ms
2025-07-31 21:56:32.483 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 21:56:32.483 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:32.484 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 21:56:32.484 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 21:56:32.502 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 21:56:33.090 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 21:56:33.091 +05:30 [INF] Role: Admin
2025-07-31 21:56:33.091 +05:30 [INF] Role: Admin
2025-07-31 21:56:33.091 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 21:56:33.095 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 21:56:33.096 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 21:56:33.097 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 612.3964ms
2025-07-31 21:56:33.097 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 21:56:33.097 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 613.6571 ms
2025-07-31 21:56:33.098 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 614.7369ms
2025-07-31 21:56:33.101 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 21:56:33.102 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:33.102 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6145ms
2025-07-31 21:56:33.104 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 21:56:33.105 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:33.106 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:56:33.106 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:56:33.107 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:56:33.110 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 21:56:33.113 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 21:56:33.114 +05:30 [INF] Found 1 users among search
2025-07-31 21:56:33.114 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:56:33.115 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.292ms
2025-07-31 21:56:33.115 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:56:33.115 +05:30 [INF] HTTP GET /api/user/search responded 200 in 10.1272 ms
2025-07-31 21:56:33.116 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 11.4299ms
2025-07-31 21:56:33.122 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 21:56:33.122 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:33.123 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.6846ms
2025-07-31 21:56:33.126 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 21:56:33.126 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:33.127 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:56:33.127 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:56:33.128 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:56:33.131 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 21:56:33.134 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 21:56:33.134 +05:30 [INF] Found 1 users among search
2025-07-31 21:56:33.135 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:56:33.135 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.9852ms
2025-07-31 21:56:33.136 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:56:33.137 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.8802 ms
2025-07-31 21:56:33.137 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 11.2142ms
2025-07-31 21:56:34.273 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:56:34.273 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:34.273 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:56:34.274 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:56:34.281 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 21:56:34.285 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 21:56:34.286 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:56:34.287 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 13.1897ms
2025-07-31 21:56:34.288 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:56:34.288 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 14.7425 ms
2025-07-31 21:56:34.288 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1679 application/json; charset=utf-8 15.735ms
2025-07-31 21:56:35.622 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:56:35.622 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:35.623 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.5251ms
2025-07-31 21:56:35.624 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:56:35.624 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:35.625 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:56:35.625 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:56:35.625 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:56:35.634 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:56:35.672 +05:30 [INF] Executed DbCommand (37ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:56:35.672 +05:30 [INF] Found 1 users among search
2025-07-31 21:56:35.672 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:56:35.673 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 47.5483ms
2025-07-31 21:56:35.673 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:56:35.673 +05:30 [INF] HTTP GET /api/user/search responded 200 in 48.3835 ms
2025-07-31 21:56:35.673 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 49.2532ms
2025-07-31 21:56:47.137 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:56:47.138 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:47.138 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.0494ms
2025-07-31 21:56:47.140 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:56:47.141 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:47.141 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor)
2025-07-31 21:56:47.142 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 21:56:47.142 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.4742ms
2025-07-31 21:56:48.121 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 21:56:48.122 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:48.122 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 21:56:48.122 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 21:56:48.122 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.8602ms
2025-07-31 21:56:48.937 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 21:56:48.938 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:48.938 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.1881ms
2025-07-31 21:56:48.940 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 21:56:48.940 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:48.940 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 21:56:48.941 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 21:56:48.959 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 21:56:49.543 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 21:56:49.543 +05:30 [INF] Role: Admin
2025-07-31 21:56:49.544 +05:30 [INF] Role: Admin
2025-07-31 21:56:49.544 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 21:56:49.550 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 21:56:49.551 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 21:56:49.551 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 610.2133ms
2025-07-31 21:56:49.551 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 21:56:49.551 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 610.8443 ms
2025-07-31 21:56:49.551 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 611.5915ms
2025-07-31 21:56:49.555 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 21:56:49.556 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:49.556 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 1.0808ms
2025-07-31 21:56:49.559 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 21:56:49.560 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:49.560 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:56:49.561 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:56:49.562 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:56:49.564 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 21:56:49.567 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 21:56:49.567 +05:30 [INF] Found 1 users among search
2025-07-31 21:56:49.568 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:56:49.568 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.7225ms
2025-07-31 21:56:49.568 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:56:49.568 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.0167 ms
2025-07-31 21:56:49.569 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 508 application/json; charset=utf-8 9.3967ms
2025-07-31 21:56:49.577 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 21:56:49.578 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:49.578 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.7129ms
2025-07-31 21:56:49.580 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 21:56:49.580 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:49.581 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:56:49.581 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:56:49.582 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:56:49.584 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 21:56:49.586 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 21:56:49.586 +05:30 [INF] Found 1 users among search
2025-07-31 21:56:49.587 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:56:49.587 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.1191ms
2025-07-31 21:56:49.588 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:56:49.588 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.4360 ms
2025-07-31 21:56:49.589 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 508 application/json; charset=utf-8 8.6043ms
2025-07-31 21:56:51.450 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:56:51.450 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:51.451 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:56:51.451 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:56:51.460 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 21:56:51.464 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 21:56:51.465 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:56:51.466 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 13.9581ms
2025-07-31 21:56:51.466 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:56:51.466 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 15.7546 ms
2025-07-31 21:56:51.467 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1679 application/json; charset=utf-8 17.112ms
2025-07-31 21:56:57.726 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:56:57.726 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:57.727 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.0449ms
2025-07-31 21:56:57.729 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:56:57.729 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:56:57.730 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:56:57.730 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:56:57.730 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:56:57.733 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:56:57.765 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:56:57.765 +05:30 [INF] Found 1 users among search
2025-07-31 21:56:57.766 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:56:57.766 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 35.9472ms
2025-07-31 21:56:57.766 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:56:57.766 +05:30 [INF] HTTP GET /api/user/search responded 200 in 36.8314 ms
2025-07-31 21:56:57.767 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 37.6515ms
2025-07-31 21:57:10.799 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:57:10.800 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:10.800 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7732ms
2025-07-31 21:57:10.802 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:57:10.802 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:10.803 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:57:10.803 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:57:10.804 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:57:10.807 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:57:10.809 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:57:10.810 +05:30 [INF] Found 1 users among search
2025-07-31 21:57:10.810 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:57:10.813 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.2379ms
2025-07-31 21:57:10.813 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:57:10.814 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.1991 ms
2025-07-31 21:57:10.814 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 12.1223ms
2025-07-31 21:57:10.880 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20John&lastName=Smith&specialization=Cardiology&contactNumber=924-315-8076&email=dr.smith@healthcare.com&schedule=Mon%E2%80%93Fri%209AM%E2%80%935PM - null null
2025-07-31 21:57:10.881 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:10.882 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20John&lastName=Smith&specialization=Cardiology&contactNumber=924-315-8076&email=dr.smith@healthcare.com&schedule=Mon%E2%80%93Fri%209AM%E2%80%935PM - 204 null null 1.5723ms
2025-07-31 21:57:10.884 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20John&lastName=Smith&specialization=Cardiology&contactNumber=924-315-8076&email=dr.smith@healthcare.com&schedule=Mon%E2%80%93Fri%209AM%E2%80%935PM - null null
2025-07-31 21:57:10.884 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:10.884 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 21:57:10.902 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:57:10.933 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
2025-07-31 21:57:10.936 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 21:57:10.936 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 21:57:10.950 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 21:57:10.952 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:57:10.953 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 50.2272ms
2025-07-31 21:57:10.953 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 21:57:10.954 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 69.4403 ms
2025-07-31 21:57:10.954 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20John&lastName=Smith&specialization=Cardiology&contactNumber=924-315-8076&email=dr.smith@healthcare.com&schedule=Mon%E2%80%93Fri%209AM%E2%80%935PM - 200 386 application/json; charset=utf-8 70.6028ms
2025-07-31 21:57:10.958 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/1 - null null
2025-07-31 21:57:10.959 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:10.959 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/1 - 204 null null 1.1754ms
2025-07-31 21:57:10.961 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/doctor/1 - application/json-patch+json 563
2025-07-31 21:57:10.961 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:10.962 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 21:57:10.968 +05:30 [INF] Route matched with {action = "Patch", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:57:11.088 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[DoctorID] = @__id_0
2025-07-31 21:57:11.189 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Size = 20), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (Size = 255), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Doctors] SET [ContactNumber] = @p0, [CreatedAt] = @p1, [Email] = @p2, [FirstName] = @p3, [LastName] = @p4, [ModifiedAt] = @p5, [Schedule] = @p6, [Specialization] = @p7, [UserID] = @p8, [isActive] = @p9
OUTPUT 1
WHERE [DoctorID] = @p10;
2025-07-31 21:57:11.318 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-31 21:57:11.318 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi) in 349.5197ms
2025-07-31 21:57:11.319 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 21:57:11.319 +05:30 [INF] HTTP PATCH /api/doctor/1 responded 204 in 357.2998 ms
2025-07-31 21:57:11.320 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/doctor/1 - 204 null null 358.6551ms
2025-07-31 21:57:11.331 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:57:11.332 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:11.332 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.3474ms
2025-07-31 21:57:11.335 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:57:11.336 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:11.336 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:57:11.338 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:57:11.340 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 21:57:11.342 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 21:57:11.342 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:57:11.343 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 4.9582ms
2025-07-31 21:57:11.343 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:57:11.343 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 7.1332 ms
2025-07-31 21:57:11.344 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1685 application/json; charset=utf-8 8.783ms
2025-07-31 21:57:17.326 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:57:17.326 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:17.326 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.5783ms
2025-07-31 21:57:17.328 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:57:17.328 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:17.329 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:57:17.329 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:57:17.330 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:57:17.332 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:57:17.334 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:57:17.334 +05:30 [INF] Found 1 users among search
2025-07-31 21:57:17.335 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:57:17.335 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.6511ms
2025-07-31 21:57:17.335 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:57:17.336 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.8779 ms
2025-07-31 21:57:17.336 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 7.8699ms
2025-07-31 21:57:31.496 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:57:31.496 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:31.497 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7076ms
2025-07-31 21:57:31.499 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:57:31.499 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:31.500 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:57:31.500 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:57:31.501 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:57:31.503 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:57:31.504 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:57:31.505 +05:30 [INF] Found 1 users among search
2025-07-31 21:57:31.505 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:57:31.505 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.9472ms
2025-07-31 21:57:31.506 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:57:31.506 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.9696 ms
2025-07-31 21:57:31.506 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 7.2491ms
2025-07-31 21:57:31.581 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Michael&lastName=Williams&specialization=General%20Medicine&contactNumber=836-257-1904&email=dr.williams@healthcare.com&schedule=Mon%E2%80%93Fri%208AM%E2%80%934PM - null null
2025-07-31 21:57:31.582 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:31.582 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Michael&lastName=Williams&specialization=General%20Medicine&contactNumber=836-257-1904&email=dr.williams@healthcare.com&schedule=Mon%E2%80%93Fri%208AM%E2%80%934PM - 204 null null 0.5766ms
2025-07-31 21:57:31.583 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Michael&lastName=Williams&specialization=General%20Medicine&contactNumber=836-257-1904&email=dr.williams@healthcare.com&schedule=Mon%E2%80%93Fri%208AM%E2%80%934PM - null null
2025-07-31 21:57:31.584 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:31.584 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 21:57:31.584 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:57:31.587 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
2025-07-31 21:57:31.588 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 21:57:31.589 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:57:31.589 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 4.5338ms
2025-07-31 21:57:31.589 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 21:57:31.589 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 5.3659 ms
2025-07-31 21:57:31.590 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Michael&lastName=Williams&specialization=General%20Medicine&contactNumber=836-257-1904&email=dr.williams@healthcare.com&schedule=Mon%E2%80%93Fri%208AM%E2%80%934PM - 200 401 application/json; charset=utf-8 6.4561ms
2025-07-31 21:57:31.595 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/3 - null null
2025-07-31 21:57:31.595 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:31.596 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/3 - 204 null null 0.7214ms
2025-07-31 21:57:31.597 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/doctor/3 - application/json-patch+json 578
2025-07-31 21:57:31.598 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:31.598 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 21:57:31.598 +05:30 [INF] Route matched with {action = "Patch", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:57:31.601 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[DoctorID] = @__id_0
2025-07-31 21:57:31.603 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Size = 20), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (Size = 255), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Doctors] SET [ContactNumber] = @p0, [CreatedAt] = @p1, [Email] = @p2, [FirstName] = @p3, [LastName] = @p4, [ModifiedAt] = @p5, [Schedule] = @p6, [Specialization] = @p7, [UserID] = @p8, [isActive] = @p9
OUTPUT 1
WHERE [DoctorID] = @p10;
2025-07-31 21:57:31.659 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-31 21:57:31.659 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi) in 60.8234ms
2025-07-31 21:57:31.659 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 21:57:31.660 +05:30 [INF] HTTP PATCH /api/doctor/3 responded 204 in 61.5318 ms
2025-07-31 21:57:31.660 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/doctor/3 - 204 null null 62.4121ms
2025-07-31 21:57:31.668 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:57:31.668 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:31.668 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.4996ms
2025-07-31 21:57:31.670 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:57:31.670 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:31.671 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:57:31.671 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:57:31.672 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 21:57:31.673 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 21:57:31.674 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:57:31.675 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 3.788ms
2025-07-31 21:57:31.675 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:57:31.675 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 4.5856 ms
2025-07-31 21:57:31.675 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1691 application/json; charset=utf-8 5.3289ms
2025-07-31 21:57:38.114 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:57:38.114 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:38.115 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.6265ms
2025-07-31 21:57:38.116 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:57:38.117 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:38.118 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:57:38.118 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:57:38.119 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:57:38.121 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:57:38.124 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:57:38.125 +05:30 [INF] Found 1 users among search
2025-07-31 21:57:38.125 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:57:38.126 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.2004ms
2025-07-31 21:57:38.126 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:57:38.126 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.8705 ms
2025-07-31 21:57:38.127 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 10.4116ms
2025-07-31 21:57:55.640 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:57:55.640 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:55.640 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.7193ms
2025-07-31 21:57:55.642 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:57:55.643 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:55.643 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:57:55.643 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:57:55.644 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:57:55.657 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:57:55.697 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:57:55.698 +05:30 [INF] Found 1 users among search
2025-07-31 21:57:55.698 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:57:55.698 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 54.7348ms
2025-07-31 21:57:55.698 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:57:55.699 +05:30 [INF] HTTP GET /api/user/search responded 200 in 55.6492 ms
2025-07-31 21:57:55.699 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 56.4933ms
2025-07-31 21:57:55.729 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Sarah&lastName=Brown&specialization=Pediatrics&contactNumber=415-073-6289&email=dr.brown@healthcare.com&schedule=Tue/Thu/Sat%209AM%E2%80%935PM - null null
2025-07-31 21:57:55.730 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:55.730 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Sarah&lastName=Brown&specialization=Pediatrics&contactNumber=415-073-6289&email=dr.brown@healthcare.com&schedule=Tue/Thu/Sat%209AM%E2%80%935PM - 204 null null 1.0243ms
2025-07-31 21:57:55.735 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Sarah&lastName=Brown&specialization=Pediatrics&contactNumber=415-073-6289&email=dr.brown@healthcare.com&schedule=Tue/Thu/Sat%209AM%E2%80%935PM - null null
2025-07-31 21:57:55.735 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:55.736 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 21:57:55.736 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:57:55.757 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
2025-07-31 21:57:55.763 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 21:57:55.764 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:57:55.765 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 27.9258ms
2025-07-31 21:57:55.765 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 21:57:55.765 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 29.1710 ms
2025-07-31 21:57:55.765 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Sarah&lastName=Brown&specialization=Pediatrics&contactNumber=415-073-6289&email=dr.brown@healthcare.com&schedule=Tue/Thu/Sat%209AM%E2%80%935PM - 200 389 application/json; charset=utf-8 30.4368ms
2025-07-31 21:57:55.768 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/4 - null null
2025-07-31 21:57:55.769 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:55.769 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/4 - 204 null null 0.8306ms
2025-07-31 21:57:55.771 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/doctor/4 - application/json-patch+json 569
2025-07-31 21:57:55.771 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:55.771 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 21:57:55.772 +05:30 [INF] Route matched with {action = "Patch", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:57:55.778 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[DoctorID] = @__id_0
2025-07-31 21:57:55.788 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Size = 20), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (Size = 255), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Doctors] SET [ContactNumber] = @p0, [CreatedAt] = @p1, [Email] = @p2, [FirstName] = @p3, [LastName] = @p4, [ModifiedAt] = @p5, [Schedule] = @p6, [Specialization] = @p7, [UserID] = @p8, [isActive] = @p9
OUTPUT 1
WHERE [DoctorID] = @p10;
2025-07-31 21:57:55.849 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-31 21:57:55.850 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi) in 77.7215ms
2025-07-31 21:57:55.850 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 21:57:55.850 +05:30 [INF] HTTP PATCH /api/doctor/4 responded 204 in 78.6375 ms
2025-07-31 21:57:55.850 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/doctor/4 - 204 null null 79.5504ms
2025-07-31 21:57:55.861 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:57:55.862 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:55.862 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.5244ms
2025-07-31 21:57:55.863 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:57:55.864 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:57:55.864 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:57:55.864 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:57:55.867 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 21:57:55.870 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 21:57:55.871 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:57:55.871 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 6.9155ms
2025-07-31 21:57:55.871 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:57:55.871 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 7.6104 ms
2025-07-31 21:57:55.872 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1699 application/json; charset=utf-8 8.3427ms
2025-07-31 21:58:01.713 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:58:01.713 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:01.714 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.5351ms
2025-07-31 21:58:01.715 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:58:01.716 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:01.716 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:58:01.717 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:58:01.717 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:58:01.719 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:58:01.722 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:58:01.722 +05:30 [INF] Found 1 users among search
2025-07-31 21:58:01.722 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:58:01.723 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.4604ms
2025-07-31 21:58:01.723 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:58:01.723 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.8597 ms
2025-07-31 21:58:01.723 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 7.9172ms
2025-07-31 21:58:08.496 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:58:08.496 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:08.496 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.5768ms
2025-07-31 21:58:08.498 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:58:08.498 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:08.498 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:58:08.499 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:58:08.499 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:58:08.500 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:58:08.503 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:58:08.503 +05:30 [INF] Found 1 users among search
2025-07-31 21:58:08.504 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:58:08.504 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.3157ms
2025-07-31 21:58:08.505 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:58:08.505 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.5599 ms
2025-07-31 21:58:08.505 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 7.4492ms
2025-07-31 21:58:25.040 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:58:25.041 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:25.041 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.4392ms
2025-07-31 21:58:25.043 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:58:25.043 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:25.043 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:58:25.044 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:58:25.045 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:58:25.047 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:58:25.048 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:58:25.049 +05:30 [INF] Found 1 users among search
2025-07-31 21:58:25.049 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:58:25.049 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.1226ms
2025-07-31 21:58:25.049 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:58:25.050 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.1882 ms
2025-07-31 21:58:25.050 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 7.3619ms
2025-07-31 21:58:25.136 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20David&lastName=Davis&specialization=Orthopedics&contactNumber=582-914-3072&email=dr.davis@healthcare.com&schedule=Mon/Wed/Fri%2011AM%E2%80%937PM - null null
2025-07-31 21:58:25.137 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:25.137 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20David&lastName=Davis&specialization=Orthopedics&contactNumber=582-914-3072&email=dr.davis@healthcare.com&schedule=Mon/Wed/Fri%2011AM%E2%80%937PM - 204 null null 0.8538ms
2025-07-31 21:58:25.139 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20David&lastName=Davis&specialization=Orthopedics&contactNumber=582-914-3072&email=dr.davis@healthcare.com&schedule=Mon/Wed/Fri%2011AM%E2%80%937PM - null null
2025-07-31 21:58:25.139 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:25.140 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 21:58:25.140 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:58:25.144 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
2025-07-31 21:58:25.147 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 21:58:25.147 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:58:25.148 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 6.8704ms
2025-07-31 21:58:25.148 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 21:58:25.148 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 8.5621 ms
2025-07-31 21:58:25.148 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20David&lastName=Davis&specialization=Orthopedics&contactNumber=582-914-3072&email=dr.davis@healthcare.com&schedule=Mon/Wed/Fri%2011AM%E2%80%937PM - 200 391 application/json; charset=utf-8 9.4585ms
2025-07-31 21:58:25.151 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/5 - null null
2025-07-31 21:58:25.152 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:25.152 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/5 - 204 null null 0.6013ms
2025-07-31 21:58:25.153 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/doctor/5 - application/json-patch+json 569
2025-07-31 21:58:25.154 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:25.154 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 21:58:25.155 +05:30 [INF] Route matched with {action = "Patch", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:58:25.158 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[DoctorID] = @__id_0
2025-07-31 21:58:25.163 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Size = 20), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (Size = 255), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Doctors] SET [ContactNumber] = @p0, [CreatedAt] = @p1, [Email] = @p2, [FirstName] = @p3, [LastName] = @p4, [ModifiedAt] = @p5, [Schedule] = @p6, [Specialization] = @p7, [UserID] = @p8, [isActive] = @p9
OUTPUT 1
WHERE [DoctorID] = @p10;
2025-07-31 21:58:25.247 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-31 21:58:25.247 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi) in 91.9329ms
2025-07-31 21:58:25.247 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 21:58:25.247 +05:30 [INF] HTTP PATCH /api/doctor/5 responded 204 in 93.1776 ms
2025-07-31 21:58:25.248 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/doctor/5 - 204 null null 94.3669ms
2025-07-31 21:58:25.259 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:58:25.260 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:25.260 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.5079ms
2025-07-31 21:58:25.262 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:58:25.262 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:25.262 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:58:25.263 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:58:25.264 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 21:58:25.266 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 21:58:25.268 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:58:25.269 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 6.5285ms
2025-07-31 21:58:25.270 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:58:25.270 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 7.4892 ms
2025-07-31 21:58:25.270 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1706 application/json; charset=utf-8 8.4801ms
2025-07-31 21:58:29.500 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:58:29.500 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:29.500 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:58:29.501 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:58:29.501 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:58:29.504 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:58:29.506 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:58:29.507 +05:30 [INF] Found 1 users among search
2025-07-31 21:58:29.507 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:58:29.508 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.8381ms
2025-07-31 21:58:29.508 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:58:29.508 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.2123 ms
2025-07-31 21:58:29.509 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 9.0759ms
2025-07-31 21:58:38.219 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:58:38.219 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:38.220 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.9508ms
2025-07-31 21:58:38.222 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:58:38.222 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:38.223 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:58:38.223 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:58:38.224 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:58:38.226 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:58:38.229 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:58:38.229 +05:30 [INF] Found 1 users among search
2025-07-31 21:58:38.230 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:58:38.230 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.1745ms
2025-07-31 21:58:38.230 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:58:38.230 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.4695 ms
2025-07-31 21:58:38.230 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 8.7656ms
2025-07-31 21:58:38.302 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Lisa&lastName=Wilson&specialization=Neurology&contactNumber=690-831-4527&email=dr.wilson@healthcare.com&schedule=Mon%E2%80%93Fri%2010AM%E2%80%936PM - null null
2025-07-31 21:58:38.302 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:38.302 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Lisa&lastName=Wilson&specialization=Neurology&contactNumber=690-831-4527&email=dr.wilson@healthcare.com&schedule=Mon%E2%80%93Fri%2010AM%E2%80%936PM - 204 null null 0.8029ms
2025-07-31 21:58:38.305 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Lisa&lastName=Wilson&specialization=Neurology&contactNumber=690-831-4527&email=dr.wilson@healthcare.com&schedule=Mon%E2%80%93Fri%2010AM%E2%80%936PM - null null
2025-07-31 21:58:38.305 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:38.306 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 21:58:38.306 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:58:38.310 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
2025-07-31 21:58:38.313 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 21:58:38.313 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:58:38.314 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 6.7189ms
2025-07-31 21:58:38.314 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 21:58:38.314 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 8.3071 ms
2025-07-31 21:58:38.314 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Lisa&lastName=Wilson&specialization=Neurology&contactNumber=690-831-4527&email=dr.wilson@healthcare.com&schedule=Mon%E2%80%93Fri%2010AM%E2%80%936PM - 200 388 application/json; charset=utf-8 9.5531ms
2025-07-31 21:58:38.318 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/6 - null null
2025-07-31 21:58:38.319 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:38.319 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/6 - 204 null null 0.5548ms
2025-07-31 21:58:38.320 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/doctor/6 - application/json-patch+json 565
2025-07-31 21:58:38.320 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:38.321 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 21:58:38.321 +05:30 [INF] Route matched with {action = "Patch", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:58:38.324 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[DoctorID] = @__id_0
2025-07-31 21:58:38.327 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Size = 20), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (Size = 255), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Doctors] SET [ContactNumber] = @p0, [CreatedAt] = @p1, [Email] = @p2, [FirstName] = @p3, [LastName] = @p4, [ModifiedAt] = @p5, [Schedule] = @p6, [Specialization] = @p7, [UserID] = @p8, [isActive] = @p9
OUTPUT 1
WHERE [DoctorID] = @p10;
2025-07-31 21:58:38.400 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-31 21:58:38.401 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi) in 79.3716ms
2025-07-31 21:58:38.401 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 21:58:38.401 +05:30 [INF] HTTP PATCH /api/doctor/6 responded 204 in 80.3062 ms
2025-07-31 21:58:38.401 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/doctor/6 - 204 null null 81.1941ms
2025-07-31 21:58:38.414 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:58:38.415 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:38.415 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8883ms
2025-07-31 21:58:38.417 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:58:38.417 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:58:38.418 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:58:38.418 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:58:38.420 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 21:58:38.422 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 21:58:38.422 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:58:38.423 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 4.1035ms
2025-07-31 21:58:38.423 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:58:38.423 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 5.0492 ms
2025-07-31 21:58:38.423 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1712 application/json; charset=utf-8 5.9941ms
2025-07-31 21:59:47.237 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:59:47.237 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:59:47.237 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.5109ms
2025-07-31 21:59:47.239 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:59:47.239 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:59:47.240 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:59:47.240 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:59:47.241 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:59:47.252 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:59:47.284 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:59:47.284 +05:30 [INF] Found 1 users among search
2025-07-31 21:59:47.285 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:59:47.286 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 45.0884ms
2025-07-31 21:59:47.286 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:59:47.286 +05:30 [INF] HTTP GET /api/user/search responded 200 in 46.5267 ms
2025-07-31 21:59:47.287 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 47.6795ms
2025-07-31 21:59:53.080 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:59:53.080 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:59:53.080 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.5046ms
2025-07-31 21:59:53.082 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:59:53.082 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:59:53.083 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:59:53.083 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:59:53.083 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:59:53.097 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:59:53.130 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:59:53.130 +05:30 [INF] Found 1 users among search
2025-07-31 21:59:53.130 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:59:53.130 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 47.4538ms
2025-07-31 21:59:53.131 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:59:53.131 +05:30 [INF] HTTP GET /api/user/search responded 200 in 48.3179 ms
2025-07-31 21:59:53.131 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 49.4358ms
2025-07-31 21:59:53.170 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Sarah&lastName=Brown&specialization=Pediatrics&contactNumber=4150736289&email=dr.brown@healthcare.com&schedule=Tue-Thu-Sat%2010:00%20AM%20-%206:00%20PM - null null
2025-07-31 21:59:53.170 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:59:53.170 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Sarah&lastName=Brown&specialization=Pediatrics&contactNumber=4150736289&email=dr.brown@healthcare.com&schedule=Tue-Thu-Sat%2010:00%20AM%20-%206:00%20PM - 204 null null 0.622ms
2025-07-31 21:59:53.172 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Sarah&lastName=Brown&specialization=Pediatrics&contactNumber=4150736289&email=dr.brown@healthcare.com&schedule=Tue-Thu-Sat%2010:00%20AM%20-%206:00%20PM - null null
2025-07-31 21:59:53.172 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:59:53.173 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 21:59:53.173 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:59:53.182 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
2025-07-31 21:59:53.191 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 21:59:53.191 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:59:53.191 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 18.3204ms
2025-07-31 21:59:53.192 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 21:59:53.192 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 19.3079 ms
2025-07-31 21:59:53.192 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Sarah&lastName=Brown&specialization=Pediatrics&contactNumber=4150736289&email=dr.brown@healthcare.com&schedule=Tue-Thu-Sat%2010:00%20AM%20-%206:00%20PM - 200 397 application/json; charset=utf-8 20.409ms
2025-07-31 21:59:53.196 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/4 - null null
2025-07-31 21:59:53.196 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:59:53.197 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/4 - 204 null null 1.1056ms
2025-07-31 21:59:53.198 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/doctor/4 - application/json-patch+json 569
2025-07-31 21:59:53.199 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:59:53.199 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 21:59:53.199 +05:30 [INF] Route matched with {action = "Patch", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:59:53.202 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[DoctorID] = @__id_0
2025-07-31 21:59:53.209 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Size = 20), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (Size = 255), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Doctors] SET [ContactNumber] = @p0, [CreatedAt] = @p1, [Email] = @p2, [FirstName] = @p3, [LastName] = @p4, [ModifiedAt] = @p5, [Schedule] = @p6, [Specialization] = @p7, [UserID] = @p8, [isActive] = @p9
OUTPUT 1
WHERE [DoctorID] = @p10;
2025-07-31 21:59:53.269 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-31 21:59:53.270 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi) in 69.8907ms
2025-07-31 21:59:53.270 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 21:59:53.270 +05:30 [INF] HTTP PATCH /api/doctor/4 responded 204 in 70.6820 ms
2025-07-31 21:59:53.270 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/doctor/4 - 204 null null 71.6538ms
2025-07-31 21:59:53.279 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:59:53.280 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:59:53.280 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6579ms
2025-07-31 21:59:53.281 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 21:59:53.282 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:59:53.282 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:59:53.282 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 21:59:53.286 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 21:59:53.289 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 21:59:53.290 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:59:53.290 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 7.6205ms
2025-07-31 21:59:53.290 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 21:59:53.291 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 8.4251 ms
2025-07-31 21:59:53.291 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1713 application/json; charset=utf-8 9.3598ms
2025-07-31 21:59:56.395 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 21:59:56.395 +05:30 [INF] CORS policy execution successful.
2025-07-31 21:59:56.396 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:59:56.397 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 21:59:56.397 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 21:59:56.409 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 21:59:56.442 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 21:59:56.443 +05:30 [INF] Found 1 users among search
2025-07-31 21:59:56.443 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 21:59:56.444 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 46.5947ms
2025-07-31 21:59:56.444 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 21:59:56.444 +05:30 [INF] HTTP GET /api/user/search responded 200 in 47.8231 ms
2025-07-31 21:59:56.444 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 48.9812ms
2025-07-31 22:00:01.847 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:00:01.847 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:01.847 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.6624ms
2025-07-31 22:00:01.850 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:00:01.850 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:01.850 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:00:01.851 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:00:01.852 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:00:01.863 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 22:00:01.919 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 22:00:01.919 +05:30 [INF] Found 1 users among search
2025-07-31 22:00:01.920 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:00:01.920 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 69.3224ms
2025-07-31 22:00:01.920 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:00:01.921 +05:30 [INF] HTTP GET /api/user/search responded 200 in 70.1998 ms
2025-07-31 22:00:01.921 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 71.2821ms
2025-07-31 22:00:01.927 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20David&lastName=Davis&specialization=Orthopedics&contactNumber=5829143072&email=dr.davis@healthcare.com&schedule=Mon-Wed-Fri%209:00%20AM%20-%205:00%20PM - null null
2025-07-31 22:00:01.927 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:01.927 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20David&lastName=Davis&specialization=Orthopedics&contactNumber=5829143072&email=dr.davis@healthcare.com&schedule=Mon-Wed-Fri%209:00%20AM%20-%205:00%20PM - 204 null null 0.4994ms
2025-07-31 22:00:01.929 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20David&lastName=Davis&specialization=Orthopedics&contactNumber=5829143072&email=dr.davis@healthcare.com&schedule=Mon-Wed-Fri%209:00%20AM%20-%205:00%20PM - null null
2025-07-31 22:00:01.929 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:01.930 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 22:00:01.930 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:00:01.939 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
2025-07-31 22:00:01.946 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 22:00:01.947 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:00:01.947 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 17.1608ms
2025-07-31 22:00:01.947 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 22:00:01.948 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 18.1269 ms
2025-07-31 22:00:01.948 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20David&lastName=Davis&specialization=Orthopedics&contactNumber=5829143072&email=dr.davis@healthcare.com&schedule=Mon-Wed-Fri%209:00%20AM%20-%205:00%20PM - 200 398 application/json; charset=utf-8 18.9735ms
2025-07-31 22:00:01.951 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/5 - null null
2025-07-31 22:00:01.952 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:01.952 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/5 - 204 null null 1.0795ms
2025-07-31 22:00:01.953 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/doctor/5 - application/json-patch+json 569
2025-07-31 22:00:01.954 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:01.954 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 22:00:01.954 +05:30 [INF] Route matched with {action = "Patch", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:00:01.957 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[DoctorID] = @__id_0
2025-07-31 22:00:01.964 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Size = 20), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (Size = 255), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Doctors] SET [ContactNumber] = @p0, [CreatedAt] = @p1, [Email] = @p2, [FirstName] = @p3, [LastName] = @p4, [ModifiedAt] = @p5, [Schedule] = @p6, [Specialization] = @p7, [UserID] = @p8, [isActive] = @p9
OUTPUT 1
WHERE [DoctorID] = @p10;
2025-07-31 22:00:02.021 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-31 22:00:02.021 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi) in 66.9961ms
2025-07-31 22:00:02.022 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 22:00:02.022 +05:30 [INF] HTTP PATCH /api/doctor/5 responded 204 in 67.6460 ms
2025-07-31 22:00:02.022 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/doctor/5 - 204 null null 68.6223ms
2025-07-31 22:00:02.031 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:00:02.031 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:02.032 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.3748ms
2025-07-31 22:00:02.033 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:00:02.033 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:02.034 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:00:02.034 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:00:02.037 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:00:02.040 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:00:02.040 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:00:02.041 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 5.9085ms
2025-07-31 22:00:02.041 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:00:02.041 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 7.0522 ms
2025-07-31 22:00:02.041 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1713 application/json; charset=utf-8 8.0618ms
2025-07-31 22:00:08.173 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:00:08.173 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:08.174 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.9361ms
2025-07-31 22:00:08.175 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:00:08.176 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:08.176 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:00:08.176 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:00:08.177 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:00:08.179 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 22:00:08.182 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 22:00:08.182 +05:30 [INF] Found 1 users among search
2025-07-31 22:00:08.183 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:00:08.183 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.9925ms
2025-07-31 22:00:08.184 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:00:08.184 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.3393 ms
2025-07-31 22:00:08.186 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 10.7892ms
2025-07-31 22:00:12.469 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:00:12.469 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:12.470 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:00:12.470 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:00:12.471 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:00:12.473 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 22:00:12.476 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 22:00:12.476 +05:30 [INF] Found 1 users among search
2025-07-31 22:00:12.477 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:00:12.477 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.1288ms
2025-07-31 22:00:12.477 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:00:12.477 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.2925 ms
2025-07-31 22:00:12.478 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 8.7717ms
2025-07-31 22:00:12.551 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Lisa&lastName=Wilson&specialization=Neurology&contactNumber=6908314527&email=dr.wilson@healthcare.com&schedule=Mon-Fri%2010:00%20AM%20-%206:00%20PM - null null
2025-07-31 22:00:12.551 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:12.551 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Lisa&lastName=Wilson&specialization=Neurology&contactNumber=6908314527&email=dr.wilson@healthcare.com&schedule=Mon-Fri%2010:00%20AM%20-%206:00%20PM - 204 null null 0.6268ms
2025-07-31 22:00:12.553 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Lisa&lastName=Wilson&specialization=Neurology&contactNumber=6908314527&email=dr.wilson@healthcare.com&schedule=Mon-Fri%2010:00%20AM%20-%206:00%20PM - null null
2025-07-31 22:00:12.554 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:12.554 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 22:00:12.554 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:00:12.556 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
2025-07-31 22:00:12.558 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 22:00:12.558 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:00:12.559 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 4.3764ms
2025-07-31 22:00:12.559 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 22:00:12.559 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 5.4507 ms
2025-07-31 22:00:12.560 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Lisa&lastName=Wilson&specialization=Neurology&contactNumber=6908314527&email=dr.wilson@healthcare.com&schedule=Mon-Fri%2010:00%20AM%20-%206:00%20PM - 200 394 application/json; charset=utf-8 6.4934ms
2025-07-31 22:00:12.566 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/6 - null null
2025-07-31 22:00:12.566 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:12.566 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/6 - 204 null null 0.6531ms
2025-07-31 22:00:12.567 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5122/api/doctor/6 - application/json-patch+json 565
2025-07-31 22:00:12.568 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:12.568 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 22:00:12.569 +05:30 [INF] Route matched with {action = "Patch", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Patch(Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:00:12.571 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[DoctorID] = @__id_0
2025-07-31 22:00:12.573 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Size = 20), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (Size = 255), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Doctors] SET [ContactNumber] = @p0, [CreatedAt] = @p1, [Email] = @p2, [FirstName] = @p3, [LastName] = @p4, [ModifiedAt] = @p5, [Schedule] = @p6, [Specialization] = @p7, [UserID] = @p8, [isActive] = @p9
OUTPUT 1
WHERE [DoctorID] = @p10;
2025-07-31 22:00:12.647 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-31 22:00:12.648 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi) in 79.1433ms
2025-07-31 22:00:12.648 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Patch (HealthcareApi)'
2025-07-31 22:00:12.648 +05:30 [INF] HTTP PATCH /api/doctor/6 responded 204 in 80.1259 ms
2025-07-31 22:00:12.649 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5122/api/doctor/6 - 204 null null 81.0283ms
2025-07-31 22:00:12.661 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:00:12.662 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:12.663 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.7261ms
2025-07-31 22:00:12.665 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:00:12.665 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:12.666 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:00:12.666 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:00:12.672 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:00:12.674 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:00:12.675 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:00:12.676 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 9.9489ms
2025-07-31 22:00:12.676 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:00:12.676 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 10.8863 ms
2025-07-31 22:00:12.677 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1713 application/json; charset=utf-8 12.5923ms
2025-07-31 22:00:52.059 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:00:52.059 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:52.059 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.8229ms
2025-07-31 22:00:52.062 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:00:52.062 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:00:52.063 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:00:52.063 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:00:52.064 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:00:52.066 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 22:00:52.068 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 22:00:52.069 +05:30 [INF] Found 1 users among search
2025-07-31 22:00:52.069 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:00:52.070 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.25ms
2025-07-31 22:00:52.070 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:00:52.070 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.3617 ms
2025-07-31 22:00:52.071 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 8.594ms
2025-07-31 22:02:10.116 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:02:10.116 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:10.116 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.5391ms
2025-07-31 22:02:10.118 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:02:10.118 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:10.119 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:02:10.119 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:02:10.119 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:02:10.137 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 22:02:10.173 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 22:02:10.174 +05:30 [INF] Found 1 users among search
2025-07-31 22:02:10.174 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:02:10.174 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 55.2331ms
2025-07-31 22:02:10.174 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:02:10.175 +05:30 [INF] HTTP GET /api/user/search responded 200 in 56.1405 ms
2025-07-31 22:02:10.175 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 57.416ms
2025-07-31 22:02:35.040 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:02:35.041 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:35.041 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.6812ms
2025-07-31 22:02:35.043 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:02:35.043 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:35.043 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:02:35.043 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:02:35.044 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:02:35.047 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 22:02:35.049 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 22:02:35.049 +05:30 [INF] Found 1 users among search
2025-07-31 22:02:35.050 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:02:35.050 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.3502ms
2025-07-31 22:02:35.050 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:02:35.051 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.2906 ms
2025-07-31 22:02:35.051 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 508 application/json; charset=utf-8 8.3057ms
2025-07-31 22:02:35.113 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 22:02:35.114 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:35.114 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.0459ms
2025-07-31 22:02:35.116 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/doctor - application/json 430
2025-07-31 22:02:35.117 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:35.118 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Post (HealthcareApi)'
2025-07-31 22:02:35.124 +05:30 [INF] Route matched with {action = "Post", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Doctor) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:02:35.170 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 22:02:35.201 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Post (HealthcareApi) in 76.2856ms
2025-07-31 22:02:35.202 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Post (HealthcareApi)'
2025-07-31 22:02:35.202 +05:30 [INF] HTTP POST /api/doctor responded 400 in 84.4433 ms
2025-07-31 22:02:35.202 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/doctor - 400 242 application/problem+json; charset=utf-8 85.8174ms
2025-07-31 22:02:42.469 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:02:42.469 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:42.470 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.9192ms
2025-07-31 22:02:42.474 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:02:42.479 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:42.481 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor)
2025-07-31 22:02:42.482 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:02:42.482 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 8.2476ms
2025-07-31 22:02:43.550 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 22:02:43.551 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:43.553 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 22:02:43.553 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:02:43.554 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 3.4551ms
2025-07-31 22:02:44.587 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 22:02:44.587 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:44.587 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.8511ms
2025-07-31 22:02:44.589 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 22:02:44.589 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:44.590 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:02:44.590 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 22:02:44.594 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 22:02:45.403 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 22:02:45.403 +05:30 [INF] Role: Admin
2025-07-31 22:02:45.404 +05:30 [INF] Role: Admin
2025-07-31 22:02:45.404 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 22:02:45.411 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 22:02:45.411 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 22:02:45.412 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 821.0045ms
2025-07-31 22:02:45.412 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:02:45.412 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 822.1310 ms
2025-07-31 22:02:45.412 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 823.1177ms
2025-07-31 22:02:45.417 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:02:45.417 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:45.417 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6002ms
2025-07-31 22:02:45.420 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:02:45.420 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:45.420 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:02:45.421 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:02:45.422 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:02:45.424 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 22:02:45.431 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 22:02:45.432 +05:30 [INF] Found 1 users among search
2025-07-31 22:02:45.432 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:02:45.432 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 11.353ms
2025-07-31 22:02:45.433 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:02:45.433 +05:30 [INF] HTTP GET /api/user/search responded 200 in 12.4561 ms
2025-07-31 22:02:45.433 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 507 application/json; charset=utf-8 13.9077ms
2025-07-31 22:02:45.458 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:02:45.459 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:45.460 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.5842ms
2025-07-31 22:02:45.464 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:02:45.465 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:45.466 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:02:45.466 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:02:45.467 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:02:45.469 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 22:02:45.471 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 22:02:45.471 +05:30 [INF] Found 1 users among search
2025-07-31 22:02:45.471 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:02:45.472 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.2021ms
2025-07-31 22:02:45.472 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:02:45.472 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.3787 ms
2025-07-31 22:02:45.473 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 507 application/json; charset=utf-8 8.7246ms
2025-07-31 22:02:46.888 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:02:46.888 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:02:46.889 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:02:46.889 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:02:46.898 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:02:46.901 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:02:46.902 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:02:46.902 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 12.9256ms
2025-07-31 22:02:46.903 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:02:46.903 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 13.9724 ms
2025-07-31 22:02:46.903 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1713 application/json; charset=utf-8 15.6036ms
2025-07-31 22:04:52.491 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:04:52.492 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:04:52.492 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 0.6448ms
2025-07-31 22:04:52.494 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:04:52.494 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:04:52.495 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:04:52.495 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:04:52.495 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:04:52.503 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 22:04:52.534 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 22:04:52.535 +05:30 [INF] Found 1 users among search
2025-07-31 22:04:52.535 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:04:52.535 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 40.232ms
2025-07-31 22:04:52.535 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:04:52.536 +05:30 [INF] HTTP GET /api/user/search responded 200 in 40.9655 ms
2025-07-31 22:04:52.536 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 507 application/json; charset=utf-8 41.7251ms
2025-07-31 22:05:12.939 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:05:12.940 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:05:12.940 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.1019ms
2025-07-31 22:05:12.943 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:05:12.943 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:05:12.944 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:05:12.944 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:05:12.945 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:05:12.947 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 22:05:12.950 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 22:05:12.951 +05:30 [INF] Found 1 users among search
2025-07-31 22:05:12.951 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:05:12.952 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.1151ms
2025-07-31 22:05:12.952 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:05:12.952 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.3365 ms
2025-07-31 22:05:12.952 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 507 application/json; charset=utf-8 9.5297ms
2025-07-31 22:05:13.024 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 22:05:13.025 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:05:13.025 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.8462ms
2025-07-31 22:05:13.027 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/doctor - application/json 430
2025-07-31 22:05:13.027 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:05:13.028 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Post (HealthcareApi)'
2025-07-31 22:05:13.028 +05:30 [INF] Route matched with {action = "Post", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Doctor) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:05:13.036 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 22:05:13.036 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Post (HealthcareApi) in 7.9683ms
2025-07-31 22:05:13.037 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Post (HealthcareApi)'
2025-07-31 22:05:13.038 +05:30 [INF] HTTP POST /api/doctor responded 400 in 10.6242 ms
2025-07-31 22:05:13.039 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/doctor - 400 242 application/problem+json; charset=utf-8 11.7677ms
2025-07-31 22:05:42.168 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/doctor - application/json 392
2025-07-31 22:05:42.172 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '31-07-2025 06:19:06', Current time (UTC): '31-07-2025 16:35:42'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-31 22:05:42.177 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '31-07-2025 06:19:06', Current time (UTC): '31-07-2025 16:35:42'.
2025-07-31 22:05:42.178 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-31 22:05:42.178 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:05:42.179 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/doctor - 401 0 null 10.5804ms
2025-07-31 22:05:46.359 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 65
2025-07-31 22:05:46.360 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:05:46.360 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 22:05:46.373 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 22:05:47.297 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 22:05:47.298 +05:30 [INF] Role: Admin
2025-07-31 22:05:47.298 +05:30 [INF] Role: Admin
2025-07-31 22:05:47.299 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 22:05:47.305 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 22:05:47.307 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 22:05:47.307 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 946.5419ms
2025-07-31 22:05:47.307 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:05:47.308 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 947.9368 ms
2025-07-31 22:05:47.308 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 948.7068ms
2025-07-31 22:05:59.266 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/doctor - application/json 392
2025-07-31 22:05:59.266 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Post (HealthcareApi)'
2025-07-31 22:05:59.267 +05:30 [INF] Route matched with {action = "Post", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Doctor) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:05:59.268 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 22:05:59.268 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Post (HealthcareApi) in 1.1079ms
2025-07-31 22:05:59.268 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Post (HealthcareApi)'
2025-07-31 22:05:59.268 +05:30 [INF] HTTP POST /api/doctor responded 400 in 2.0674 ms
2025-07-31 22:05:59.268 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/doctor - 400 242 application/problem+json; charset=utf-8 2.8003ms
2025-07-31 22:06:16.122 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/doctor - application/json 409
2025-07-31 22:06:16.123 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Post (HealthcareApi)'
2025-07-31 22:06:16.123 +05:30 [INF] Route matched with {action = "Post", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Doctor) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:06:16.125 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 22:06:16.125 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Post (HealthcareApi) in 2.1123ms
2025-07-31 22:06:16.126 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Post (HealthcareApi)'
2025-07-31 22:06:16.126 +05:30 [INF] HTTP POST /api/doctor responded 400 in 3.0154 ms
2025-07-31 22:06:16.126 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/doctor - 400 242 application/problem+json; charset=utf-8 3.6481ms
2025-07-31 22:07:29.813 +05:30 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 22:07:30.783 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:07:32.359 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:07:32.944 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-31 22:07:33.056 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-31 22:07:33.059 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-31 22:07:33.060 +05:30 [INF] Hosting environment: Development
2025-07-31 22:07:33.061 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-31 22:07:37.382 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 65
2025-07-31 22:07:37.410 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-31 22:07:37.453 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:07:37.472 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 22:07:37.611 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 22:07:38.467 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 22:07:38.468 +05:30 [INF] Role: Admin
2025-07-31 22:07:38.469 +05:30 [INF] Role: Admin
2025-07-31 22:07:38.470 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 22:07:38.538 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 22:07:38.566 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 22:07:38.592 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1117.0555ms
2025-07-31 22:07:38.594 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:07:38.596 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1148.5420 ms
2025-07-31 22:07:38.603 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 1221.7509ms
2025-07-31 22:07:48.043 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/doctor - application/json 392
2025-07-31 22:07:48.108 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Post (HealthcareApi)'
2025-07-31 22:07:48.115 +05:30 [INF] Route matched with {action = "Post", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Doctor) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:07:48.140 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-31 22:07:48.175 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Post (HealthcareApi) in 59.3551ms
2025-07-31 22:07:48.175 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Post (HealthcareApi)'
2025-07-31 22:07:48.176 +05:30 [INF] HTTP POST /api/doctor responded 400 in 68.9743 ms
2025-07-31 22:07:48.177 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/doctor - 400 242 application/problem+json; charset=utf-8 133.6701ms
2025-07-31 22:09:54.719 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 22:09:55.689 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:09:57.378 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:09:57.885 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-31 22:09:57.987 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-31 22:09:57.989 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-31 22:09:57.990 +05:30 [INF] Hosting environment: Development
2025-07-31 22:09:57.990 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-31 22:10:00.925 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 65
2025-07-31 22:10:00.949 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-31 22:10:00.980 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:10:01.005 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 22:10:01.144 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 22:10:02.248 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 22:10:02.249 +05:30 [INF] Role: Admin
2025-07-31 22:10:02.251 +05:30 [INF] Role: Admin
2025-07-31 22:10:02.252 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 22:10:02.379 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 22:10:02.436 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 22:10:02.509 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1498.1561ms
2025-07-31 22:10:02.511 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:10:02.516 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1537.5612 ms
2025-07-31 22:10:02.528 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 1604.4525ms
2025-07-31 22:10:16.086 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:10:16.091 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:10:16.094 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 7.5304ms
2025-07-31 22:10:16.101 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:10:16.107 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:10:16.144 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:10:16.162 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:10:16.183 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:10:16.379 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 22:10:16.387 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 22:10:16.388 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 22:10:16.451 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 22:10:16.454 +05:30 [INF] Found 1 users among search
2025-07-31 22:10:16.456 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:10:16.478 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 316.1761ms
2025-07-31 22:10:16.479 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:10:16.480 +05:30 [INF] HTTP GET /api/user/search responded 200 in 337.0660 ms
2025-07-31 22:10:16.481 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 380.7261ms
2025-07-31 22:10:34.686 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:10:34.686 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:10:34.687 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.0169ms
2025-07-31 22:10:34.690 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:10:34.691 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:10:34.695 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:10:34.695 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:10:34.698 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:10:34.703 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 22:10:34.734 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 22:10:34.735 +05:30 [INF] Found 1 users among search
2025-07-31 22:10:34.736 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:10:34.737 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 41.3896ms
2025-07-31 22:10:34.739 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:10:34.739 +05:30 [INF] HTTP GET /api/user/search responded 200 in 45.2289 ms
2025-07-31 22:10:34.740 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 50.0327ms
2025-07-31 22:11:08.709 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:11:08.710 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:11:08.711 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 204 null null 1.2238ms
2025-07-31 22:11:08.713 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - null null
2025-07-31 22:11:08.713 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:11:08.715 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:11:08.715 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:11:08.722 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":["Admin"],"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:11:08.759 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
2025-07-31 22:11:08.796 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 22:11:08.797 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:11:08.798 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.0724ms
2025-07-31 22:11:08.799 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/doctor - application/json 430
2025-07-31 22:11:08.800 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:11:08.806 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Role_1='?' (Size = 4000), @__param_Email_2='?' (Size = 4000), @__p_3='?' (DbType = Int32), @__p_4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Role] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Role_1) WITH ([value] nvarchar(20) '$') AS [p0]
) AND [u].[Email] IN (
    SELECT [p1].[value]
    FROM OPENJSON(@__param_Email_2) WITH ([value] nvarchar(100) '$') AS [p1]
)
ORDER BY (SELECT 1)
OFFSET @__p_3 ROWS FETCH NEXT @__p_4 ROWS ONLY
2025-07-31 22:11:08.807 +05:30 [INF] Found 1 users among search
2025-07-31 22:11:08.807 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:11:08.808 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 92.0996ms
2025-07-31 22:11:08.808 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:11:08.809 +05:30 [INF] HTTP GET /api/user/search responded 200 in 94.2260 ms
2025-07-31 22:11:08.809 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com&role=Admin - 200 509 application/json; charset=utf-8 96.3516ms
2025-07-31 22:11:08.809 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Post (HealthcareApi)'
2025-07-31 22:11:08.815 +05:30 [INF] Route matched with {action = "Post", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Doctor) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:11:08.895 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 20), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (Size = 50), @p5='?' (Size = 50), @p6='?' (DbType = DateTime2), @p7='?' (Size = 255), @p8='?' (Size = 100), @p9='?' (DbType = Int32), @p10='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Doctors] ([DoctorID], [ContactNumber], [CreatedAt], [Email], [FirstName], [LastName], [ModifiedAt], [Schedule], [Specialization], [UserID], [isActive])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-07-31 22:11:09.045 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'HealthcareApi.Models.Doctor'.
2025-07-31 22:11:09.078 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Post (HealthcareApi) in 262.2913ms
2025-07-31 22:11:09.079 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Post (HealthcareApi)'
2025-07-31 22:11:09.079 +05:30 [INF] HTTP POST /api/doctor responded 201 in 270.3945 ms
2025-07-31 22:11:09.080 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/doctor - 201 339 application/json; charset=utf-8 280.8382ms
2025-07-31 22:11:09.092 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:11:09.092 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:11:09.093 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.3275ms
2025-07-31 22:11:09.096 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:11:09.098 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:11:09.101 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:11:09.108 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:11:09.122 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:11:09.123 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 22:11:09.124 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 22:11:09.135 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:11:09.136 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:11:09.139 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 31.1528ms
2025-07-31 22:11:09.140 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:11:09.140 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 38.7923 ms
2025-07-31 22:11:09.140 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 44.6979ms
2025-07-31 22:11:55.616 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Samuel&lastName=Wilson&specialization=General%20Medicine&contactNumber=1234567890&email=dr.samuel@healthcare.com&schedule=Mon-Sat%209:00%20AM%20-%206:00%20PM - null null
2025-07-31 22:11:55.617 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:11:55.617 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Samuel&lastName=Wilson&specialization=General%20Medicine&contactNumber=1234567890&email=dr.samuel@healthcare.com&schedule=Mon-Sat%209:00%20AM%20-%206:00%20PM - 204 null null 1.2239ms
2025-07-31 22:11:55.619 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Samuel&lastName=Wilson&specialization=General%20Medicine&contactNumber=1234567890&email=dr.samuel@healthcare.com&schedule=Mon-Sat%209:00%20AM%20-%206:00%20PM - null null
2025-07-31 22:11:55.620 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:11:55.622 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 22:11:55.625 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:11:55.641 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
2025-07-31 22:11:55.643 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 22:11:55.644 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 22:11:55.655 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__qp_Email_0='?' (Size = 4000), @__qp_Specialization_1='?' (Size = 100), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[Email] IN (
    SELECT [q].[value]
    FROM OPENJSON(@__qp_Email_0) WITH ([value] nvarchar(100) '$') AS [q]
) AND @__qp_Specialization_1 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 22:11:55.656 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:11:55.657 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 31.6965ms
2025-07-31 22:11:55.657 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-31 22:11:55.658 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 36.1816 ms
2025-07-31 22:11:55.658 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?pageNumber=1&pageSize=10&firstName=Dr.%20Samuel&lastName=Wilson&specialization=General%20Medicine&contactNumber=1234567890&email=dr.samuel@healthcare.com&schedule=Mon-Sat%209:00%20AM%20-%206:00%20PM - 200 407 application/json; charset=utf-8 39.1112ms
2025-07-31 22:11:55.661 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/271962 - null null
2025-07-31 22:11:55.661 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:11:55.661 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/271962 - 204 null null 0.6724ms
2025-07-31 22:11:55.662 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5122/api/doctor/271962 - null null
2025-07-31 22:11:55.663 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:11:55.664 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Delete (HealthcareApi)'
2025-07-31 22:11:55.667 +05:30 [INF] Route matched with {action = "Delete", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:11:55.680 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND [d].[DoctorID] = @__id_0
2025-07-31 22:11:55.689 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Size = 20), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (DbType = DateTime2), @p6='?' (Size = 255), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Doctors] SET [ContactNumber] = @p0, [CreatedAt] = @p1, [Email] = @p2, [FirstName] = @p3, [LastName] = @p4, [ModifiedAt] = @p5, [Schedule] = @p6, [Specialization] = @p7, [UserID] = @p8, [isActive] = @p9
OUTPUT 1
WHERE [DoctorID] = @p10;
2025-07-31 22:11:55.757 +05:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-31 22:11:55.758 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Delete (HealthcareApi) in 89.7659ms
2025-07-31 22:11:55.758 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Delete (HealthcareApi)'
2025-07-31 22:11:55.758 +05:30 [INF] HTTP DELETE /api/doctor/271962 responded 204 in 93.9638 ms
2025-07-31 22:11:55.758 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5122/api/doctor/271962 - 204 null null 96.116ms
2025-07-31 22:11:55.767 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:11:55.768 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:11:55.768 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.5339ms
2025-07-31 22:11:55.769 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:11:55.770 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:11:55.771 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:11:55.771 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:11:55.773 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:11:55.775 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:11:55.776 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:11:55.776 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 5.0373ms
2025-07-31 22:11:55.777 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:11:55.777 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 5.9482 ms
2025-07-31 22:11:55.777 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1653 application/json; charset=utf-8 7.6063ms
2025-07-31 22:13:24.468 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:13:24.469 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:13:24.470 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.215ms
2025-07-31 22:13:24.471 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:13:24.472 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:13:24.472 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:13:24.473 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:13:24.478 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:13:24.483 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:13:24.484 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:13:24.485 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 11.3012ms
2025-07-31 22:13:24.485 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:13:24.485 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 12.9243 ms
2025-07-31 22:13:24.486 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 14.4481ms
2025-07-31 22:13:37.923 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=5 - null null
2025-07-31 22:13:37.924 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:13:37.925 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=5 - 204 null null 1.5665ms
2025-07-31 22:13:37.931 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=5 - null null
2025-07-31 22:13:37.931 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:13:37.932 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:13:37.932 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:13:37.934 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:13:37.936 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:13:37.936 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:13:37.937 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 4.6473ms
2025-07-31 22:13:37.937 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:13:37.937 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 5.5554 ms
2025-07-31 22:13:37.937 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=5 - 200 1652 application/json; charset=utf-8 6.7947ms
2025-07-31 22:13:40.111 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:13:40.112 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:13:40.113 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.489ms
2025-07-31 22:13:40.114 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:13:40.115 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:13:40.116 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:13:40.116 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:13:40.118 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:13:40.120 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:13:40.120 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:13:40.121 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 4.6413ms
2025-07-31 22:13:40.121 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-31 22:13:40.121 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 6.0077 ms
2025-07-31 22:13:40.122 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?pageNumber=1&pageSize=10 - 200 1991 application/json; charset=utf-8 7.4108ms
2025-07-31 22:13:44.607 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:13:44.607 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:13:44.608 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.0809ms
2025-07-31 22:13:44.611 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:13:44.613 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:13:44.614 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 22:13:44.617 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Patient"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]] SearchLucene(System.String, System.String, System.String, Int32, Int32) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 22:13:44.620 +05:30 [INF] Lucene search for query 'null' with sort 'null' order 'null'
2025-07-31 22:13:44.691 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:13:44.697 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi) in 79.5769ms
2025-07-31 22:13:44.698 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.SearchLucene (HealthcareApi)'
2025-07-31 22:13:44.698 +05:30 [INF] HTTP GET /api/patient/search-lucene responded 200 in 83.7232 ms
2025-07-31 22:13:44.698 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 200 3818 application/json; charset=utf-8 86.7327ms
2025-07-31 22:13:50.157 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:13:50.157 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:13:50.158 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.2334ms
2025-07-31 22:13:50.160 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:13:50.160 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:13:50.162 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:13:50.167 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:13:50.192 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:13:50.198 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 22:13:50.199 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 22:13:50.222 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:13:50.223 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:13:50.227 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 59.2305ms
2025-07-31 22:13:50.227 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:13:50.228 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 66.4217 ms
2025-07-31 22:13:50.228 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 68.4232ms
2025-07-31 22:13:52.906 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 22:13:52.907 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:13:52.907 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.9249ms
2025-07-31 22:13:52.909 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 22:13:52.909 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:13:52.910 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:13:52.914 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 22:13:52.917 +05:30 [INF] Fetching all patients
2025-07-31 22:13:52.922 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 22:13:52.923 +05:30 [INF] Returned 10 patients
2025-07-31 22:13:52.924 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:13:52.925 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 9.9021ms
2025-07-31 22:13:52.925 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:13:52.925 +05:30 [INF] HTTP GET /api/patient responded 200 in 15.3962 ms
2025-07-31 22:13:52.926 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 16.7729ms
2025-07-31 22:13:52.936 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 22:13:52.937 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:13:52.938 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.1297ms
2025-07-31 22:13:52.940 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 22:13:52.951 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:13:52.952 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:13:52.957 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:13:52.961 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:13:52.963 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:13:52.965 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:13:52.965 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.3793ms
2025-07-31 22:13:52.966 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:13:52.966 +05:30 [INF] HTTP GET /api/doctor responded 200 in 13.9278 ms
2025-07-31 22:13:52.966 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 26.6777ms
2025-07-31 22:14:05.151 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 22:14:05.151 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:14:05.152 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.8163ms
2025-07-31 22:14:05.153 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 22:14:05.157 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:14:05.158 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:14:05.160 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 22:14:05.165 +05:30 [INF] Fetching all patients
2025-07-31 22:14:05.174 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 22:14:05.175 +05:30 [INF] Returned 10 patients
2025-07-31 22:14:05.178 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:14:05.179 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 18.7581ms
2025-07-31 22:14:05.182 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:14:05.186 +05:30 [INF] HTTP GET /api/patient responded 200 in 28.6871 ms
2025-07-31 22:14:05.187 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 33.8464ms
2025-07-31 22:14:05.203 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 22:14:05.204 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:14:05.205 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.8045ms
2025-07-31 22:14:05.212 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 22:14:05.214 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:14:05.216 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:14:05.220 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:14:05.228 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:14:05.232 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:14:05.233 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:14:05.233 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 12.5473ms
2025-07-31 22:14:05.234 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:14:05.234 +05:30 [INF] HTTP GET /api/doctor responded 200 in 18.2798 ms
2025-07-31 22:14:05.234 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 22.3606ms
2025-07-31 22:14:54.561 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - null null
2025-07-31 22:14:54.561 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:14:54.562 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - 204 null null 0.9315ms
2025-07-31 22:14:54.564 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 282
2025-07-31 22:14:54.565 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:14:54.567 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-31 22:14:54.571 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:14:54.638 +05:30 [ERR] Failed executing DbCommand (27ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 1000) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppointmentID], [AppointmentDate], [CreatedAt], [DoctorID], [ModifiedAt], [Notes], [PatientID], [Reason], [Status], [isActive])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-31 22:14:54.705 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'HealthcareApi.Models.AssignmentDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7355b89c-f766-47f9-8768-8f5c6d955741
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7355b89c-f766-47f9-8768-8f5c6d955741
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-31 22:14:54.713 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 141.1784ms
2025-07-31 22:14:54.713 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-31 22:14:54.715 +05:30 [ERR] Unhandled exception occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7355b89c-f766-47f9-8768-8f5c6d955741
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HealthcareApi.Repositories.AppointmentRepository.AddAsync(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Repositories\AppointmentRepository.cs:line 22
   at HealthcareApi.Services.AppointmentService.AddAppointment(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\AppointmentService.cs:line 29
   at HealthcareApi.Controllers.AppointmentController.Post(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\AppointmentController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-07-31 22:14:54.838 +05:30 [ERR] HTTP POST /api/appointment responded 500 in 272.0637 ms
2025-07-31 22:14:54.839 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 500 null application/json 275.3746ms
2025-07-31 22:16:44.459 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:16:44.459 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:16:44.459 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6759ms
2025-07-31 22:16:44.461 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:16:44.462 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:16:44.463 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 22:16:44.465 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:16:44.465 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.9362ms
2025-07-31 22:18:00.139 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:18:00.139 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:00.140 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1403ms
2025-07-31 22:18:00.142 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:18:00.142 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:00.143 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 22:18:00.143 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:18:00.144 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.6604ms
2025-07-31 22:18:48.295 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 22:18:48.296 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:48.297 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 22:18:48.298 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:18:48.299 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 3.6744ms
2025-07-31 22:18:49.159 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 22:18:49.160 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:49.160 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6839ms
2025-07-31 22:18:49.161 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 22:18:49.162 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:49.162 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:18:49.163 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 22:18:49.172 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 22:18:49.756 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 22:18:49.756 +05:30 [INF] Role: Admin
2025-07-31 22:18:49.756 +05:30 [INF] Role: Admin
2025-07-31 22:18:49.756 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 22:18:49.763 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 22:18:49.763 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 22:18:49.764 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 600.7843ms
2025-07-31 22:18:49.764 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:18:49.764 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 601.9740 ms
2025-07-31 22:18:49.764 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 602.9803ms
2025-07-31 22:18:49.767 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:18:49.768 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:49.768 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.4792ms
2025-07-31 22:18:49.769 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:18:49.770 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:49.770 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:18:49.770 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:18:49.771 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:18:49.777 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 22:18:49.779 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 22:18:49.780 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 22:18:49.789 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 22:18:49.790 +05:30 [INF] Found 1 users among search
2025-07-31 22:18:49.790 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:18:49.792 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 20.8749ms
2025-07-31 22:18:49.792 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:18:49.793 +05:30 [INF] HTTP GET /api/user/search responded 200 in 22.6127 ms
2025-07-31 22:18:49.793 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 23.6276ms
2025-07-31 22:18:49.799 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:18:49.799 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:49.800 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.7097ms
2025-07-31 22:18:49.802 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:18:49.803 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:49.804 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:18:49.804 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:18:49.807 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:18:49.814 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 22:18:49.815 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 22:18:49.815 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 22:18:49.820 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 22:18:49.820 +05:30 [INF] Found 1 users among search
2025-07-31 22:18:49.820 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:18:49.821 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 16.5498ms
2025-07-31 22:18:49.821 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:18:49.821 +05:30 [INF] HTTP GET /api/user/search responded 200 in 17.5934 ms
2025-07-31 22:18:49.821 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 18.8292ms
2025-07-31 22:18:51.267 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:18:51.267 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:51.267 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6104ms
2025-07-31 22:18:51.271 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:18:51.271 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:51.272 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:18:51.272 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:18:51.278 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:18:51.290 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:18:51.290 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:18:51.290 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 17.8204ms
2025-07-31 22:18:51.291 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:18:51.291 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 18.6888 ms
2025-07-31 22:18:51.291 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 19.8095ms
2025-07-31 22:18:55.827 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 22:18:55.828 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:55.828 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5651ms
2025-07-31 22:18:55.829 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 22:18:55.830 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:55.831 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:18:55.831 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 22:18:55.832 +05:30 [INF] Fetching all patients
2025-07-31 22:18:55.836 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 22:18:55.836 +05:30 [INF] Returned 10 patients
2025-07-31 22:18:55.837 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:18:55.837 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 6.0775ms
2025-07-31 22:18:55.838 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:18:55.838 +05:30 [INF] HTTP GET /api/patient responded 200 in 7.3774 ms
2025-07-31 22:18:55.838 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.6358ms
2025-07-31 22:18:55.851 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 22:18:55.851 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:55.852 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.5514ms
2025-07-31 22:18:55.855 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 22:18:55.855 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:55.856 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:18:55.856 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:18:55.859 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:18:55.862 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:18:55.863 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:18:55.863 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 6.6189ms
2025-07-31 22:18:55.863 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:18:55.863 +05:30 [INF] HTTP GET /api/doctor responded 200 in 7.6629 ms
2025-07-31 22:18:55.863 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 8.8319ms
2025-07-31 22:18:59.587 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 22:18:59.587 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:59.588 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:18:59.589 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 22:18:59.589 +05:30 [INF] Fetching all patients
2025-07-31 22:18:59.591 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 22:18:59.593 +05:30 [INF] Returned 10 patients
2025-07-31 22:18:59.593 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:18:59.594 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.3027ms
2025-07-31 22:18:59.594 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:18:59.595 +05:30 [INF] HTTP GET /api/patient responded 200 in 7.0292 ms
2025-07-31 22:18:59.595 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.2115ms
2025-07-31 22:18:59.610 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 22:18:59.611 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:18:59.612 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:18:59.613 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:18:59.615 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:18:59.617 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:18:59.617 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:18:59.618 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 5.0896ms
2025-07-31 22:18:59.619 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:18:59.619 +05:30 [INF] HTTP GET /api/doctor responded 200 in 7.2326 ms
2025-07-31 22:18:59.620 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 10.3107ms
2025-07-31 22:21:30.187 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:21:30.188 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:21:30.189 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.994ms
2025-07-31 22:21:30.197 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:21:30.197 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:21:30.199 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 22:21:30.199 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:21:30.200 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.6543ms
2025-07-31 22:24:02.281 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:24:02.281 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:24:02.282 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6609ms
2025-07-31 22:24:02.285 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:24:02.285 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:24:02.285 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 22:24:02.286 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:24:02.286 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.5561ms
2025-07-31 22:24:16.038 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:24:16.039 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:24:16.039 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8035ms
2025-07-31 22:24:16.041 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:24:16.041 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:24:16.041 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 22:24:16.041 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:24:16.042 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 0.85ms
2025-07-31 22:25:50.980 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 22:25:50.980 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:25:50.981 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 22:25:50.981 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:25:50.982 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 2.0572ms
2025-07-31 22:25:51.813 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 22:25:51.813 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:25:51.813 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.3948ms
2025-07-31 22:25:51.815 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 22:25:51.815 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:25:51.815 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:25:51.816 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 22:25:51.840 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 22:25:52.408 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 22:25:52.409 +05:30 [INF] Role: Admin
2025-07-31 22:25:52.409 +05:30 [INF] Role: Admin
2025-07-31 22:25:52.409 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 22:25:52.417 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 22:25:52.418 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 22:25:52.419 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 602.8519ms
2025-07-31 22:25:52.419 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:25:52.419 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 604.1396 ms
2025-07-31 22:25:52.419 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 604.8955ms
2025-07-31 22:25:52.434 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:25:52.435 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:25:52.435 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.9709ms
2025-07-31 22:25:52.485 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:25:52.486 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:25:52.487 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:25:52.487 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:25:52.488 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:25:52.490 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 22:25:52.492 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 22:25:52.493 +05:30 [INF] Found 1 users among search
2025-07-31 22:25:52.493 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:25:52.493 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.3743ms
2025-07-31 22:25:52.493 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:25:52.493 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.9961 ms
2025-07-31 22:25:52.494 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 508 application/json; charset=utf-8 8.288ms
2025-07-31 22:25:52.501 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:25:52.506 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:25:52.506 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 5.4126ms
2025-07-31 22:25:52.510 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:25:52.511 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:25:52.511 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:25:52.511 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:25:52.512 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:25:52.514 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 22:25:52.515 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 22:25:52.516 +05:30 [INF] Found 1 users among search
2025-07-31 22:25:52.516 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:25:52.516 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.7458ms
2025-07-31 22:25:52.516 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:25:52.517 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.7440 ms
2025-07-31 22:25:52.517 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 508 application/json; charset=utf-8 6.5411ms
2025-07-31 22:25:54.007 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:25:54.007 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:25:54.007 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6483ms
2025-07-31 22:25:54.009 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:25:54.009 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:25:54.010 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:25:54.011 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:25:54.024 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:25:54.033 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:25:54.033 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:25:54.034 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 22.8742ms
2025-07-31 22:25:54.034 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:25:54.034 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 24.2315 ms
2025-07-31 22:25:54.034 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 25.4922ms
2025-07-31 22:25:58.028 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 22:25:58.029 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:25:58.029 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.8ms
2025-07-31 22:25:58.035 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 22:25:58.035 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:25:58.036 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:25:58.037 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:25:58.039 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:25:58.041 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 22:25:58.042 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-31 22:25:58.055 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:25:58.056 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:25:58.056 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 19.1246ms
2025-07-31 22:25:58.056 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:25:58.057 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 21.0363 ms
2025-07-31 22:25:58.057 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 22.1199ms
2025-07-31 22:26:00.198 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-07-31 22:26:00.198 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:00.199 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.5954ms
2025-07-31 22:26:00.200 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-07-31 22:26:00.201 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:00.202 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:26:00.203 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:26:00.206 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:26:00.209 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:26:00.209 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:26:00.210 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 6.4699ms
2025-07-31 22:26:00.211 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:26:00.211 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 9.0270 ms
2025-07-31 22:26:00.212 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 431 application/json; charset=utf-8 11.7766ms
2025-07-31 22:26:01.428 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 22:26:01.428 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:01.429 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:26:01.430 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:26:01.433 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:26:01.436 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:26:01.437 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:26:01.439 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 9.3749ms
2025-07-31 22:26:01.440 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:26:01.440 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 11.1310 ms
2025-07-31 22:26:01.440 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 12.7211ms
2025-07-31 22:26:05.350 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:26:05.350 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:05.351 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.0608ms
2025-07-31 22:26:05.354 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:26:05.354 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:05.356 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:26:05.357 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:26:05.359 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:26:05.361 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:26:05.362 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:26:05.363 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 5.2487ms
2025-07-31 22:26:05.363 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:26:05.363 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 6.8960 ms
2025-07-31 22:26:05.364 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 9.7485ms
2025-07-31 22:26:08.040 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 22:26:08.040 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:08.041 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.7183ms
2025-07-31 22:26:08.043 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 22:26:08.043 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:08.044 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:26:08.044 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:26:08.046 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:26:08.048 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:26:08.048 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:26:08.049 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.416ms
2025-07-31 22:26:08.049 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:26:08.049 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 5.6485 ms
2025-07-31 22:26:08.050 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 6.956ms
2025-07-31 22:26:08.580 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-07-31 22:26:08.581 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:08.581 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 0.8243ms
2025-07-31 22:26:08.584 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-07-31 22:26:08.584 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:08.586 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:26:08.586 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:26:08.589 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:26:08.591 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:26:08.591 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:26:08.592 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 5.5892ms
2025-07-31 22:26:08.592 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:26:08.593 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 7.3916 ms
2025-07-31 22:26:08.593 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 431 application/json; charset=utf-8 9.6418ms
2025-07-31 22:26:09.728 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 22:26:09.728 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:09.729 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:26:09.730 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:26:09.733 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:26:09.735 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:26:09.736 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:26:09.736 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 6.2177ms
2025-07-31 22:26:09.737 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:26:09.737 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 7.9514 ms
2025-07-31 22:26:09.737 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 9.789ms
2025-07-31 22:26:10.504 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:26:10.505 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:10.505 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.9091ms
2025-07-31 22:26:10.508 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:26:10.508 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:10.509 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:26:10.509 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:26:10.525 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:26:10.536 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:26:10.537 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:26:10.537 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 27.3569ms
2025-07-31 22:26:10.537 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:26:10.537 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 28.4862 ms
2025-07-31 22:26:10.538 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 29.7619ms
2025-07-31 22:26:16.395 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 22:26:16.395 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:16.395 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5146ms
2025-07-31 22:26:16.397 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 22:26:16.397 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:16.398 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:26:16.398 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 22:26:16.398 +05:30 [INF] Fetching all patients
2025-07-31 22:26:16.412 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 22:26:16.413 +05:30 [INF] Returned 10 patients
2025-07-31 22:26:16.413 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:26:16.414 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 15.5839ms
2025-07-31 22:26:16.414 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:26:16.414 +05:30 [INF] HTTP GET /api/patient responded 200 in 16.6117 ms
2025-07-31 22:26:16.415 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 17.801ms
2025-07-31 22:26:16.419 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 22:26:16.419 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:16.419 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6365ms
2025-07-31 22:26:16.421 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 22:26:16.422 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:26:16.422 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:26:16.423 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:26:16.427 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:26:16.430 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:26:16.431 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:26:16.431 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.306ms
2025-07-31 22:26:16.431 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:26:16.432 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.3474 ms
2025-07-31 22:26:16.432 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 10.4853ms
2025-07-31 22:27:22.820 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - null null
2025-07-31 22:27:22.821 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:22.821 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - 204 null null 0.891ms
2025-07-31 22:27:22.823 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 282
2025-07-31 22:27:22.823 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:22.824 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-31 22:27:22.825 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:27:22.845 +05:30 [ERR] Failed executing DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 1000) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppointmentID], [AppointmentDate], [CreatedAt], [DoctorID], [ModifiedAt], [Notes], [PatientID], [Reason], [Status], [isActive])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-31 22:27:22.848 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'HealthcareApi.Models.AssignmentDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f7d86381-8009-493f-89eb-ac71a1983d42
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f7d86381-8009-493f-89eb-ac71a1983d42
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-31 22:27:22.852 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 26.8957ms
2025-07-31 22:27:22.852 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-31 22:27:22.852 +05:30 [ERR] Unhandled exception occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f7d86381-8009-493f-89eb-ac71a1983d42
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HealthcareApi.Repositories.AppointmentRepository.AddAsync(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Repositories\AppointmentRepository.cs:line 22
   at HealthcareApi.Services.AppointmentService.AddAppointment(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\AppointmentService.cs:line 29
   at HealthcareApi.Controllers.AppointmentController.Post(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\AppointmentController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-07-31 22:27:22.861 +05:30 [ERR] HTTP POST /api/appointment responded 500 in 36.8518 ms
2025-07-31 22:27:22.862 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 500 null application/json 39.2904ms
2025-07-31 22:27:28.242 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:27:28.242 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:28.243 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.2889ms
2025-07-31 22:27:28.256 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:27:28.257 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:28.257 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 22:27:28.258 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:27:28.258 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.1032ms
2025-07-31 22:27:29.123 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 22:27:29.124 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:29.124 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 22:27:29.125 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:27:29.125 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.868ms
2025-07-31 22:27:29.997 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 22:27:29.998 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:29.999 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.5761ms
2025-07-31 22:27:30.001 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 22:27:30.001 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:30.001 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:27:30.002 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 22:27:30.015 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 22:27:30.921 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 22:27:30.921 +05:30 [INF] Role: Admin
2025-07-31 22:27:30.922 +05:30 [INF] Role: Admin
2025-07-31 22:27:30.922 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 22:27:30.930 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 22:27:30.931 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 22:27:30.931 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 929.1327ms
2025-07-31 22:27:30.932 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:27:30.932 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 930.4089 ms
2025-07-31 22:27:30.932 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 931.232ms
2025-07-31 22:27:30.938 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:27:30.938 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:30.939 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7954ms
2025-07-31 22:27:30.942 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:27:30.943 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:30.943 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:27:30.944 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:27:30.946 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:27:30.954 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 22:27:30.957 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 22:27:30.958 +05:30 [INF] Found 1 users among search
2025-07-31 22:27:30.959 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:27:30.959 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 13.8391ms
2025-07-31 22:27:30.960 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:27:30.960 +05:30 [INF] HTTP GET /api/user/search responded 200 in 16.8261 ms
2025-07-31 22:27:30.962 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 19.5267ms
2025-07-31 22:27:30.981 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:27:30.982 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:30.982 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.9343ms
2025-07-31 22:27:30.991 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:27:30.991 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:30.992 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:27:30.993 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:27:30.995 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:27:30.998 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 22:27:31.001 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 22:27:31.002 +05:30 [INF] Found 1 users among search
2025-07-31 22:27:31.003 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:27:31.003 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 10.0044ms
2025-07-31 22:27:31.004 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:27:31.004 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.5290 ms
2025-07-31 22:27:31.004 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 13.453ms
2025-07-31 22:27:48.193 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:27:48.193 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:48.194 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.9115ms
2025-07-31 22:27:48.197 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:27:48.197 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:48.198 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:27:48.199 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:27:48.203 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:27:48.212 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:27:48.213 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:27:48.213 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 14.4887ms
2025-07-31 22:27:48.214 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:27:48.214 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 15.8321 ms
2025-07-31 22:27:48.214 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 17.5601ms
2025-07-31 22:27:48.901 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 22:27:48.901 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:48.901 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5858ms
2025-07-31 22:27:48.903 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 22:27:48.903 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:48.904 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:27:48.904 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 22:27:48.905 +05:30 [INF] Fetching all patients
2025-07-31 22:27:48.908 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 22:27:48.909 +05:30 [INF] Returned 10 patients
2025-07-31 22:27:48.909 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:27:48.910 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.3558ms
2025-07-31 22:27:48.910 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:27:48.911 +05:30 [INF] HTTP GET /api/patient responded 200 in 7.0633 ms
2025-07-31 22:27:48.911 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.7633ms
2025-07-31 22:27:48.941 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 22:27:48.941 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:48.942 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7915ms
2025-07-31 22:27:48.944 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 22:27:48.944 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:27:48.945 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:27:48.945 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:27:48.948 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:27:48.954 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:27:48.955 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:27:48.955 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 9.4206ms
2025-07-31 22:27:48.955 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:27:48.956 +05:30 [INF] HTTP GET /api/doctor responded 200 in 10.9004 ms
2025-07-31 22:27:48.956 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 12.1481ms
2025-07-31 22:28:13.679 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - null null
2025-07-31 22:28:13.679 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:28:13.680 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - 204 null null 0.6338ms
2025-07-31 22:28:13.683 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 282
2025-07-31 22:28:13.683 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:28:13.684 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-31 22:28:13.684 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:28:13.687 +05:30 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 1000) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppointmentID], [AppointmentDate], [CreatedAt], [DoctorID], [ModifiedAt], [Notes], [PatientID], [Reason], [Status], [isActive])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-31 22:28:13.689 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'HealthcareApi.Models.AssignmentDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f7d86381-8009-493f-89eb-ac71a1983d42
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f7d86381-8009-493f-89eb-ac71a1983d42
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-31 22:28:13.693 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 8.2626ms
2025-07-31 22:28:13.693 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-31 22:28:13.693 +05:30 [ERR] Unhandled exception occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f7d86381-8009-493f-89eb-ac71a1983d42
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HealthcareApi.Repositories.AppointmentRepository.AddAsync(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Repositories\AppointmentRepository.cs:line 22
   at HealthcareApi.Services.AppointmentService.AddAppointment(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\AppointmentService.cs:line 29
   at HealthcareApi.Controllers.AppointmentController.Post(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\AppointmentController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-07-31 22:28:13.700 +05:30 [ERR] HTTP POST /api/appointment responded 500 in 16.2899 ms
2025-07-31 22:28:13.700 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 500 null application/json 17.9571ms
2025-07-31 22:28:32.180 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 253
2025-07-31 22:28:32.181 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-31 22:28:32.181 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:28:32.193 +05:30 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 1000) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppointmentID], [AppointmentDate], [CreatedAt], [DoctorID], [ModifiedAt], [Notes], [PatientID], [Reason], [Status], [isActive])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-31 22:28:32.194 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'HealthcareApi.Models.AssignmentDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f7d86381-8009-493f-89eb-ac71a1983d42
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f7d86381-8009-493f-89eb-ac71a1983d42
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-31 22:28:32.198 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 16.4886ms
2025-07-31 22:28:32.199 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-31 22:28:32.199 +05:30 [ERR] Unhandled exception occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f7d86381-8009-493f-89eb-ac71a1983d42
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HealthcareApi.Repositories.AppointmentRepository.AddAsync(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Repositories\AppointmentRepository.cs:line 22
   at HealthcareApi.Services.AppointmentService.AddAppointment(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\AppointmentService.cs:line 29
   at HealthcareApi.Controllers.AppointmentController.Post(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\AppointmentController.cs:line 36
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-07-31 22:28:32.203 +05:30 [ERR] HTTP POST /api/appointment responded 500 in 22.0676 ms
2025-07-31 22:28:32.204 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 500 null application/json 23.1274ms
2025-07-31 22:31:02.768 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:31:02.769 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:31:02.769 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.3973ms
2025-07-31 22:31:02.772 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:31:02.773 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:31:02.773 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 22:31:02.774 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:31:02.774 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.4062ms
2025-07-31 22:32:00.692 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:32:00.693 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:00.693 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8892ms
2025-07-31 22:32:00.696 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:32:00.697 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:00.698 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 22:32:00.698 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:32:00.698 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.8942ms
2025-07-31 22:32:01.661 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 22:32:01.662 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:01.663 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 22:32:01.663 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:32:01.666 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 4.5273ms
2025-07-31 22:32:02.669 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 22:32:02.669 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:02.670 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7623ms
2025-07-31 22:32:02.671 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 22:32:02.671 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:02.672 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:32:02.672 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 22:32:02.695 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 22:32:03.315 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 22:32:03.315 +05:30 [INF] Role: Admin
2025-07-31 22:32:03.315 +05:30 [INF] Role: Admin
2025-07-31 22:32:03.316 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 22:32:03.319 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 22:32:03.320 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 22:32:03.320 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 648.4123ms
2025-07-31 22:32:03.321 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:32:03.321 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 649.2507 ms
2025-07-31 22:32:03.321 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 649.9807ms
2025-07-31 22:32:03.327 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:32:03.327 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:03.327 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7374ms
2025-07-31 22:32:03.330 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:32:03.332 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:03.333 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:32:03.333 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:32:03.335 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:32:03.339 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 22:32:03.345 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 22:32:03.348 +05:30 [INF] Found 1 users among search
2025-07-31 22:32:03.349 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:32:03.350 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 16.4423ms
2025-07-31 22:32:03.351 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:32:03.353 +05:30 [INF] HTTP GET /api/user/search responded 200 in 20.1287 ms
2025-07-31 22:32:03.354 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 24.1951ms
2025-07-31 22:32:03.383 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:32:03.383 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:03.383 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.798ms
2025-07-31 22:32:03.388 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:32:03.388 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:03.389 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:32:03.389 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:32:03.391 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:32:03.393 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 22:32:03.396 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 22:32:03.397 +05:30 [INF] Found 1 users among search
2025-07-31 22:32:03.398 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:32:03.399 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.9539ms
2025-07-31 22:32:03.399 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:32:03.400 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.0336 ms
2025-07-31 22:32:03.400 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 12.3919ms
2025-07-31 22:32:04.968 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:32:04.968 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:04.969 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:32:04.970 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:32:04.977 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:32:04.989 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:32:04.990 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:32:04.991 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 20.6064ms
2025-07-31 22:32:04.991 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:32:04.992 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 22.2183 ms
2025-07-31 22:32:04.992 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 24.7361ms
2025-07-31 22:32:05.792 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 22:32:05.793 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:05.793 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.8526ms
2025-07-31 22:32:05.800 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 22:32:05.801 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:05.802 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:32:05.802 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 22:32:05.802 +05:30 [INF] Fetching all patients
2025-07-31 22:32:05.806 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 22:32:05.807 +05:30 [INF] Returned 10 patients
2025-07-31 22:32:05.808 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:32:05.809 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 6.6369ms
2025-07-31 22:32:05.810 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:32:05.811 +05:30 [INF] HTTP GET /api/patient responded 200 in 9.6008 ms
2025-07-31 22:32:05.812 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 11.9181ms
2025-07-31 22:32:05.848 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 22:32:05.849 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:05.849 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.0124ms
2025-07-31 22:32:05.852 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 22:32:05.852 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:05.853 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:32:05.853 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:32:05.857 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:32:05.879 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:32:05.880 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:32:05.883 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 29.1801ms
2025-07-31 22:32:05.884 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:32:05.884 +05:30 [INF] HTTP GET /api/doctor responded 200 in 31.8385 ms
2025-07-31 22:32:05.885 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 33.7158ms
2025-07-31 22:32:32.473 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - null null
2025-07-31 22:32:32.473 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:32.474 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - 204 null null 0.8184ms
2025-07-31 22:32:32.475 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 249
2025-07-31 22:32:32.476 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:32.477 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-31 22:32:32.477 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:32:32.518 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppointmentDate], [CreatedAt], [DoctorID], [ModifiedAt], [Notes], [PatientID], [Reason], [Status], [isActive])
OUTPUT INSERTED.[AppointmentID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-31 22:32:32.583 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'HealthcareApi.Models.Appointment'.
2025-07-31 22:32:32.585 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 107.9359ms
2025-07-31 22:32:32.585 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-31 22:32:32.586 +05:30 [INF] HTTP POST /api/appointment responded 201 in 108.9166 ms
2025-07-31 22:32:32.586 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 201 272 application/json; charset=utf-8 110.3417ms
2025-07-31 22:32:32.600 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:32:32.600 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:32.601 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.694ms
2025-07-31 22:32:32.603 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:32:32.603 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:32.604 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:32:32.604 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:32:32.606 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:32:32.607 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:32:32.608 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:32:32.608 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 4.1336ms
2025-07-31 22:32:32.609 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:32:32.610 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 6.1155 ms
2025-07-31 22:32:32.611 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 8.6842ms
2025-07-31 22:32:36.948 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=aakarsh - null null
2025-07-31 22:32:36.949 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:36.950 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=aakarsh - 204 null null 1.3959ms
2025-07-31 22:32:36.952 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=aakarsh - null null
2025-07-31 22:32:36.953 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:36.954 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:32:36.954 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:32:37.006 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:32:37.007 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 52.0567ms
2025-07-31 22:32:37.007 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:32:37.007 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 53.7794 ms
2025-07-31 22:32:37.007 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10&query=aakarsh - 200 70 application/json; charset=utf-8 55.281ms
2025-07-31 22:32:38.678 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:32:38.678 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:38.679 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1499ms
2025-07-31 22:32:38.681 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:32:38.682 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:38.683 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:32:38.684 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:32:38.687 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:32:38.689 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:32:38.690 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:32:38.691 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 6.3213ms
2025-07-31 22:32:38.691 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:32:38.692 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 9.0189 ms
2025-07-31 22:32:38.692 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 11.1847ms
2025-07-31 22:32:43.066 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 22:32:43.067 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:43.067 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 1.1728ms
2025-07-31 22:32:43.070 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 22:32:43.070 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:43.071 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:32:43.071 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:32:43.073 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:32:43.083 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:32:43.084 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:32:43.085 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 13.7011ms
2025-07-31 22:32:43.086 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:32:43.086 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 15.5084 ms
2025-07-31 22:32:43.087 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 16.9147ms
2025-07-31 22:32:43.412 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-07-31 22:32:43.413 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:43.413 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 204 null null 1.1763ms
2025-07-31 22:32:43.416 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - null null
2025-07-31 22:32:43.417 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:43.418 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:32:43.418 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:32:43.421 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:32:43.423 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:32:43.424 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:32:43.426 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 6.9839ms
2025-07-31 22:32:43.426 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:32:43.427 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 8.9550 ms
2025-07-31 22:32:43.428 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=3&pageSize=10 - 200 627 application/json; charset=utf-8 11.3311ms
2025-07-31 22:32:51.106 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 22:32:51.106 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:51.107 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.8474ms
2025-07-31 22:32:51.110 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 22:32:51.110 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:51.111 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:32:51.111 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 22:32:51.112 +05:30 [INF] Fetching all patients
2025-07-31 22:32:51.127 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 22:32:51.127 +05:30 [INF] Returned 10 patients
2025-07-31 22:32:51.128 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:32:51.128 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 16.4891ms
2025-07-31 22:32:51.129 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:32:51.130 +05:30 [INF] HTTP GET /api/patient responded 200 in 18.7269 ms
2025-07-31 22:32:51.130 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 20.2844ms
2025-07-31 22:32:51.145 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 22:32:51.145 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:51.145 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7901ms
2025-07-31 22:32:51.147 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 22:32:51.148 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:32:51.148 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:32:51.149 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:32:51.154 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:32:51.158 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:32:51.159 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:32:51.159 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 10.5051ms
2025-07-31 22:32:51.160 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:32:51.160 +05:30 [INF] HTTP GET /api/doctor responded 200 in 11.5703 ms
2025-07-31 22:32:51.160 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 12.7338ms
2025-07-31 22:33:02.539 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 22:33:02.539 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:33:02.540 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 204 null null 0.9984ms
2025-07-31 22:33:02.542 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - null null
2025-07-31 22:33:02.543 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:33:02.544 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:33:02.544 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:33:02.548 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:33:02.554 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:33:02.554 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:33:02.555 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 10.4696ms
2025-07-31 22:33:02.555 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:33:02.556 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 12.2080 ms
2025-07-31 22:33:02.556 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=2&pageSize=10 - 200 1933 application/json; charset=utf-8 14.0378ms
2025-07-31 22:33:04.694 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:33:04.695 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:33:04.695 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.4308ms
2025-07-31 22:33:04.697 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:33:04.697 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:33:04.697 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:33:04.698 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:33:04.700 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:33:04.707 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:33:04.708 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:33:04.708 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 10.2179ms
2025-07-31 22:33:04.709 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:33:04.710 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 12.0702 ms
2025-07-31 22:33:04.710 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 13.3714ms
2025-07-31 22:33:07.023 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 22:33:07.023 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:33:07.023 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5964ms
2025-07-31 22:33:07.025 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 22:33:07.026 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:33:07.027 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:33:07.027 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 22:33:07.028 +05:30 [INF] Fetching all patients
2025-07-31 22:33:07.030 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 22:33:07.030 +05:30 [INF] Returned 10 patients
2025-07-31 22:33:07.031 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:33:07.031 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.1853ms
2025-07-31 22:33:07.032 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:33:07.032 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.3270 ms
2025-07-31 22:33:07.032 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.0972ms
2025-07-31 22:33:07.054 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 22:33:07.055 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:33:07.055 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7178ms
2025-07-31 22:33:07.057 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 22:33:07.058 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:33:07.058 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:33:07.059 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:33:07.060 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:33:07.063 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:33:07.063 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:33:07.065 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 6.0815ms
2025-07-31 22:33:07.066 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:33:07.066 +05:30 [INF] HTTP GET /api/doctor responded 200 in 8.2859 ms
2025-07-31 22:33:07.067 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 9.5382ms
2025-07-31 22:36:44.501 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:36:44.503 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:36:44.504 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 3.0844ms
2025-07-31 22:36:44.523 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:36:44.523 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:36:44.525 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 22:36:44.525 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:36:44.526 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.7041ms
2025-07-31 22:38:32.818 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 22:38:32.819 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:38:32.819 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 22:38:32.819 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:38:32.820 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.6036ms
2025-07-31 22:42:56.488 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 22:42:56.488 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:42:56.489 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.0018ms
2025-07-31 22:42:56.491 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 22:42:56.491 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:42:56.491 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:42:56.492 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 22:42:56.517 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 22:42:57.114 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 22:42:57.115 +05:30 [INF] Role: Admin
2025-07-31 22:42:57.115 +05:30 [INF] Role: Admin
2025-07-31 22:42:57.115 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 22:42:57.121 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 22:42:57.121 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 22:42:57.122 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 629.9038ms
2025-07-31 22:42:57.122 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:42:57.122 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 630.8758 ms
2025-07-31 22:42:57.122 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 631.8585ms
2025-07-31 22:42:57.128 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:42:57.129 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:42:57.129 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 1.4709ms
2025-07-31 22:42:57.132 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:42:57.132 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:42:57.133 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:42:57.133 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:42:57.134 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:42:57.137 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 22:42:57.140 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 22:42:57.142 +05:30 [INF] Found 1 users among search
2025-07-31 22:42:57.144 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:42:57.145 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 10.9937ms
2025-07-31 22:42:57.147 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:42:57.148 +05:30 [INF] HTTP GET /api/user/search responded 200 in 15.0191 ms
2025-07-31 22:42:57.149 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 16.9725ms
2025-07-31 22:42:57.188 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:42:57.189 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:42:57.189 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.0047ms
2025-07-31 22:42:57.192 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:42:57.192 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:42:57.193 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:42:57.193 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:42:57.195 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:42:57.198 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 22:42:57.201 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 22:42:57.202 +05:30 [INF] Found 1 users among search
2025-07-31 22:42:57.203 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:42:57.203 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.564ms
2025-07-31 22:42:57.204 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:42:57.204 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.1900 ms
2025-07-31 22:42:57.205 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 12.7278ms
2025-07-31 22:42:58.461 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:42:58.462 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:42:58.462 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.0509ms
2025-07-31 22:42:58.465 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:42:58.465 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:42:58.467 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:42:58.467 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:42:58.472 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:42:58.486 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:42:58.487 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:42:58.487 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 19.7931ms
2025-07-31 22:42:58.487 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:42:58.487 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 20.9617 ms
2025-07-31 22:42:58.488 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 22.8365ms
2025-07-31 22:43:00.010 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 22:43:00.010 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:43:00.011 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 1.3608ms
2025-07-31 22:43:00.015 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 22:43:00.015 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:43:00.016 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:43:00.016 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 22:43:00.017 +05:30 [INF] Fetching all patients
2025-07-31 22:43:00.022 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 22:43:00.023 +05:30 [INF] Returned 10 patients
2025-07-31 22:43:00.023 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:43:00.025 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 8.1919ms
2025-07-31 22:43:00.026 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:43:00.026 +05:30 [INF] HTTP GET /api/patient responded 200 in 10.4763 ms
2025-07-31 22:43:00.027 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 11.6745ms
2025-07-31 22:43:00.061 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 22:43:00.061 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:43:00.061 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6961ms
2025-07-31 22:43:00.064 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 22:43:00.064 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:43:00.065 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:43:00.065 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:43:00.068 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:43:00.072 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:43:00.072 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:43:00.073 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.2178ms
2025-07-31 22:43:00.073 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:43:00.073 +05:30 [INF] HTTP GET /api/doctor responded 200 in 8.3616 ms
2025-07-31 22:43:00.073 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 9.3214ms
2025-07-31 22:43:07.645 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 22:43:07.647 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:43:07.647 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 2.0558ms
2025-07-31 22:43:07.650 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 22:43:07.650 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:43:07.651 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:43:07.652 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 22:43:07.653 +05:30 [INF] Fetching all patients
2025-07-31 22:43:07.655 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 22:43:07.656 +05:30 [INF] Returned 10 patients
2025-07-31 22:43:07.656 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:43:07.657 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.2621ms
2025-07-31 22:43:07.657 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:43:07.658 +05:30 [INF] HTTP GET /api/patient responded 200 in 7.0619 ms
2025-07-31 22:43:07.658 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.5624ms
2025-07-31 22:43:07.678 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 22:43:07.679 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:43:07.679 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7899ms
2025-07-31 22:43:07.682 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 22:43:07.683 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:43:07.683 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:43:07.683 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:43:07.685 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:43:07.687 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:43:07.688 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:43:07.689 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 5.2236ms
2025-07-31 22:43:07.689 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:43:07.690 +05:30 [INF] HTTP GET /api/doctor responded 200 in 6.7353 ms
2025-07-31 22:43:07.691 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 8.4834ms
2025-07-31 22:48:22.043 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:48:22.044 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:22.044 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8166ms
2025-07-31 22:48:22.053 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:48:22.054 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:22.055 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 22:48:22.056 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:48:22.057 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.8228ms
2025-07-31 22:48:25.464 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:48:25.468 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:25.470 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 22:48:25.474 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:48:25.478 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 13.6097ms
2025-07-31 22:48:26.062 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 22:48:26.062 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:26.063 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 22:48:26.063 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:48:26.063 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.999ms
2025-07-31 22:48:26.653 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 22:48:26.653 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:26.654 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7499ms
2025-07-31 22:48:26.656 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 22:48:26.656 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:26.656 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:48:26.657 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 22:48:26.674 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 22:48:27.283 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 22:48:27.283 +05:30 [INF] Role: Admin
2025-07-31 22:48:27.283 +05:30 [INF] Role: Admin
2025-07-31 22:48:27.283 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 22:48:27.287 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 22:48:27.288 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 22:48:27.288 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 631.3599ms
2025-07-31 22:48:27.289 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:48:27.289 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 632.4635 ms
2025-07-31 22:48:27.289 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 633.157ms
2025-07-31 22:48:27.294 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:48:27.294 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:27.294 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.4988ms
2025-07-31 22:48:27.307 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:48:27.308 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:27.308 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:48:27.309 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:48:27.310 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:48:27.313 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 22:48:27.316 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 22:48:27.316 +05:30 [INF] Found 1 users among search
2025-07-31 22:48:27.316 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:48:27.317 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.448ms
2025-07-31 22:48:27.317 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:48:27.319 +05:30 [INF] HTTP GET /api/user/search responded 200 in 10.9300 ms
2025-07-31 22:48:27.320 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 12.2887ms
2025-07-31 22:48:27.335 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:48:27.338 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:27.338 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.9458ms
2025-07-31 22:48:27.342 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:48:27.343 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:27.343 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:48:27.343 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:48:27.344 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:48:27.396 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 22:48:27.405 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 22:48:27.405 +05:30 [INF] Found 1 users among search
2025-07-31 22:48:27.406 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:48:27.406 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 62.4173ms
2025-07-31 22:48:27.406 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:48:27.406 +05:30 [INF] HTTP GET /api/user/search responded 200 in 63.3104 ms
2025-07-31 22:48:27.407 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 64.422ms
2025-07-31 22:48:28.602 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:48:28.603 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:28.605 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.9108ms
2025-07-31 22:48:28.608 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:48:28.608 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:28.609 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:48:28.609 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:48:28.615 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:48:28.628 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:48:28.628 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:48:28.629 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 18.8317ms
2025-07-31 22:48:28.629 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:48:28.630 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 21.1423 ms
2025-07-31 22:48:28.630 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 22.5951ms
2025-07-31 22:48:30.084 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 22:48:30.084 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:30.085 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.9517ms
2025-07-31 22:48:30.088 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 22:48:30.088 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:30.089 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:48:30.089 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 22:48:30.090 +05:30 [INF] Fetching all patients
2025-07-31 22:48:30.093 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 22:48:30.093 +05:30 [INF] Returned 10 patients
2025-07-31 22:48:30.094 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:48:30.094 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.3677ms
2025-07-31 22:48:30.095 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:48:30.095 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.1336 ms
2025-07-31 22:48:30.095 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.5527ms
2025-07-31 22:48:30.127 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 22:48:30.128 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:30.128 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.5222ms
2025-07-31 22:48:30.129 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 22:48:30.130 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:48:30.130 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:48:30.130 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:48:30.133 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:48:30.136 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:48:30.137 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:48:30.138 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.147ms
2025-07-31 22:48:30.138 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:48:30.139 +05:30 [INF] HTTP GET /api/doctor responded 200 in 8.6345 ms
2025-07-31 22:48:30.139 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 9.6084ms
2025-07-31 22:58:07.251 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:58:07.252 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:58:07.252 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.2812ms
2025-07-31 22:58:07.257 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:58:07.259 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:58:07.260 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 22:58:07.260 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:58:07.261 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 4.1374ms
2025-07-31 22:58:08.147 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 22:58:08.147 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:58:08.147 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 22:58:08.148 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:58:08.148 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.3482ms
2025-07-31 22:58:09.205 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 22:58:09.205 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:58:09.206 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7548ms
2025-07-31 22:58:09.207 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 22:58:09.208 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:58:09.208 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:58:09.209 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 22:58:09.236 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 22:58:09.826 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 22:58:09.826 +05:30 [INF] Role: Admin
2025-07-31 22:58:09.826 +05:30 [INF] Role: Admin
2025-07-31 22:58:09.827 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 22:58:09.834 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 22:58:09.835 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 22:58:09.835 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 626.2521ms
2025-07-31 22:58:09.835 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:58:09.835 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 627.1421 ms
2025-07-31 22:58:09.836 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 628.5165ms
2025-07-31 22:58:09.840 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:58:09.840 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:58:09.841 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6471ms
2025-07-31 22:58:09.842 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 22:58:09.843 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:58:09.843 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:58:09.844 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:58:09.844 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:58:09.848 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 22:58:09.851 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 22:58:09.852 +05:30 [INF] Found 1 users among search
2025-07-31 22:58:09.852 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:58:09.852 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.5824ms
2025-07-31 22:58:09.853 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:58:09.853 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.9699 ms
2025-07-31 22:58:09.854 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 11.1078ms
2025-07-31 22:58:09.876 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:58:09.877 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:58:09.877 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.1843ms
2025-07-31 22:58:09.881 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 22:58:09.881 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:58:09.882 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:58:09.882 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 22:58:09.882 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 22:58:09.884 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 22:58:09.886 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 22:58:09.886 +05:30 [INF] Found 1 users among search
2025-07-31 22:58:09.887 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:58:09.887 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.8205ms
2025-07-31 22:58:09.887 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 22:58:09.887 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.6670 ms
2025-07-31 22:58:09.887 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 6.6061ms
2025-07-31 22:58:11.231 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 22:58:11.232 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:58:11.233 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:58:11.233 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 22:58:11.238 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 22:58:11.250 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 22:58:11.250 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:58:11.251 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 17.5635ms
2025-07-31 22:58:11.251 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 22:58:11.252 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 18.8239 ms
2025-07-31 22:58:11.252 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 20.5705ms
2025-07-31 22:58:12.658 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 22:58:12.658 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:58:12.659 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 1.0331ms
2025-07-31 22:58:12.661 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 22:58:12.662 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:58:12.663 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:58:12.663 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 22:58:12.664 +05:30 [INF] Fetching all patients
2025-07-31 22:58:12.667 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 22:58:12.668 +05:30 [INF] Returned 10 patients
2025-07-31 22:58:12.668 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:58:12.669 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.437ms
2025-07-31 22:58:12.669 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 22:58:12.671 +05:30 [INF] HTTP GET /api/patient responded 200 in 7.8724 ms
2025-07-31 22:58:12.672 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 10.1373ms
2025-07-31 22:58:12.708 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 22:58:12.709 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:58:12.710 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.4835ms
2025-07-31 22:58:12.712 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 22:58:12.712 +05:30 [INF] CORS policy execution successful.
2025-07-31 22:58:12.713 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:58:12.713 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:58:12.715 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:58:12.719 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:58:12.720 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:58:12.720 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.4679ms
2025-07-31 22:58:12.721 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:58:12.721 +05:30 [INF] HTTP GET /api/doctor responded 200 in 8.7107 ms
2025-07-31 22:58:12.721 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 9.8405ms
2025-07-31 22:59:16.241 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 22:59:16.243 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '28-07-2025 10:04:22', Current time (UTC): '31-07-2025 17:29:16'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-31 22:59:16.244 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '28-07-2025 10:04:22', Current time (UTC): '31-07-2025 17:29:16'.
2025-07-31 22:59:16.245 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-31 22:59:16.246 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 22:59:16.247 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 401 0 null 5.7355ms
2025-07-31 22:59:20.771 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 65
2025-07-31 22:59:20.771 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:59:20.771 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 22:59:20.786 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 22:59:21.551 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 22:59:21.552 +05:30 [INF] Role: Admin
2025-07-31 22:59:21.552 +05:30 [INF] Role: Admin
2025-07-31 22:59:21.552 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 22:59:21.557 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 22:59:21.558 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 22:59:21.558 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 786.8295ms
2025-07-31 22:59:21.559 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 22:59:21.559 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 787.8418 ms
2025-07-31 22:59:21.559 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 788.4675ms
2025-07-31 22:59:29.672 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 22:59:29.673 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:59:29.673 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 22:59:29.680 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 22:59:29.683 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 22:59:29.683 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 22:59:29.684 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 10.4693ms
2025-07-31 22:59:29.684 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 22:59:29.684 +05:30 [INF] HTTP GET /api/doctor responded 200 in 11.3398 ms
2025-07-31 22:59:29.684 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.9881ms
2025-07-31 23:01:31.752 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:01:31.752 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:01:31.753 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7727ms
2025-07-31 23:01:31.798 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:01:31.808 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:01:31.811 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 23:01:31.812 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:01:31.812 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 14.2526ms
2025-07-31 23:01:33.154 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 23:01:33.154 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:01:33.154 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 23:01:33.155 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:01:33.155 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.3071ms
2025-07-31 23:01:34.079 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 23:01:34.080 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:01:34.080 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5547ms
2025-07-31 23:01:34.081 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 23:01:34.082 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:01:34.082 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:01:34.082 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 23:01:34.101 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 23:01:34.677 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 23:01:34.678 +05:30 [INF] Role: Admin
2025-07-31 23:01:34.678 +05:30 [INF] Role: Admin
2025-07-31 23:01:34.678 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 23:01:34.687 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 23:01:34.687 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 23:01:34.688 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 605.7324ms
2025-07-31 23:01:34.688 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:01:34.688 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 606.6179 ms
2025-07-31 23:01:34.689 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 607.5153ms
2025-07-31 23:01:34.694 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:01:34.695 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:01:34.695 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.8561ms
2025-07-31 23:01:34.697 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:01:34.698 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:01:34.698 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:01:34.699 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:01:34.699 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:01:34.701 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 23:01:34.706 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 23:01:34.706 +05:30 [INF] Found 1 users among search
2025-07-31 23:01:34.707 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:01:34.708 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 9.3142ms
2025-07-31 23:01:34.709 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:01:34.710 +05:30 [INF] HTTP GET /api/user/search responded 200 in 11.5139 ms
2025-07-31 23:01:34.710 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 12.6954ms
2025-07-31 23:01:34.739 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:01:34.741 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:01:34.741 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.8888ms
2025-07-31 23:01:34.744 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:01:34.744 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:01:34.745 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:01:34.746 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:01:34.746 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:01:34.748 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 23:01:34.750 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 23:01:34.750 +05:30 [INF] Found 1 users among search
2025-07-31 23:01:34.751 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:01:34.751 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.3154ms
2025-07-31 23:01:34.751 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:01:34.752 +05:30 [INF] HTTP GET /api/user/search responded 200 in 6.6565 ms
2025-07-31 23:01:34.752 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 8.1344ms
2025-07-31 23:01:36.203 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:01:36.203 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:01:36.204 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:01:36.205 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 23:01:36.213 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 23:01:36.229 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 23:01:36.229 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:01:36.230 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 24.4477ms
2025-07-31 23:01:36.230 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:01:36.230 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 26.3488 ms
2025-07-31 23:01:36.231 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 28.8399ms
2025-07-31 23:01:37.395 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 23:01:37.396 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:01:37.396 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.9114ms
2025-07-31 23:01:37.398 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 23:01:37.398 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:01:37.399 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:01:37.399 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 23:01:37.400 +05:30 [INF] Fetching all patients
2025-07-31 23:01:37.403 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 23:01:37.404 +05:30 [INF] Returned 10 patients
2025-07-31 23:01:37.405 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:01:37.406 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.7248ms
2025-07-31 23:01:37.406 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:01:37.406 +05:30 [INF] HTTP GET /api/patient responded 200 in 7.4466 ms
2025-07-31 23:01:37.406 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.4835ms
2025-07-31 23:01:37.438 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 23:01:37.439 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:01:37.439 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.2506ms
2025-07-31 23:01:37.442 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:01:37.442 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:01:37.443 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:01:37.443 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 23:01:37.445 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 23:01:37.449 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 23:01:37.449 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:01:37.450 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 6.6918ms
2025-07-31 23:01:37.450 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:01:37.451 +05:30 [INF] HTTP GET /api/doctor responded 200 in 7.6418 ms
2025-07-31 23:01:37.451 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 8.6884ms
2025-07-31 23:03:12.569 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:03:12.570 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:03:12.572 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.9098ms
2025-07-31 23:03:12.588 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:03:12.590 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:03:12.591 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 23:03:12.591 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:03:12.592 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.2057ms
2025-07-31 23:03:22.415 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 23:03:22.416 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:03:22.416 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 23:03:22.416 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:03:22.417 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.3836ms
2025-07-31 23:03:23.258 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 23:03:23.259 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:03:23.259 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6334ms
2025-07-31 23:03:23.261 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 23:03:23.261 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:03:23.262 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:03:23.262 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 23:03:23.280 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 23:03:23.855 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 23:03:23.855 +05:30 [INF] Role: Admin
2025-07-31 23:03:23.855 +05:30 [INF] Role: Admin
2025-07-31 23:03:23.855 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 23:03:23.859 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 23:03:23.860 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 23:03:23.860 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 597.7889ms
2025-07-31 23:03:23.860 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:03:23.861 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 599.2578 ms
2025-07-31 23:03:23.861 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 600.436ms
2025-07-31 23:03:23.865 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:03:23.866 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:03:23.866 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.4937ms
2025-07-31 23:03:23.868 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:03:23.868 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:03:23.868 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:03:23.869 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:03:23.869 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:03:23.871 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 23:03:23.874 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 23:03:23.874 +05:30 [INF] Found 1 users among search
2025-07-31 23:03:23.875 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:03:23.876 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.1375ms
2025-07-31 23:03:23.876 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:03:23.876 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.0786 ms
2025-07-31 23:03:23.877 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 9.007ms
2025-07-31 23:03:23.899 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:03:23.899 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:03:23.900 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.0174ms
2025-07-31 23:03:23.903 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:03:23.904 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:03:23.904 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:03:23.905 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:03:23.905 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:03:23.907 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 23:03:23.909 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 23:03:23.909 +05:30 [INF] Found 1 users among search
2025-07-31 23:03:23.909 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:03:23.910 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.5301ms
2025-07-31 23:03:23.910 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:03:23.910 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.5713 ms
2025-07-31 23:03:23.910 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 7.0286ms
2025-07-31 23:03:24.835 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:03:24.836 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:03:24.838 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.5408ms
2025-07-31 23:03:24.841 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:03:24.841 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:03:24.842 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:03:24.843 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 23:03:24.853 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 23:03:24.864 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 23:03:24.864 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:03:24.865 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 21.5842ms
2025-07-31 23:03:24.865 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:03:24.866 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 23.8412 ms
2025-07-31 23:03:24.867 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 25.8369ms
2025-07-31 23:03:26.161 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 23:03:26.162 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:03:26.162 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.9407ms
2025-07-31 23:03:26.164 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 23:03:26.165 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:03:26.165 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:03:26.166 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 23:03:26.166 +05:30 [INF] Fetching all patients
2025-07-31 23:03:26.169 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 23:03:26.170 +05:30 [INF] Returned 10 patients
2025-07-31 23:03:26.171 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:03:26.171 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.4971ms
2025-07-31 23:03:26.172 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:03:26.172 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.5585 ms
2025-07-31 23:03:26.173 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.2608ms
2025-07-31 23:03:26.208 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 23:03:26.209 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:03:26.209 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.9827ms
2025-07-31 23:03:26.211 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:03:26.212 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:03:26.213 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:03:26.214 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 23:03:26.217 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 23:03:26.220 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 23:03:26.221 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:03:26.221 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.0564ms
2025-07-31 23:03:26.222 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:03:26.222 +05:30 [INF] HTTP GET /api/doctor responded 200 in 8.9269 ms
2025-07-31 23:03:26.222 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 10.7695ms
2025-07-31 23:10:39.384 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:10:39.389 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:10:39.395 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 9.5534ms
2025-07-31 23:10:39.401 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:10:39.401 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:10:39.402 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 23:10:39.402 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:10:39.402 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.5657ms
2025-07-31 23:10:42.516 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 23:10:42.517 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:10:42.517 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 23:10:42.517 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:10:42.517 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.8298ms
2025-07-31 23:10:43.539 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 23:10:43.540 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:10:43.540 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5812ms
2025-07-31 23:10:43.542 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 23:10:43.542 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:10:43.543 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:10:43.543 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 23:10:43.567 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 23:10:44.149 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 23:10:44.150 +05:30 [INF] Role: Admin
2025-07-31 23:10:44.150 +05:30 [INF] Role: Admin
2025-07-31 23:10:44.150 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 23:10:44.157 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 23:10:44.157 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 23:10:44.158 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 614.1608ms
2025-07-31 23:10:44.158 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:10:44.158 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 615.7507 ms
2025-07-31 23:10:44.159 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 616.9287ms
2025-07-31 23:10:44.163 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:10:44.164 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:10:44.164 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.5761ms
2025-07-31 23:10:44.166 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:10:44.166 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:10:44.167 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:10:44.167 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:10:44.168 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:10:44.169 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 23:10:44.173 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 23:10:44.174 +05:30 [INF] Found 1 users among search
2025-07-31 23:10:44.174 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:10:44.174 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.9364ms
2025-07-31 23:10:44.174 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:10:44.175 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.9557 ms
2025-07-31 23:10:44.175 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 9.1846ms
2025-07-31 23:10:44.198 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:10:44.199 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:10:44.199 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.964ms
2025-07-31 23:10:44.203 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:10:44.203 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:10:44.204 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:10:44.204 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:10:44.204 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:10:44.206 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 23:10:44.207 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 23:10:44.208 +05:30 [INF] Found 1 users among search
2025-07-31 23:10:44.208 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:10:44.209 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.4907ms
2025-07-31 23:10:44.209 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:10:44.209 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.6874 ms
2025-07-31 23:10:44.210 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 6.7419ms
2025-07-31 23:10:45.356 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:10:45.356 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:10:45.357 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7151ms
2025-07-31 23:10:45.359 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:10:45.360 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:10:45.361 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:10:45.361 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 23:10:45.369 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 23:10:45.380 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 23:10:45.380 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:10:45.380 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 18.4975ms
2025-07-31 23:10:45.380 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:10:45.381 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 20.3731 ms
2025-07-31 23:10:45.382 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 22.8645ms
2025-07-31 23:10:48.223 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 23:10:48.223 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:10:48.223 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5772ms
2025-07-31 23:10:48.227 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 23:10:48.227 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:10:48.228 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:10:48.229 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 23:10:48.230 +05:30 [INF] Fetching all patients
2025-07-31 23:10:48.233 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 23:10:48.234 +05:30 [INF] Returned 10 patients
2025-07-31 23:10:48.234 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:10:48.234 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.1482ms
2025-07-31 23:10:48.235 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:10:48.235 +05:30 [INF] HTTP GET /api/patient responded 200 in 7.1498 ms
2025-07-31 23:10:48.236 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.8004ms
2025-07-31 23:10:48.273 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 23:10:48.274 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:10:48.274 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7204ms
2025-07-31 23:10:48.276 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:10:48.277 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:10:48.278 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:10:48.278 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 23:10:48.290 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 23:10:48.297 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 23:10:48.298 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:10:48.299 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 19.9831ms
2025-07-31 23:10:48.300 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:10:48.300 +05:30 [INF] HTTP GET /api/doctor responded 200 in 22.3613 ms
2025-07-31 23:10:48.300 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 24.025ms
2025-07-31 23:11:47.293 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 23:11:47.293 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:11:47.293 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 23:11:47.294 +05:30 [INF] Fetching all patients
2025-07-31 23:11:47.309 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 23:11:47.309 +05:30 [INF] Returned 10 patients
2025-07-31 23:11:47.309 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:11:47.310 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 16.0877ms
2025-07-31 23:11:47.310 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:11:47.310 +05:30 [INF] HTTP GET /api/patient responded 200 in 16.8200 ms
2025-07-31 23:11:47.310 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 17.3536ms
2025-07-31 23:14:03.250 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:14:03.250 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:03.250 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6342ms
2025-07-31 23:14:03.271 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:14:03.272 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:03.272 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 23:14:03.273 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:14:03.273 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.2424ms
2025-07-31 23:14:26.823 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 23:14:26.824 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:26.826 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 23:14:26.827 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:14:26.828 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 4.7859ms
2025-07-31 23:14:27.697 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 23:14:27.697 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:27.698 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.818ms
2025-07-31 23:14:27.699 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 23:14:27.700 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:27.700 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:14:27.700 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 23:14:27.717 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 23:14:28.312 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 23:14:28.312 +05:30 [INF] Role: Admin
2025-07-31 23:14:28.313 +05:30 [INF] Role: Admin
2025-07-31 23:14:28.313 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 23:14:28.320 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 23:14:28.320 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 23:14:28.321 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 620.6855ms
2025-07-31 23:14:28.321 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:14:28.321 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 621.4979 ms
2025-07-31 23:14:28.322 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 622.3009ms
2025-07-31 23:14:28.327 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:14:28.327 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:28.328 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7334ms
2025-07-31 23:14:28.330 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:14:28.330 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:28.330 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:14:28.331 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:14:28.331 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:14:28.333 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 23:14:28.336 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 23:14:28.337 +05:30 [INF] Found 1 users among search
2025-07-31 23:14:28.337 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:14:28.337 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.3791ms
2025-07-31 23:14:28.337 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:14:28.338 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.4011 ms
2025-07-31 23:14:28.338 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 507 application/json; charset=utf-8 8.4339ms
2025-07-31 23:14:28.360 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:14:28.361 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:28.362 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.1947ms
2025-07-31 23:14:28.366 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:14:28.366 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:28.367 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:14:28.367 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:14:28.368 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:14:28.369 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 23:14:28.371 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 23:14:28.371 +05:30 [INF] Found 1 users among search
2025-07-31 23:14:28.372 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:14:28.372 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.5983ms
2025-07-31 23:14:28.372 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:14:28.372 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.4332 ms
2025-07-31 23:14:28.372 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 507 application/json; charset=utf-8 6.295ms
2025-07-31 23:14:29.676 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:14:29.677 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:29.678 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.5574ms
2025-07-31 23:14:29.680 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:14:29.681 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:29.682 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:14:29.682 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 23:14:29.692 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 23:14:29.702 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 23:14:29.703 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:14:29.704 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 21.6168ms
2025-07-31 23:14:29.705 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:14:29.705 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 22.9763 ms
2025-07-31 23:14:29.705 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 24.85ms
2025-07-31 23:14:30.963 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 23:14:30.963 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:30.963 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6388ms
2025-07-31 23:14:30.965 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 23:14:30.966 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:30.966 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:14:30.966 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 23:14:30.967 +05:30 [INF] Fetching all patients
2025-07-31 23:14:30.971 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 23:14:30.972 +05:30 [INF] Returned 10 patients
2025-07-31 23:14:30.973 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:14:30.973 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 7.1187ms
2025-07-31 23:14:30.974 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:14:30.974 +05:30 [INF] HTTP GET /api/patient responded 200 in 8.5004 ms
2025-07-31 23:14:30.976 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 10.5546ms
2025-07-31 23:14:31.003 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 23:14:31.004 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:31.004 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 1.3686ms
2025-07-31 23:14:31.007 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:14:31.007 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:31.008 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:14:31.008 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 23:14:31.012 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 23:14:31.015 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 23:14:31.016 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:14:31.016 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.8524ms
2025-07-31 23:14:31.016 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:14:31.017 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.0837 ms
2025-07-31 23:14:31.017 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 10.0484ms
2025-07-31 23:14:47.519 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:14:47.520 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:47.521 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.9598ms
2025-07-31 23:14:47.594 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:14:47.596 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:47.597 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 23:14:47.600 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:14:47.601 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 6.7671ms
2025-07-31 23:14:48.549 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 23:14:48.549 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:48.550 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 23:14:48.550 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:14:48.550 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.5682ms
2025-07-31 23:14:49.393 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 23:14:49.394 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:49.396 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 2.5393ms
2025-07-31 23:14:49.397 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 23:14:49.398 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:49.398 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:14:49.398 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 23:14:49.409 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 23:14:49.987 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 23:14:49.987 +05:30 [INF] Role: Admin
2025-07-31 23:14:49.987 +05:30 [INF] Role: Admin
2025-07-31 23:14:49.987 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 23:14:49.991 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 23:14:49.992 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 23:14:49.992 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 594.2048ms
2025-07-31 23:14:49.993 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:14:49.993 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 595.5165 ms
2025-07-31 23:14:49.994 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 596.3872ms
2025-07-31 23:14:49.999 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:14:49.999 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:49.999 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.4455ms
2025-07-31 23:14:50.001 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:14:50.001 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:50.001 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:14:50.002 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:14:50.002 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:14:50.004 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 23:14:50.007 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 23:14:50.007 +05:30 [INF] Found 1 users among search
2025-07-31 23:14:50.008 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:14:50.008 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.2191ms
2025-07-31 23:14:50.008 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:14:50.009 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.2488 ms
2025-07-31 23:14:50.009 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 7.8989ms
2025-07-31 23:14:50.030 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:14:50.031 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:50.031 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.8755ms
2025-07-31 23:14:50.034 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:14:50.035 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:50.035 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:14:50.035 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:14:50.037 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:14:50.038 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 23:14:50.040 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 23:14:50.040 +05:30 [INF] Found 1 users among search
2025-07-31 23:14:50.040 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:14:50.041 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.4787ms
2025-07-31 23:14:50.041 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:14:50.041 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.7763 ms
2025-07-31 23:14:50.041 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 6.6976ms
2025-07-31 23:14:51.442 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:14:51.442 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:51.443 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:14:51.444 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 23:14:51.448 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 23:14:51.461 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 23:14:51.462 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:14:51.462 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 17.4919ms
2025-07-31 23:14:51.463 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:14:51.464 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 21.7043 ms
2025-07-31 23:14:51.465 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 23.044ms
2025-07-31 23:14:53.036 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 23:14:53.037 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:53.037 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.7012ms
2025-07-31 23:14:53.039 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 23:14:53.040 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:53.041 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:14:53.041 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 23:14:53.041 +05:30 [INF] Fetching all patients
2025-07-31 23:14:53.045 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 23:14:53.046 +05:30 [INF] Returned 10 patients
2025-07-31 23:14:53.046 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:14:53.046 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.1308ms
2025-07-31 23:14:53.046 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:14:53.047 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.1199 ms
2025-07-31 23:14:53.047 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.8212ms
2025-07-31 23:14:53.074 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 23:14:53.075 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:53.075 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.5281ms
2025-07-31 23:14:53.077 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:14:53.078 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:14:53.079 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:14:53.079 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 23:14:53.083 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 23:14:53.086 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 23:14:53.087 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:14:53.088 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.8496ms
2025-07-31 23:14:53.088 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:14:53.088 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.5959 ms
2025-07-31 23:14:53.088 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.1913ms
2025-07-31 23:18:36.832 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 23:18:36.832 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:18:36.832 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.7298ms
2025-07-31 23:18:36.835 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 23:18:36.835 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:18:36.836 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:18:36.836 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 23:18:36.837 +05:30 [INF] Fetching all patients
2025-07-31 23:18:36.861 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 23:18:36.862 +05:30 [INF] Returned 10 patients
2025-07-31 23:18:36.862 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:18:36.862 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 26.0361ms
2025-07-31 23:18:36.863 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:18:36.863 +05:30 [INF] HTTP GET /api/patient responded 200 in 27.2990 ms
2025-07-31 23:18:36.863 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 28.6871ms
2025-07-31 23:18:36.876 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 23:18:36.876 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:18:36.877 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.9696ms
2025-07-31 23:18:36.880 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:18:36.880 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:18:36.881 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:18:36.881 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 23:18:36.886 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 23:18:36.889 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 23:18:36.890 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:18:36.890 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.8288ms
2025-07-31 23:18:36.890 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:18:36.890 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.8521 ms
2025-07-31 23:18:36.891 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 10.9344ms
2025-07-31 23:28:17.506 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:28:17.507 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:28:17.507 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7853ms
2025-07-31 23:28:17.520 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:28:17.521 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:28:17.522 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 23:28:17.523 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:28:17.524 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 3.4278ms
2025-07-31 23:28:21.291 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 23:28:21.292 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:28:21.292 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 23:28:21.292 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:28:21.292 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.1463ms
2025-07-31 23:28:22.298 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 23:28:22.299 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:28:22.299 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6597ms
2025-07-31 23:28:22.301 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 23:28:22.301 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:28:22.302 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:28:22.302 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 23:28:22.327 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 23:28:23.237 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 23:28:23.238 +05:30 [INF] Role: Admin
2025-07-31 23:28:23.238 +05:30 [INF] Role: Admin
2025-07-31 23:28:23.238 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 23:28:23.250 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 23:28:23.252 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 23:28:23.252 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 950.2643ms
2025-07-31 23:28:23.253 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:28:23.253 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 951.4213 ms
2025-07-31 23:28:23.253 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 952.6152ms
2025-07-31 23:28:23.258 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:28:23.258 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:28:23.259 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.5882ms
2025-07-31 23:28:23.261 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:28:23.261 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:28:23.262 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:28:23.262 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:28:23.262 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:28:23.265 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 23:28:23.269 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 23:28:23.270 +05:30 [INF] Found 1 users among search
2025-07-31 23:28:23.270 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:28:23.271 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.7822ms
2025-07-31 23:28:23.271 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:28:23.271 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.8106 ms
2025-07-31 23:28:23.272 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 10.9178ms
2025-07-31 23:28:23.294 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:28:23.294 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:28:23.295 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.3477ms
2025-07-31 23:28:23.297 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:28:23.298 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:28:23.298 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:28:23.298 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:28:23.300 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:28:23.302 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 23:28:23.304 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 23:28:23.305 +05:30 [INF] Found 1 users among search
2025-07-31 23:28:23.305 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:28:23.305 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.8162ms
2025-07-31 23:28:23.306 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:28:23.306 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.0152 ms
2025-07-31 23:28:23.306 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 8.993ms
2025-07-31 23:28:24.442 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:28:24.443 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:28:24.443 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8084ms
2025-07-31 23:28:24.445 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:28:24.446 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:28:24.446 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:28:24.447 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 23:28:24.452 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 23:28:24.462 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 23:28:24.462 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:28:24.462 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 15.4232ms
2025-07-31 23:28:24.463 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:28:24.463 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 16.6542 ms
2025-07-31 23:28:24.463 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 17.9784ms
2025-07-31 23:28:25.543 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 23:28:25.543 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:28:25.544 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6602ms
2025-07-31 23:28:25.546 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 23:28:25.546 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:28:25.546 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:28:25.547 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 23:28:25.547 +05:30 [INF] Fetching all patients
2025-07-31 23:28:25.551 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 23:28:25.552 +05:30 [INF] Returned 10 patients
2025-07-31 23:28:25.553 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:28:25.553 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 6.385ms
2025-07-31 23:28:25.554 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:28:25.554 +05:30 [INF] HTTP GET /api/patient responded 200 in 8.0039 ms
2025-07-31 23:28:25.555 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 9.0053ms
2025-07-31 23:28:25.593 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 23:28:25.593 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:28:25.594 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7504ms
2025-07-31 23:28:25.596 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:28:25.596 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:28:25.596 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:28:25.597 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 23:28:25.599 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 23:28:25.603 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 23:28:25.604 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:28:25.604 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.7273ms
2025-07-31 23:28:25.605 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:28:25.605 +05:30 [INF] HTTP GET /api/doctor responded 200 in 8.4960 ms
2025-07-31 23:28:25.605 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 9.4943ms
2025-07-31 23:29:08.735 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:29:08.736 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:29:08.736 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.1354ms
2025-07-31 23:29:08.750 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:29:08.750 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:29:08.752 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 23:29:08.753 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:29:08.754 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 4.329ms
2025-07-31 23:29:09.318 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 23:29:09.319 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:29:09.319 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 23:29:09.320 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:29:09.320 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.3493ms
2025-07-31 23:29:10.176 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 23:29:10.177 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:29:10.177 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.0167ms
2025-07-31 23:29:10.179 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 23:29:10.179 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:29:10.180 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:29:10.180 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 23:29:10.198 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 23:29:10.769 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 23:29:10.769 +05:30 [INF] Role: Admin
2025-07-31 23:29:10.769 +05:30 [INF] Role: Admin
2025-07-31 23:29:10.769 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 23:29:10.822 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 23:29:10.823 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 23:29:10.823 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 643.2942ms
2025-07-31 23:29:10.823 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:29:10.824 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 644.1323 ms
2025-07-31 23:29:10.824 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 645.1662ms
2025-07-31 23:29:10.829 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:29:10.830 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:29:10.830 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 1.0882ms
2025-07-31 23:29:10.837 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:29:10.838 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:29:10.845 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:29:10.846 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:29:10.848 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:29:10.850 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 23:29:10.853 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 23:29:10.854 +05:30 [INF] Found 1 users among search
2025-07-31 23:29:10.855 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:29:10.855 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.7607ms
2025-07-31 23:29:10.855 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:29:10.856 +05:30 [INF] HTTP GET /api/user/search responded 200 in 10.3905 ms
2025-07-31 23:29:10.856 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 19.2169ms
2025-07-31 23:29:10.870 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:29:10.871 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:29:10.871 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.8556ms
2025-07-31 23:29:10.881 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:29:10.882 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:29:10.883 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:29:10.883 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:29:10.885 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:29:10.888 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 23:29:10.889 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 23:29:10.889 +05:30 [INF] Found 1 users among search
2025-07-31 23:29:10.889 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:29:10.890 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.2058ms
2025-07-31 23:29:10.890 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:29:10.891 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.9553 ms
2025-07-31 23:29:10.891 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 9.4576ms
2025-07-31 23:29:11.928 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:29:11.929 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:29:11.930 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:29:11.930 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 23:29:11.939 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 23:29:11.949 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 23:29:11.950 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:29:11.950 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 18.7252ms
2025-07-31 23:29:11.950 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:29:11.950 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 20.5314 ms
2025-07-31 23:29:11.952 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 23.4829ms
2025-07-31 23:29:13.140 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 23:29:13.141 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:29:13.141 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.8326ms
2025-07-31 23:29:13.143 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 23:29:13.144 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:29:13.145 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:29:13.146 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 23:29:13.146 +05:30 [INF] Fetching all patients
2025-07-31 23:29:13.149 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 23:29:13.149 +05:30 [INF] Returned 10 patients
2025-07-31 23:29:13.150 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:29:13.150 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.4275ms
2025-07-31 23:29:13.151 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:29:13.153 +05:30 [INF] HTTP GET /api/patient responded 200 in 7.3101 ms
2025-07-31 23:29:13.153 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 10.087ms
2025-07-31 23:29:13.190 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 23:29:13.190 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:29:13.190 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7881ms
2025-07-31 23:29:13.192 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:29:13.193 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:29:13.193 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:29:13.194 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 23:29:13.196 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 23:29:13.199 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 23:29:13.200 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:29:13.200 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 6.2396ms
2025-07-31 23:29:13.200 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:29:13.201 +05:30 [INF] HTTP GET /api/doctor responded 200 in 7.1560 ms
2025-07-31 23:29:13.201 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 8.3318ms
2025-07-31 23:38:28.461 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:38:28.461 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:38:28.462 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 1.3936ms
2025-07-31 23:38:28.471 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:38:28.472 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:38:28.472 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 23:38:28.473 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:38:28.473 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.8835ms
2025-07-31 23:38:30.609 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 23:38:30.610 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:38:30.610 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 23:38:30.610 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:38:30.610 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.1304ms
2025-07-31 23:38:31.293 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 23:38:31.294 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:38:31.294 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5289ms
2025-07-31 23:38:31.296 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 23:38:31.296 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:38:31.296 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:38:31.296 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 23:38:31.321 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 23:38:31.905 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 23:38:31.905 +05:30 [INF] Role: Admin
2025-07-31 23:38:31.905 +05:30 [INF] Role: Admin
2025-07-31 23:38:31.905 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 23:38:31.913 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 23:38:31.914 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 23:38:31.914 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 617.9228ms
2025-07-31 23:38:31.915 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:38:31.915 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 618.7263 ms
2025-07-31 23:38:31.915 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 619.5093ms
2025-07-31 23:38:31.920 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:38:31.921 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:38:31.921 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.5512ms
2025-07-31 23:38:31.923 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:38:31.923 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:38:31.924 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:38:31.924 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:38:31.924 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:38:31.927 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 23:38:31.929 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 23:38:31.929 +05:30 [INF] Found 1 users among search
2025-07-31 23:38:31.930 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:38:31.930 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.4739ms
2025-07-31 23:38:31.931 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:38:31.931 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.3022 ms
2025-07-31 23:38:31.931 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 8.2565ms
2025-07-31 23:38:31.956 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:38:31.957 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:38:31.958 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.1363ms
2025-07-31 23:38:31.961 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:38:31.961 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:38:31.962 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:38:31.962 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:38:31.962 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:38:31.965 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 23:38:31.967 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 23:38:31.968 +05:30 [INF] Found 1 users among search
2025-07-31 23:38:31.968 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:38:31.968 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.9731ms
2025-07-31 23:38:31.968 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:38:31.969 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.0323 ms
2025-07-31 23:38:31.969 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 7.9664ms
2025-07-31 23:38:33.263 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:38:33.263 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:38:33.264 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:38:33.266 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 23:38:33.273 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 23:38:33.286 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 23:38:33.286 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:38:33.287 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 19.9982ms
2025-07-31 23:38:33.287 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:38:33.288 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 23.5954 ms
2025-07-31 23:38:33.288 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 25.2914ms
2025-07-31 23:38:34.716 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 23:38:34.716 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:38:34.717 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 1.4076ms
2025-07-31 23:38:34.720 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 23:38:34.720 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:38:34.721 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:38:34.721 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 23:38:34.722 +05:30 [INF] Fetching all patients
2025-07-31 23:38:34.724 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 23:38:34.725 +05:30 [INF] Returned 10 patients
2025-07-31 23:38:34.726 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:38:34.726 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 4.9033ms
2025-07-31 23:38:34.726 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:38:34.727 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.2784 ms
2025-07-31 23:38:34.727 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 7.8895ms
2025-07-31 23:38:34.762 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 23:38:34.762 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:38:34.762 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.7074ms
2025-07-31 23:38:34.765 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:38:34.765 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:38:34.766 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:38:34.767 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 23:38:34.770 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 23:38:34.773 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 23:38:34.773 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:38:34.774 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 6.5023ms
2025-07-31 23:38:34.774 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:38:34.774 +05:30 [INF] HTTP GET /api/doctor responded 200 in 8.7384 ms
2025-07-31 23:38:34.774 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 9.6125ms
2025-07-31 23:39:02.225 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 23:39:02.226 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:39:02.227 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 1.2264ms
2025-07-31 23:39:02.230 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 23:39:02.231 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:39:02.231 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:39:02.232 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 23:39:02.232 +05:30 [INF] Fetching all patients
2025-07-31 23:39:02.248 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 23:39:02.248 +05:30 [INF] Returned 10 patients
2025-07-31 23:39:02.249 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:39:02.249 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 17.2004ms
2025-07-31 23:39:02.249 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:39:02.249 +05:30 [INF] HTTP GET /api/patient responded 200 in 18.2072 ms
2025-07-31 23:39:02.250 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 20.0764ms
2025-07-31 23:39:02.262 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 23:39:02.263 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:39:02.263 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.5452ms
2025-07-31 23:39:02.265 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:39:02.265 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:39:02.265 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:39:02.266 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 23:39:02.271 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 23:39:02.275 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 23:39:02.275 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:39:02.276 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 9.8858ms
2025-07-31 23:39:02.276 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:39:02.276 +05:30 [INF] HTTP GET /api/doctor responded 200 in 10.6516 ms
2025-07-31 23:39:02.276 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.2767ms
2025-07-31 23:43:07.472 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:43:07.477 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:07.477 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 5.1241ms
2025-07-31 23:43:07.505 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:43:07.506 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:07.506 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 23:43:07.506 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:43:07.507 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.2091ms
2025-07-31 23:43:09.447 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 23:43:09.447 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:09.448 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 23:43:09.448 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:43:09.448 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.0061ms
2025-07-31 23:43:10.754 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 23:43:10.754 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:10.755 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7275ms
2025-07-31 23:43:10.757 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 23:43:10.757 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:10.758 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:43:10.758 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 23:43:10.774 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 23:43:11.628 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 23:43:11.629 +05:30 [INF] Role: Admin
2025-07-31 23:43:11.629 +05:30 [INF] Role: Admin
2025-07-31 23:43:11.629 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 23:43:11.639 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 23:43:11.640 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 23:43:11.641 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 882.1214ms
2025-07-31 23:43:11.641 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:43:11.642 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 883.8218 ms
2025-07-31 23:43:11.642 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 885.099ms
2025-07-31 23:43:11.646 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:43:11.647 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:11.647 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.682ms
2025-07-31 23:43:11.649 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:43:11.649 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:11.650 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:43:11.650 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:43:11.650 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:43:11.653 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 23:43:11.656 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 23:43:11.656 +05:30 [INF] Found 1 users among search
2025-07-31 23:43:11.658 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:43:11.658 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.8728ms
2025-07-31 23:43:11.658 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:43:11.658 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.6893 ms
2025-07-31 23:43:11.659 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 9.5103ms
2025-07-31 23:43:11.681 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:43:11.682 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:11.682 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.3695ms
2025-07-31 23:43:11.686 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:43:11.687 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:11.687 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:43:11.688 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:43:11.688 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:43:11.690 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 23:43:11.692 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 23:43:11.692 +05:30 [INF] Found 1 users among search
2025-07-31 23:43:11.692 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:43:11.693 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.6483ms
2025-07-31 23:43:11.693 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:43:11.693 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.5702 ms
2025-07-31 23:43:11.693 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 7.0228ms
2025-07-31 23:43:13.199 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:43:13.199 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:13.199 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.7863ms
2025-07-31 23:43:13.202 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:43:13.203 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:13.204 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:43:13.204 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 23:43:13.211 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 23:43:13.225 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 23:43:13.226 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:43:13.227 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 21.6621ms
2025-07-31 23:43:13.227 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:43:13.227 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 23.7791 ms
2025-07-31 23:43:13.228 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 25.6778ms
2025-07-31 23:43:14.220 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 23:43:14.220 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:14.221 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6003ms
2025-07-31 23:43:14.222 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 23:43:14.223 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:14.224 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:43:14.224 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 23:43:14.225 +05:30 [INF] Fetching all patients
2025-07-31 23:43:14.228 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 23:43:14.229 +05:30 [INF] Returned 10 patients
2025-07-31 23:43:14.229 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:43:14.230 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.1889ms
2025-07-31 23:43:14.230 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:43:14.230 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.4264 ms
2025-07-31 23:43:14.231 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.5992ms
2025-07-31 23:43:14.261 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 23:43:14.261 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:14.261 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.659ms
2025-07-31 23:43:14.263 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:43:14.263 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:14.264 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:43:14.264 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 23:43:14.266 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 23:43:14.270 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 23:43:14.271 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:43:14.272 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 7.4543ms
2025-07-31 23:43:14.272 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:43:14.272 +05:30 [INF] HTTP GET /api/doctor responded 200 in 8.6412 ms
2025-07-31 23:43:14.273 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 9.4709ms
2025-07-31 23:43:46.092 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 23:43:46.092 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:46.092 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.6902ms
2025-07-31 23:43:46.094 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 23:43:46.095 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:46.096 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:43:46.096 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 23:43:46.097 +05:30 [INF] Fetching all patients
2025-07-31 23:43:46.099 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 23:43:46.099 +05:30 [INF] Returned 10 patients
2025-07-31 23:43:46.100 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:43:46.100 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 3.9365ms
2025-07-31 23:43:46.101 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:43:46.101 +05:30 [INF] HTTP GET /api/patient responded 200 in 5.1607 ms
2025-07-31 23:43:46.101 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 6.9681ms
2025-07-31 23:43:46.128 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 23:43:46.128 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:46.128 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6107ms
2025-07-31 23:43:46.130 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:43:46.131 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:43:46.131 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:43:46.131 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 23:43:46.133 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 23:43:46.134 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 23:43:46.134 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:43:46.135 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 3.5884ms
2025-07-31 23:43:46.136 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:43:46.136 +05:30 [INF] HTTP GET /api/doctor responded 200 in 5.0735 ms
2025-07-31 23:43:46.143 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 6.289ms
2025-07-31 23:44:53.422 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:44:53.423 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '31-07-2025 17:59:21', Current time (UTC): '31-07-2025 18:14:53'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-31 23:44:53.424 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '31-07-2025 17:59:21', Current time (UTC): '31-07-2025 18:14:53'.
2025-07-31 23:44:53.424 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-31 23:44:53.425 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:44:53.425 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 401 0 null 2.466ms
2025-07-31 23:44:58.251 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 65
2025-07-31 23:44:58.251 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:44:58.252 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 23:44:58.267 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 23:44:59.246 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 23:44:59.246 +05:30 [INF] Role: Admin
2025-07-31 23:44:59.246 +05:30 [INF] Role: Admin
2025-07-31 23:44:59.247 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 23:44:59.255 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 23:44:59.256 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 23:44:59.256 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1004.3506ms
2025-07-31 23:44:59.257 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:44:59.257 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1005.5036 ms
2025-07-31 23:44:59.257 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 1006.0776ms
2025-07-31 23:45:14.238 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:45:14.239 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:45:14.239 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 23:45:14.252 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 23:45:14.255 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 23:45:14.255 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:45:14.256 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 16.3553ms
2025-07-31 23:45:14.256 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:45:14.256 +05:30 [INF] HTTP GET /api/doctor responded 200 in 17.3541 ms
2025-07-31 23:45:14.256 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 18.0801ms
2025-07-31 23:47:19.413 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:47:19.413 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:47:19.413 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.6187ms
2025-07-31 23:47:19.417 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:47:19.418 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:47:19.418 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 23:47:19.418 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:47:19.418 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 0.9149ms
2025-07-31 23:47:22.842 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 23:47:22.842 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:47:22.842 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 23:47:22.843 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:47:22.843 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.3022ms
2025-07-31 23:47:24.117 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 23:47:24.117 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:47:24.118 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.1367ms
2025-07-31 23:47:24.121 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 23:47:24.122 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:47:24.123 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:47:24.123 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 23:47:24.138 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 23:47:24.733 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 23:47:24.734 +05:30 [INF] Role: Admin
2025-07-31 23:47:24.734 +05:30 [INF] Role: Admin
2025-07-31 23:47:24.734 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 23:47:24.741 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 23:47:24.741 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 23:47:24.742 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 618.1581ms
2025-07-31 23:47:24.742 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:47:24.742 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 619.8581 ms
2025-07-31 23:47:24.743 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 621.3203ms
2025-07-31 23:47:24.748 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:47:24.748 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:47:24.748 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6099ms
2025-07-31 23:47:24.750 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:47:24.750 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:47:24.751 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:47:24.751 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:47:24.752 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:47:24.753 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 23:47:24.757 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 23:47:24.758 +05:30 [INF] Found 1 users among search
2025-07-31 23:47:24.758 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:47:24.759 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.5067ms
2025-07-31 23:47:24.759 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:47:24.760 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.7948 ms
2025-07-31 23:47:24.760 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 9.8474ms
2025-07-31 23:47:24.789 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:47:24.789 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:47:24.790 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.9794ms
2025-07-31 23:47:24.793 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:47:24.793 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:47:24.794 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:47:24.794 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:47:24.795 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:47:24.796 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 23:47:24.798 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 23:47:24.799 +05:30 [INF] Found 1 users among search
2025-07-31 23:47:24.799 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:47:24.799 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 5.0539ms
2025-07-31 23:47:24.799 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:47:24.800 +05:30 [INF] HTTP GET /api/user/search responded 200 in 5.9427 ms
2025-07-31 23:47:24.800 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 6.8481ms
2025-07-31 23:47:26.136 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:47:26.137 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:47:26.138 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 2.2516ms
2025-07-31 23:47:26.140 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:47:26.141 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:47:26.141 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:47:26.142 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 23:47:26.149 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 23:47:26.157 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 23:47:26.158 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:47:26.158 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 16.3694ms
2025-07-31 23:47:26.159 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:47:26.160 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 18.2136 ms
2025-07-31 23:47:26.160 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 19.7428ms
2025-07-31 23:47:28.146 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 23:47:28.146 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:47:28.146 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 0.5604ms
2025-07-31 23:47:28.148 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 23:47:28.148 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:47:28.149 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:47:28.150 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 23:47:28.150 +05:30 [INF] Fetching all patients
2025-07-31 23:47:28.153 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 23:47:28.155 +05:30 [INF] Returned 10 patients
2025-07-31 23:47:28.156 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:47:28.156 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 6.452ms
2025-07-31 23:47:28.157 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:47:28.157 +05:30 [INF] HTTP GET /api/patient responded 200 in 7.5718 ms
2025-07-31 23:47:28.157 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 9.4479ms
2025-07-31 23:47:28.185 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 23:47:28.185 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:47:28.185 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.6955ms
2025-07-31 23:47:28.187 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:47:28.188 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:47:28.188 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:47:28.189 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 23:47:28.193 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 23:47:28.196 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 23:47:28.197 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:47:28.197 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 8.0267ms
2025-07-31 23:47:28.198 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:47:28.198 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.8750 ms
2025-07-31 23:47:28.199 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 11.394ms
2025-07-31 23:53:35.742 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:53:35.743 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:53:35.743 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.9064ms
2025-07-31 23:53:35.761 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:53:35.761 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:53:35.762 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Doctor|Patient)
2025-07-31 23:53:35.762 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:53:35.762 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 1.8067ms
2025-07-31 23:54:15.237 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-31 23:54:15.237 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:54:15.237 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-31 23:54:15.238 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-31 23:54:15.238 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.2097ms
2025-07-31 23:54:21.075 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-31 23:54:21.075 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:54:21.075 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5579ms
2025-07-31 23:54:21.077 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-31 23:54:21.077 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:54:21.078 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:54:21.078 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-31 23:54:21.109 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-31 23:54:21.894 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-31 23:54:21.895 +05:30 [INF] Role: Admin
2025-07-31 23:54:21.895 +05:30 [INF] Role: Admin
2025-07-31 23:54:21.895 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-31 23:54:21.902 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-31 23:54:21.903 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-31 23:54:21.903 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 824.754ms
2025-07-31 23:54:21.903 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-31 23:54:21.903 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 826.0699 ms
2025-07-31 23:54:21.904 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 631 application/json; charset=utf-8 826.9118ms
2025-07-31 23:54:21.908 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:54:21.908 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:54:21.909 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.7164ms
2025-07-31 23:54:21.910 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-31 23:54:21.911 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:54:21.911 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:54:21.911 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:54:21.912 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:54:21.913 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-31 23:54:21.916 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-31 23:54:21.916 +05:30 [INF] Found 1 users among search
2025-07-31 23:54:21.917 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:54:21.917 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.0579ms
2025-07-31 23:54:21.918 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:54:21.920 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.7701 ms
2025-07-31 23:54:21.920 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 9.7978ms
2025-07-31 23:54:21.945 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:54:21.946 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:54:21.946 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.0787ms
2025-07-31 23:54:21.948 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-31 23:54:21.949 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:54:21.949 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:54:21.950 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-31 23:54:21.951 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-31 23:54:21.954 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-31 23:54:21.956 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-31 23:54:21.956 +05:30 [INF] Found 1 users among search
2025-07-31 23:54:21.956 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:54:21.957 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.7405ms
2025-07-31 23:54:21.957 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-31 23:54:21.957 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.8849 ms
2025-07-31 23:54:21.957 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 8.9286ms
2025-07-31 23:54:23.770 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:54:23.770 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:54:23.771 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 204 null null 0.8789ms
2025-07-31 23:54:23.774 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-31 23:54:23.774 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:54:23.775 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:54:23.775 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-31 23:54:23.783 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-31 23:54:23.793 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-31 23:54:23.794 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:54:23.795 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi) in 19.7305ms
2025-07-31 23:54:23.796 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.SearchLucene (HealthcareApi)'
2025-07-31 23:54:23.796 +05:30 [INF] HTTP GET /api/appointment/search-lucene responded 200 in 21.4982 ms
2025-07-31 23:54:23.797 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment/search-lucene?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 22.8293ms
2025-07-31 23:54:24.621 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient - null null
2025-07-31 23:54:24.622 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:54:24.623 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient - 204 null null 1.8083ms
2025-07-31 23:54:24.626 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient - null null
2025-07-31 23:54:24.627 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:54:24.628 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:54:24.628 +05:30 [INF] Route matched with {action = "GetPatients", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HealthcareApi.Models.Patient]]] GetPatients() on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-31 23:54:24.629 +05:30 [INF] Fetching all patients
2025-07-31 23:54:24.632 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-31 23:54:24.633 +05:30 [INF] Returned 10 patients
2025-07-31 23:54:24.633 +05:30 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:54:24.634 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi) in 5.3254ms
2025-07-31 23:54:24.634 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetPatients (HealthcareApi)'
2025-07-31 23:54:24.635 +05:30 [INF] HTTP GET /api/patient responded 200 in 6.7559 ms
2025-07-31 23:54:24.635 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient - 200 3740 application/json; charset=utf-8 8.6118ms
2025-07-31 23:54:24.671 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - null null
2025-07-31 23:54:24.672 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:54:24.672 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor - 204 null null 0.8634ms
2025-07-31 23:54:24.675 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor - null null
2025-07-31 23:54:24.675 +05:30 [INF] CORS policy execution successful.
2025-07-31 23:54:24.675 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:54:24.676 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-31 23:54:24.678 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-31 23:54:24.685 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-31 23:54:24.688 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-31 23:54:24.688 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 12.3623ms
2025-07-31 23:54:24.689 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-31 23:54:24.690 +05:30 [INF] HTTP GET /api/doctor responded 200 in 14.5018 ms
2025-07-31 23:54:24.690 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor - 200 1991 application/json; charset=utf-8 15.7202ms
