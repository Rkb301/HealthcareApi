2025-07-23 09:38:56.398 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:38:56.445 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:38:56.445 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 47.2213ms
2025-07-23 09:38:56.449 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:38:56.449 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:38:56.452 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 09:38:56.456 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:38:56.457 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 8.2277ms
2025-07-23 09:38:59.681 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 09:38:59.683 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:38:59.683 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 09:38:59.683 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:38:59.684 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 2.4236ms
2025-07-23 09:39:00.693 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 09:39:00.693 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:39:00.694 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5958ms
2025-07-23 09:39:00.696 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 09:39:00.696 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:39:00.744 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:39:00.752 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 09:39:00.884 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 09:39:01.820 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 09:39:01.820 +05:30 [INF] Role: Admin
2025-07-23 09:39:01.821 +05:30 [INF] Role: Admin
2025-07-23 09:39:01.821 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 09:39:01.835 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 09:39:01.840 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 09:39:01.842 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1089.5877ms
2025-07-23 09:39:01.842 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:39:01.842 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1145.8510 ms
2025-07-23 09:39:01.843 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 1147.0542ms
2025-07-23 09:39:01.848 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:39:01.849 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:39:01.849 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 1.1371ms
2025-07-23 09:39:01.852 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:39:01.852 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:39:01.854 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:39:01.855 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:39:01.857 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:39:01.898 +05:30 [INF] Executed DbCommand (38ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 09:39:01.913 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 09:39:01.914 +05:30 [INF] Found 1 users among search
2025-07-23 09:39:01.914 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:39:01.914 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 59.5129ms
2025-07-23 09:39:01.915 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:39:01.915 +05:30 [INF] HTTP GET /api/user/search responded 200 in 60.7011 ms
2025-07-23 09:39:01.915 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 508 application/json; charset=utf-8 63.6587ms
2025-07-23 09:39:01.920 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:39:01.920 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:39:01.921 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.5672ms
2025-07-23 09:39:01.925 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:39:01.926 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:39:01.927 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:39:01.927 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:39:01.928 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:39:01.958 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 09:39:01.974 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 09:39:01.975 +05:30 [INF] Found 1 users among search
2025-07-23 09:39:01.976 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:39:01.977 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 49.0225ms
2025-07-23 09:39:01.977 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:39:01.977 +05:30 [INF] HTTP GET /api/user/search responded 200 in 50.5674 ms
2025-07-23 09:39:01.978 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 508 application/json; charset=utf-8 52.6187ms
2025-07-23 09:39:03.379 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:39:03.379 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:39:03.379 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.5601ms
2025-07-23 09:39:03.382 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:39:03.382 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:39:03.384 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:39:03.385 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 09:39:03.451 +05:30 [INF] Executed DbCommand (64ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 09:39:03.452 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:39:03.453 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 68.2646ms
2025-07-23 09:39:03.454 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:39:03.454 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 70.0961 ms
2025-07-23 09:39:03.455 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 73.0327ms
2025-07-23 09:40:17.052 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 09:40:17.052 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:40:17.052 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 09:40:17.053 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:40:17.053 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.1443ms
2025-07-23 09:40:19.353 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 09:40:19.354 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:40:19.354 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7143ms
2025-07-23 09:40:19.356 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 09:40:19.356 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:40:19.357 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:40:19.357 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 09:40:19.371 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 09:40:20.237 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 09:40:20.238 +05:30 [INF] Role: Admin
2025-07-23 09:40:20.238 +05:30 [INF] Role: Admin
2025-07-23 09:40:20.238 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 09:40:20.243 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 09:40:20.243 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 09:40:20.244 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 886.682ms
2025-07-23 09:40:20.244 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:40:20.244 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 888.0459 ms
2025-07-23 09:40:20.245 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 889.1193ms
2025-07-23 09:40:20.251 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:40:20.251 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:40:20.252 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.59ms
2025-07-23 09:40:20.254 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:40:20.254 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:40:20.255 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:40:20.255 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:40:20.257 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:40:20.284 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 09:40:20.299 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 09:40:20.300 +05:30 [INF] Found 1 users among search
2025-07-23 09:40:20.301 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:40:20.301 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 45.4072ms
2025-07-23 09:40:20.302 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:40:20.302 +05:30 [INF] HTTP GET /api/user/search responded 200 in 46.8924 ms
2025-07-23 09:40:20.302 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 48.4392ms
2025-07-23 09:40:20.309 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:40:20.310 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:40:20.310 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.8781ms
2025-07-23 09:40:20.314 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:40:20.314 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:40:20.315 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:40:20.315 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:40:20.316 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:40:20.322 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 09:40:20.328 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 09:40:20.329 +05:30 [INF] Found 1 users among search
2025-07-23 09:40:20.329 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:40:20.330 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 14.1901ms
2025-07-23 09:40:20.330 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:40:20.330 +05:30 [INF] HTTP GET /api/user/search responded 200 in 15.6363 ms
2025-07-23 09:40:20.331 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 17.1127ms
2025-07-23 09:40:21.788 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:40:21.789 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:40:21.789 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.0507ms
2025-07-23 09:40:21.791 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:40:21.792 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:40:21.792 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:40:21.793 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 09:40:21.806 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 09:40:21.815 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:40:21.816 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 22.9416ms
2025-07-23 09:40:21.816 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:40:21.817 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 24.2930 ms
2025-07-23 09:40:21.817 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 25.8169ms
2025-07-23 09:41:43.889 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:41:43.889 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:41:43.890 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.624ms
2025-07-23 09:41:43.892 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:41:43.892 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:41:43.893 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 09:41:43.893 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:41:43.893 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.4813ms
2025-07-23 09:42:26.864 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 09:42:26.864 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:42:26.864 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 09:42:26.865 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:42:26.865 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.6311ms
2025-07-23 09:42:28.036 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 09:42:28.037 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:42:28.037 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6984ms
2025-07-23 09:42:28.039 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 09:42:28.039 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:42:28.040 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:42:28.040 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 09:42:28.054 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 09:42:28.784 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 09:42:28.784 +05:30 [INF] Role: Admin
2025-07-23 09:42:28.784 +05:30 [INF] Role: Admin
2025-07-23 09:42:28.785 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 09:42:28.793 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 09:42:28.794 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 09:42:28.794 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 752.2147ms
2025-07-23 09:42:28.795 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:42:28.795 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 753.5833 ms
2025-07-23 09:42:28.795 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 754.2923ms
2025-07-23 09:42:28.800 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:42:28.801 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:42:28.801 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6542ms
2025-07-23 09:42:28.803 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:42:28.804 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:42:28.805 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:42:28.806 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:42:28.811 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:42:28.852 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 09:42:28.884 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 09:42:28.884 +05:30 [INF] Found 1 users among search
2025-07-23 09:42:28.885 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:42:28.885 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 78.2345ms
2025-07-23 09:42:28.885 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:42:28.886 +05:30 [INF] HTTP GET /api/user/search responded 200 in 80.5917 ms
2025-07-23 09:42:28.887 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 83.5995ms
2025-07-23 09:42:28.893 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:42:28.893 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:42:28.894 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.6947ms
2025-07-23 09:42:28.896 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:42:28.897 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:42:28.898 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:42:28.898 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:42:28.905 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:42:28.918 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 09:42:28.926 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 09:42:28.928 +05:30 [INF] Found 1 users among search
2025-07-23 09:42:28.928 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:42:28.929 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 30.5661ms
2025-07-23 09:42:28.929 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:42:28.929 +05:30 [INF] HTTP GET /api/user/search responded 200 in 31.9271 ms
2025-07-23 09:42:28.930 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 33.5735ms
2025-07-23 09:42:29.793 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:42:29.794 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:42:29.794 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.3308ms
2025-07-23 09:42:29.798 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:42:29.798 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:42:29.799 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:42:29.799 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 09:42:29.812 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 09:42:29.813 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:42:29.814 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 14.8657ms
2025-07-23 09:42:29.815 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:42:29.816 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 17.1934 ms
2025-07-23 09:42:29.816 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 18.7742ms
2025-07-23 09:47:22.972 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 09:47:22.973 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:47:22.977 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 09:47:22.978 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:47:22.978 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 5.7702ms
2025-07-23 09:47:40.438 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 09:47:40.439 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:47:40.440 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.3924ms
2025-07-23 09:47:40.441 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 09:47:40.442 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:47:40.442 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:47:40.443 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 09:47:40.469 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 09:47:41.038 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 09:47:41.039 +05:30 [INF] Role: Admin
2025-07-23 09:47:41.039 +05:30 [INF] Role: Admin
2025-07-23 09:47:41.039 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 09:47:41.045 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 09:47:41.045 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 09:47:41.046 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 602.9562ms
2025-07-23 09:47:41.046 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:47:41.046 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 604.1859 ms
2025-07-23 09:47:41.048 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 606.3916ms
2025-07-23 09:47:41.051 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:47:41.052 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:47:41.052 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.5717ms
2025-07-23 09:47:41.054 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:47:41.055 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:47:41.056 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:47:41.056 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:47:41.059 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:47:41.076 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 09:47:41.107 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 09:47:41.108 +05:30 [INF] Found 1 users among search
2025-07-23 09:47:41.109 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:47:41.110 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 52.101ms
2025-07-23 09:47:41.111 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:47:41.111 +05:30 [INF] HTTP GET /api/user/search responded 200 in 55.2087 ms
2025-07-23 09:47:41.111 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 57.3432ms
2025-07-23 09:47:41.120 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:47:41.121 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:47:41.121 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.0661ms
2025-07-23 09:47:41.124 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:47:41.125 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:47:41.125 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:47:41.126 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:47:41.126 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:47:41.134 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 09:47:41.139 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 09:47:41.139 +05:30 [INF] Found 1 users among search
2025-07-23 09:47:41.140 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:47:41.140 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 14.3626ms
2025-07-23 09:47:41.140 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:47:41.141 +05:30 [INF] HTTP GET /api/user/search responded 200 in 15.5162 ms
2025-07-23 09:47:41.141 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 16.8205ms
2025-07-23 09:47:42.535 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:47:42.535 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:47:42.536 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.9608ms
2025-07-23 09:47:42.539 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:47:42.540 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:47:42.541 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:47:42.542 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 09:47:42.557 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 09:47:42.557 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:47:42.558 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 15.9789ms
2025-07-23 09:47:42.559 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:47:42.559 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 18.0919 ms
2025-07-23 09:47:42.560 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 20.5125ms
2025-07-23 09:48:42.255 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:48:42.255 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:48:42.256 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.3052ms
2025-07-23 09:48:42.258 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:48:42.259 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:48:42.260 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 09:48:42.260 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:48:42.261 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.996ms
2025-07-23 09:48:46.289 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 09:48:46.289 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:48:46.290 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 09:48:46.290 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:48:46.290 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.4292ms
2025-07-23 09:48:47.360 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 09:48:47.360 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:48:47.361 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.924ms
2025-07-23 09:48:47.363 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 09:48:47.364 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:48:47.365 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:48:47.365 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 09:48:47.383 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 09:48:47.975 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 09:48:47.975 +05:30 [INF] Role: Admin
2025-07-23 09:48:47.975 +05:30 [INF] Role: Admin
2025-07-23 09:48:47.976 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 09:48:47.980 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 09:48:47.981 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 09:48:47.981 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 615.9896ms
2025-07-23 09:48:47.982 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:48:47.982 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 617.0313 ms
2025-07-23 09:48:47.982 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 618.7039ms
2025-07-23 09:48:47.988 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:48:47.989 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:48:47.989 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 1.3072ms
2025-07-23 09:48:47.994 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:48:47.995 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:48:47.996 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:48:47.996 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:48:47.997 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:48:48.034 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 09:48:48.053 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 09:48:48.054 +05:30 [INF] Found 1 users among search
2025-07-23 09:48:48.055 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:48:48.056 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 58.8556ms
2025-07-23 09:48:48.056 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:48:48.056 +05:30 [INF] HTTP GET /api/user/search responded 200 in 60.5871 ms
2025-07-23 09:48:48.056 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 62.7158ms
2025-07-23 09:48:48.064 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:48:48.064 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:48:48.065 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.8443ms
2025-07-23 09:48:48.068 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:48:48.069 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:48:48.070 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:48:48.070 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:48:48.072 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:48:48.080 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 09:48:48.088 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 09:48:48.089 +05:30 [INF] Found 1 users among search
2025-07-23 09:48:48.090 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:48:48.090 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 20.0831ms
2025-07-23 09:48:48.091 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:48:48.091 +05:30 [INF] HTTP GET /api/user/search responded 200 in 21.8007 ms
2025-07-23 09:48:48.094 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 26.1968ms
2025-07-23 09:48:48.785 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:48:48.786 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:48:48.787 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.0914ms
2025-07-23 09:48:48.789 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:48:48.790 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:48:48.791 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:48:48.791 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 09:48:48.808 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 09:48:48.808 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:48:48.808 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 16.9519ms
2025-07-23 09:48:48.809 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:48:48.809 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 18.6654 ms
2025-07-23 09:48:48.813 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 23.9658ms
2025-07-23 09:50:19.763 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:50:19.764 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:50:19.764 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8074ms
2025-07-23 09:50:19.766 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:50:19.766 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:50:19.767 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 09:50:19.768 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:50:19.768 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.6897ms
2025-07-23 09:50:22.506 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 09:50:22.506 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:50:22.506 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 09:50:22.507 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:50:22.507 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.0308ms
2025-07-23 09:50:23.309 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 09:50:23.309 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:50:23.309 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6391ms
2025-07-23 09:50:23.311 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 09:50:23.311 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:50:23.311 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:50:23.312 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 09:50:23.329 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 09:50:23.892 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 09:50:23.892 +05:30 [INF] Role: Admin
2025-07-23 09:50:23.892 +05:30 [INF] Role: Admin
2025-07-23 09:50:23.892 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 09:50:23.900 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 09:50:23.900 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 09:50:23.901 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 589.0898ms
2025-07-23 09:50:23.901 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:50:23.901 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 589.9940 ms
2025-07-23 09:50:23.901 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 590.6883ms
2025-07-23 09:50:23.907 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:50:23.907 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:50:23.908 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 1.2414ms
2025-07-23 09:50:23.911 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:50:23.911 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:50:23.912 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:50:23.914 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:50:23.916 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:50:23.946 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 09:50:23.964 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 09:50:23.964 +05:30 [INF] Found 1 users among search
2025-07-23 09:50:23.965 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:50:23.965 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 49.9043ms
2025-07-23 09:50:23.965 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:50:23.966 +05:30 [INF] HTTP GET /api/user/search responded 200 in 53.3153 ms
2025-07-23 09:50:23.966 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 55.3527ms
2025-07-23 09:50:23.972 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:50:23.972 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:50:23.973 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.4251ms
2025-07-23 09:50:23.977 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:50:23.977 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:50:23.978 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:50:23.978 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:50:23.979 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:50:23.986 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 09:50:23.993 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 09:50:23.994 +05:30 [INF] Found 1 users among search
2025-07-23 09:50:23.994 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:50:23.995 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 16.4234ms
2025-07-23 09:50:23.995 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:50:23.996 +05:30 [INF] HTTP GET /api/user/search responded 200 in 17.9375 ms
2025-07-23 09:50:23.996 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 19.5292ms
2025-07-23 09:50:24.909 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:50:24.910 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:50:24.911 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.3755ms
2025-07-23 09:50:24.914 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:50:24.914 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:50:24.915 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:50:24.915 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 09:50:24.937 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 09:50:24.938 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:50:24.940 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 23.9384ms
2025-07-23 09:50:24.940 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:50:24.941 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 26.5330 ms
2025-07-23 09:50:24.943 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 29.0945ms
2025-07-23 09:52:41.636 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:52:41.637 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:52:41.637 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.6386ms
2025-07-23 09:52:41.640 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:52:41.640 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:52:41.641 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 09:52:41.642 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:52:41.642 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.377ms
2025-07-23 09:54:53.018 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 09:54:53.018 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:54:53.019 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 09:54:53.019 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:54:53.019 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.4692ms
2025-07-23 09:54:53.869 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 09:54:53.869 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:54:53.870 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.9057ms
2025-07-23 09:54:53.871 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 09:54:53.872 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:54:53.872 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:54:53.872 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 09:54:53.901 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 09:54:54.752 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 09:54:54.752 +05:30 [INF] Role: Admin
2025-07-23 09:54:54.752 +05:30 [INF] Role: Admin
2025-07-23 09:54:54.752 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 09:54:54.760 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 09:54:54.761 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 09:54:54.761 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 888.8547ms
2025-07-23 09:54:54.762 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:54:54.762 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 889.9526 ms
2025-07-23 09:54:54.763 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 891.2941ms
2025-07-23 09:54:54.768 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:54:54.769 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:54:54.769 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6838ms
2025-07-23 09:54:54.771 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:54:54.773 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:54:54.774 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:54:54.774 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:54:54.776 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:54:54.793 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 09:54:54.817 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 09:54:54.817 +05:30 [INF] Found 1 users among search
2025-07-23 09:54:54.818 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:54:54.818 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 43.8358ms
2025-07-23 09:54:54.819 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:54:54.820 +05:30 [INF] HTTP GET /api/user/search responded 200 in 46.4334 ms
2025-07-23 09:54:54.821 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 49.0701ms
2025-07-23 09:54:54.827 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:54:54.827 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:54:54.828 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.9398ms
2025-07-23 09:54:54.831 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:54:54.832 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:54:54.832 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:54:54.833 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:54:54.833 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:54:54.840 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 09:54:54.846 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 09:54:54.847 +05:30 [INF] Found 1 users among search
2025-07-23 09:54:54.847 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:54:54.848 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 14.8002ms
2025-07-23 09:54:54.848 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:54:54.849 +05:30 [INF] HTTP GET /api/user/search responded 200 in 16.4384 ms
2025-07-23 09:54:54.849 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 17.8751ms
2025-07-23 09:54:55.752 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:54:55.753 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:54:55.753 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.0201ms
2025-07-23 09:54:55.755 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:54:55.755 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:54:55.756 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:54:55.757 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 09:54:55.771 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 09:54:55.772 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:54:55.773 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 15.5532ms
2025-07-23 09:54:55.773 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:54:55.774 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 17.6082 ms
2025-07-23 09:54:55.775 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 19.8849ms
2025-07-23 09:54:58.435 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/doctor/search-lucene?query= - null null
2025-07-23 09:54:58.440 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:54:58.440 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/doctor/search-lucene?query= - 204 null null 5.2616ms
2025-07-23 09:54:58.442 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/doctor/search-lucene?query= - null null
2025-07-23 09:54:58.443 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:54:58.446 +05:30 [INF] HTTP GET /doctor/search-lucene responded 404 in 1.7891 ms
2025-07-23 09:54:58.447 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/doctor/search-lucene?query= - 404 0 null 4.1048ms
2025-07-23 09:54:58.453 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/doctor/search-lucene, Response status code: 404
2025-07-23 09:55:52.428 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:55:52.430 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:55:52.433 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 4.9326ms
2025-07-23 09:55:52.445 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:55:52.446 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:55:52.446 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 09:55:52.447 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:55:52.448 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.3253ms
2025-07-23 09:55:55.529 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/doctor/search-lucene?query=cardi - null null
2025-07-23 09:55:55.529 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:55:55.530 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/doctor/search-lucene?query=cardi - 204 null null 0.7208ms
2025-07-23 09:55:55.532 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/doctor/search-lucene?query=cardi - null null
2025-07-23 09:55:55.532 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:55:55.534 +05:30 [INF] HTTP GET /doctor/search-lucene responded 404 in 1.2302 ms
2025-07-23 09:55:55.534 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/doctor/search-lucene?query=cardi - 404 0 null 2.0864ms
2025-07-23 09:55:55.535 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/doctor/search-lucene, Response status code: 404
2025-07-23 09:58:20.955 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-23 09:58:21.929 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[EmergencyContactName], [p].[EmergencyContactNumber], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-23 09:58:22.831 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-23 09:58:23.460 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-23 09:58:23.566 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-23 09:58:23.568 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-23 09:58:23.569 +05:30 [INF] Hosting environment: Development
2025-07-23 09:58:23.569 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-23 09:58:30.130 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 09:58:30.155 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-23 09:58:30.157 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:58:30.192 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 09:58:30.195 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:58:30.222 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 94.2371ms
2025-07-23 09:58:31.404 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 09:58:31.408 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:58:31.410 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 5.3292ms
2025-07-23 09:58:31.415 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 09:58:31.418 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:58:31.431 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:58:31.452 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 09:58:31.590 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 09:58:32.797 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 09:58:32.797 +05:30 [INF] Role: Admin
2025-07-23 09:58:32.798 +05:30 [INF] Role: Admin
2025-07-23 09:58:32.798 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 09:58:32.930 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 09:58:33.001 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 09:58:33.053 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1596.2318ms
2025-07-23 09:58:33.054 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 09:58:33.058 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1634.2813 ms
2025-07-23 09:58:33.070 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 1654.4972ms
2025-07-23 09:58:33.072 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:58:33.074 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:58:33.075 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 3.7182ms
2025-07-23 09:58:33.078 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 09:58:33.088 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:58:33.125 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:58:33.144 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:58:33.168 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:58:33.329 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 09:58:33.336 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 09:58:33.337 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 09:58:33.371 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 09:58:33.374 +05:30 [INF] Found 1 users among search
2025-07-23 09:58:33.375 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:58:33.397 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 252.3167ms
2025-07-23 09:58:33.398 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:58:33.399 +05:30 [INF] HTTP GET /api/user/search responded 200 in 273.5326 ms
2025-07-23 09:58:33.399 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 321.235ms
2025-07-23 09:58:33.404 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:58:33.405 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:58:33.407 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.2615ms
2025-07-23 09:58:33.410 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 09:58:33.411 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:58:33.414 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:58:33.415 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 09:58:33.423 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 09:58:33.440 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 09:58:33.443 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 09:58:33.443 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 09:58:33.452 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 09:58:33.453 +05:30 [INF] Found 1 users among search
2025-07-23 09:58:33.454 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:58:33.455 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 39.576ms
2025-07-23 09:58:33.455 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 09:58:33.455 +05:30 [INF] HTTP GET /api/user/search responded 200 in 41.4917 ms
2025-07-23 09:58:33.456 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 46.0779ms
2025-07-23 09:58:34.685 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:58:34.686 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:58:34.687 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 2.1696ms
2025-07-23 09:58:34.690 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:58:34.692 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:58:34.696 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:58:34.699 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 09:58:34.749 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 09:58:34.752 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:58:34.753 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 53.9749ms
2025-07-23 09:58:34.754 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 09:58:34.755 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 59.0882 ms
2025-07-23 09:58:34.755 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 65.6033ms
2025-07-23 09:58:40.535 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/doctor/search-lucene?query=cardi - null null
2025-07-23 09:58:40.536 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:58:40.537 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/doctor/search-lucene?query=cardi - 204 null null 3.0623ms
2025-07-23 09:58:40.539 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/doctor/search-lucene?query=cardi - null null
2025-07-23 09:58:40.540 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:58:40.541 +05:30 [INF] HTTP GET /doctor/search-lucene responded 404 in 0.4037 ms
2025-07-23 09:58:40.542 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/doctor/search-lucene?query=cardi - 404 0 null 2.7283ms
2025-07-23 09:58:40.543 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/doctor/search-lucene, Response status code: 404
2025-07-23 09:59:10.276 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:59:10.284 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:59:10.291 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 15.4746ms
2025-07-23 09:59:10.318 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:59:10.321 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:59:10.332 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 09:59:10.333 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:59:10.334 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 15.6345ms
2025-07-23 09:59:14.197 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/doctor/search?specialization=Cardiology - null null
2025-07-23 09:59:14.198 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:59:14.198 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/doctor/search?specialization=Cardiology - 204 null null 1.8596ms
2025-07-23 09:59:14.200 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/doctor/search?specialization=Cardiology - null null
2025-07-23 09:59:14.201 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:59:14.201 +05:30 [INF] HTTP GET /doctor/search responded 404 in 0.2243 ms
2025-07-23 09:59:14.202 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/doctor/search?specialization=Cardiology - 404 0 null 1.7324ms
2025-07-23 09:59:14.203 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/doctor/search, Response status code: 404
2025-07-23 09:59:33.968 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 09:59:33.969 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:59:33.970 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.3663ms
2025-07-23 09:59:33.999 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 09:59:34.001 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:59:34.001 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 09:59:34.001 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 09:59:34.002 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.4091ms
2025-07-23 09:59:37.341 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=Cardiology - null null
2025-07-23 09:59:37.342 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:59:37.343 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=Cardiology - 204 null null 1.5988ms
2025-07-23 09:59:37.345 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=Cardiology - null null
2025-07-23 09:59:37.346 +05:30 [INF] CORS policy execution successful.
2025-07-23 09:59:37.347 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 09:59:37.354 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 09:59:37.453 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 09:59:37.459 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 104.4298ms
2025-07-23 09:59:37.459 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 09:59:37.459 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 112.7525 ms
2025-07-23 09:59:37.460 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=Cardiology - 200 398 application/json; charset=utf-8 114.8684ms
2025-07-23 10:00:40.623 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:00:40.624 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:00:40.624 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.3422ms
2025-07-23 10:00:40.640 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:00:40.641 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:00:40.642 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:00:40.642 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:00:40.643 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.9577ms
2025-07-23 10:00:43.484 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=Cardiology - null null
2025-07-23 10:00:43.484 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:00:43.485 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=Cardiology - 204 null null 1.1716ms
2025-07-23 10:00:43.487 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=Cardiology - null null
2025-07-23 10:00:43.488 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:00:43.488 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:00:43.489 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:00:43.498 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:00:43.499 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 9.9231ms
2025-07-23 10:00:43.500 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:00:43.500 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 11.7566 ms
2025-07-23 10:00:43.500 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=Cardiology - 200 398 application/json; charset=utf-8 13.3451ms
2025-07-23 10:12:45.733 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=dermat - null null
2025-07-23 10:12:45.736 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18-07-2025 11:21:45', Current time (UTC): '23-07-2025 04:42:45'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-23 10:12:45.758 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18-07-2025 11:21:45', Current time (UTC): '23-07-2025 04:42:45'.
2025-07-23 10:12:45.759 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:12:45.759 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:12:45.772 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:12:45.772 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 12.8964ms
2025-07-23 10:12:45.772 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:12:45.773 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 14.3272 ms
2025-07-23 10:12:45.773 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=dermat - 200 407 application/json; charset=utf-8 39.8653ms
2025-07-23 10:22:35.925 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:22:35.925 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:22:35.926 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.9374ms
2025-07-23 10:22:35.928 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:22:35.928 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:22:35.929 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:22:35.929 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:22:35.929 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.2443ms
2025-07-23 10:23:17.146 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=Cardiology - null null
2025-07-23 10:23:17.147 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:23:17.148 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=Cardiology - 204 null null 2.0113ms
2025-07-23 10:23:17.153 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=Cardiology - null null
2025-07-23 10:23:17.154 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:23:17.155 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:23:17.156 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:23:17.171 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:23:17.172 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 14.8518ms
2025-07-23 10:23:17.172 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:23:17.172 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 17.6540 ms
2025-07-23 10:23:17.173 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=Cardiology - 200 397 application/json; charset=utf-8 20.5878ms
2025-07-23 10:23:22.353 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=3 - null null
2025-07-23 10:23:22.354 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:23:22.354 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=3 - 204 null null 1.2525ms
2025-07-23 10:23:22.357 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=3 - null null
2025-07-23 10:23:22.357 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:23:22.357 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:23:22.358 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:23:22.414 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:23:22.415 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 57.0051ms
2025-07-23 10:23:22.416 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:23:22.416 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 59.0398 ms
2025-07-23 10:23:22.418 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=3 - 200 1074 application/json; charset=utf-8 60.3381ms
2025-07-23 10:23:43.314 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:23:43.315 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:23:43.317 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 3.0386ms
2025-07-23 10:23:43.324 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:23:43.325 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:23:43.325 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:23:43.325 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:23:43.326 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.0036ms
2025-07-23 10:23:47.499 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query= - null null
2025-07-23 10:23:47.500 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:23:47.501 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query= - 204 null null 1.3171ms
2025-07-23 10:23:47.503 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query= - null null
2025-07-23 10:23:47.504 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:23:47.505 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:23:47.505 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:23:47.541 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-23 10:23:47.543 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 10:23:47.544 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 10:23:47.551 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-23 10:23:47.552 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:23:47.553 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 47.4982ms
2025-07-23 10:23:47.554 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:23:47.554 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 49.8848 ms
2025-07-23 10:23:47.555 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query= - 200 2005 application/json; charset=utf-8 51.3517ms
2025-07-23 10:24:12.023 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=1 - null null
2025-07-23 10:24:12.024 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:24:12.024 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=1 - 204 null null 0.6323ms
2025-07-23 10:24:12.026 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=1 - null null
2025-07-23 10:24:12.026 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:24:12.027 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:24:12.027 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:24:12.039 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 12.0956ms
2025-07-23 10:24:12.040 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:24:12.041 +05:30 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at HealthcareApi.Services.LuceneDoctorIndexService.<>c__DisplayClass6_0.<Search>b__0(ScoreDoc h) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 80
   at System.Linq.Enumerable.SelectListPartitionIterator`2.Fill(IList`1 source, Span`1 destination, Func`2 func, Int32 sourceIndex)
   at System.Linq.Enumerable.SelectListPartitionIterator`2.ToList()
   at HealthcareApi.Services.LuceneDoctorIndexService.Search(String queryText, Int32 pageNumber, Int32 pageSize, String sortField, String sortOrder) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 74
   at HealthcareApi.Services.DoctorService.SearchDoctorsLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\DoctorService.cs:line 62
   at HealthcareApi.Controllers.DoctorController.SearchLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\DoctorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-07-23 10:24:12.103 +05:30 [ERR] HTTP GET /api/doctor/search-lucene responded 500 in 76.1344 ms
2025-07-23 10:24:12.103 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=1 - 500 null application/json 77.3383ms
2025-07-23 10:24:17.904 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=2 - null null
2025-07-23 10:24:17.906 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:24:17.907 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=2 - 204 null null 2.1183ms
2025-07-23 10:24:17.909 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=2 - null null
2025-07-23 10:24:17.910 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:24:17.910 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:24:17.910 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:24:17.925 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:24:17.926 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 14.9254ms
2025-07-23 10:24:17.926 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:24:17.927 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 16.6918 ms
2025-07-23 10:24:17.927 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=2 - 200 749 application/json; charset=utf-8 18.1357ms
2025-07-23 10:24:23.110 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=3 - null null
2025-07-23 10:24:23.110 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:24:23.111 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=3 - 204 null null 1.2511ms
2025-07-23 10:24:23.113 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=3 - null null
2025-07-23 10:24:23.114 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:24:23.114 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:24:23.115 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:24:23.131 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:24:23.132 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 16.7346ms
2025-07-23 10:24:23.132 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:24:23.132 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 18.0735 ms
2025-07-23 10:24:23.133 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=3 - 200 1076 application/json; charset=utf-8 19.35ms
2025-07-23 10:24:25.828 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=2 - null null
2025-07-23 10:24:25.828 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:24:25.829 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=2 - 204 null null 1.2459ms
2025-07-23 10:24:25.831 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=2 - null null
2025-07-23 10:24:25.831 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:24:25.832 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:24:25.832 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:24:25.878 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:24:25.879 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 46.5424ms
2025-07-23 10:24:25.879 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:24:25.879 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 47.5332 ms
2025-07-23 10:24:25.879 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=2 - 200 751 application/json; charset=utf-8 48.3513ms
2025-07-23 10:25:07.655 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:25:07.656 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:25:07.657 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.1157ms
2025-07-23 10:25:07.660 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:25:07.660 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:25:07.662 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:25:07.662 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:25:07.663 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.9496ms
2025-07-23 10:25:13.610 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query= - null null
2025-07-23 10:25:13.610 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:25:13.611 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query= - 204 null null 0.8527ms
2025-07-23 10:25:13.613 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query= - null null
2025-07-23 10:25:13.614 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:25:13.614 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:25:13.615 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:25:13.639 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-23 10:25:13.645 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-23 10:25:13.646 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:25:13.646 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 30.7464ms
2025-07-23 10:25:13.647 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:25:13.647 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 32.8196 ms
2025-07-23 10:25:13.647 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query= - 200 2005 application/json; charset=utf-8 34.2018ms
2025-07-23 10:25:16.898 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=2 - null null
2025-07-23 10:25:16.899 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:25:16.899 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=2 - 204 null null 0.8591ms
2025-07-23 10:25:16.901 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=2 - null null
2025-07-23 10:25:16.902 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:25:16.902 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:25:16.902 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:25:16.912 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:25:16.913 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 10.1803ms
2025-07-23 10:25:16.913 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:25:16.914 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 11.5387 ms
2025-07-23 10:25:16.914 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=2 - 200 750 application/json; charset=utf-8 12.7038ms
2025-07-23 10:27:14.649 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:27:14.649 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:27:14.650 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8878ms
2025-07-23 10:27:14.654 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:27:14.654 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:27:14.655 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:27:14.655 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:27:14.656 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.2398ms
2025-07-23 10:27:19.580 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query= - null null
2025-07-23 10:27:19.580 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:27:19.581 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query= - 204 null null 1.1497ms
2025-07-23 10:27:19.583 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query= - null null
2025-07-23 10:27:19.584 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:27:19.584 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:27:19.585 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:27:19.605 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-23 10:27:19.610 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-23 10:27:19.611 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:27:19.612 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 26.1172ms
2025-07-23 10:27:19.612 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:27:19.612 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 28.1195 ms
2025-07-23 10:27:19.613 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query= - 200 2005 application/json; charset=utf-8 29.9502ms
2025-07-23 10:27:21.259 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=1 - null null
2025-07-23 10:27:21.259 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:27:21.260 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=1 - 204 null null 0.9945ms
2025-07-23 10:27:21.262 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=1 - null null
2025-07-23 10:27:21.262 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:27:21.263 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:27:21.263 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:27:21.276 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 12.0019ms
2025-07-23 10:27:21.276 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:27:21.278 +05:30 [ERR] Unhandled exception occurred
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at HealthcareApi.Services.LuceneDoctorIndexService.<>c__DisplayClass6_0.<Search>b__0(ScoreDoc h) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 80
   at System.Linq.Enumerable.SelectListPartitionIterator`2.Fill(IList`1 source, Span`1 destination, Func`2 func, Int32 sourceIndex)
   at System.Linq.Enumerable.SelectListPartitionIterator`2.ToList()
   at HealthcareApi.Services.LuceneDoctorIndexService.Search(String queryText, Int32 pageNumber, Int32 pageSize, String sortField, String sortOrder) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\LuceneDoctorIndexService.cs:line 74
   at HealthcareApi.Services.DoctorService.SearchDoctorsLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\DoctorService.cs:line 62
   at HealthcareApi.Controllers.DoctorController.SearchLucene(DoctorQueryParams qp) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\DoctorController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-07-23 10:27:21.281 +05:30 [ERR] HTTP GET /api/doctor/search-lucene responded 500 in 18.3245 ms
2025-07-23 10:27:21.282 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=1 - 500 null application/json 19.6855ms
2025-07-23 10:27:24.757 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=2 - null null
2025-07-23 10:27:24.757 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:27:24.758 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=2 - 204 null null 0.9402ms
2025-07-23 10:27:24.760 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=2 - null null
2025-07-23 10:27:24.760 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:27:24.760 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:27:24.761 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:27:24.772 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:27:24.773 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 11.7155ms
2025-07-23 10:27:24.773 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:27:24.775 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 13.3134 ms
2025-07-23 10:27:24.776 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=2 - 200 751 application/json; charset=utf-8 15.8871ms
2025-07-23 10:27:26.819 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=3 - null null
2025-07-23 10:27:26.819 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:27:26.820 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=3 - 204 null null 1.2308ms
2025-07-23 10:27:26.823 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=3 - null null
2025-07-23 10:27:26.823 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:27:26.824 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:27:26.824 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:27:26.833 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:27:26.834 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 9.8003ms
2025-07-23 10:27:26.834 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:27:26.835 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 11.1035 ms
2025-07-23 10:27:26.835 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=3 - 200 1074 application/json; charset=utf-8 12.0775ms
2025-07-23 10:27:29.142 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=2 - null null
2025-07-23 10:27:29.143 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:27:29.144 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:27:29.144 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:27:29.163 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:27:29.163 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 18.6627ms
2025-07-23 10:27:29.164 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:27:29.164 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 20.6361 ms
2025-07-23 10:27:29.164 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=2 - 200 750 application/json; charset=utf-8 22.168ms
2025-07-23 10:28:15.661 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:28:15.662 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:28:15.662 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.7079ms
2025-07-23 10:28:15.664 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:28:15.665 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:28:15.666 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:28:15.666 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:28:15.666 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.9552ms
2025-07-23 10:28:19.046 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query= - null null
2025-07-23 10:28:19.047 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:28:19.047 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query= - 204 null null 0.6891ms
2025-07-23 10:28:19.049 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query= - null null
2025-07-23 10:28:19.049 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:28:19.050 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:28:19.050 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:28:19.067 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-23 10:28:19.071 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-23 10:28:19.074 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:28:19.075 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 24.7211ms
2025-07-23 10:28:19.075 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:28:19.076 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 26.1234 ms
2025-07-23 10:28:19.076 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query= - 200 2005 application/json; charset=utf-8 27.2393ms
2025-07-23 10:28:20.931 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=3 - null null
2025-07-23 10:28:20.931 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:28:20.933 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search-lucene?query=3 - 204 null null 1.6846ms
2025-07-23 10:28:20.935 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=3 - null null
2025-07-23 10:28:20.935 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:28:20.936 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:28:20.936 +05:30 [INF] Route matched with {action = "SearchLucene", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchLucene(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:28:20.977 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:28:20.977 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi) in 40.9491ms
2025-07-23 10:28:20.978 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.SearchLucene (HealthcareApi)'
2025-07-23 10:28:20.978 +05:30 [INF] HTTP GET /api/doctor/search-lucene responded 200 in 42.2872 ms
2025-07-23 10:28:20.978 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search-lucene?query=3 - 200 1075 application/json; charset=utf-8 43.352ms
2025-07-23 10:28:45.802 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:28:45.802 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:28:45.803 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8682ms
2025-07-23 10:28:45.819 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:28:45.820 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:28:45.821 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:28:45.822 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:28:45.823 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 4.3675ms
2025-07-23 10:28:48.324 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization= - null null
2025-07-23 10:28:48.324 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:28:48.324 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization= - 204 null null 0.4875ms
2025-07-23 10:28:48.326 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization= - null null
2025-07-23 10:28:48.327 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:28:48.327 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:28:48.331 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:28:48.337 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-23 10:28:48.338 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-23 10:28:48.340 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:28:48.340 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 8.8531ms
2025-07-23 10:28:48.340 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:28:48.341 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 13.9644 ms
2025-07-23 10:28:48.342 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization= - 200 2005 application/json; charset=utf-8 15.7072ms
2025-07-23 10:28:50.217 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=3 - null null
2025-07-23 10:28:50.218 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:28:50.218 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=3 - 204 null null 0.4949ms
2025-07-23 10:28:50.219 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=3 - null null
2025-07-23 10:28:50.220 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:28:50.220 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:28:50.221 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:28:50.236 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:28:50.238 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 10:28:50.239 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 10:28:50.250 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:28:50.251 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:28:50.251 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 30.1912ms
2025-07-23 10:28:50.252 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:28:50.252 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 31.6221 ms
2025-07-23 10:28:50.252 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=3 - 200 70 application/json; charset=utf-8 32.5727ms
2025-07-23 10:28:52.037 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=4 - null null
2025-07-23 10:28:52.037 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:28:52.037 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=4 - 204 null null 0.8949ms
2025-07-23 10:28:52.039 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=4 - null null
2025-07-23 10:28:52.040 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:28:52.040 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:28:52.040 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:28:52.044 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:28:52.046 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:28:52.046 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:28:52.047 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 5.9213ms
2025-07-23 10:28:52.047 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:28:52.047 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 6.9550 ms
2025-07-23 10:28:52.047 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=4 - 200 70 application/json; charset=utf-8 8.1234ms
2025-07-23 10:29:40.667 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=3 - null null
2025-07-23 10:29:40.668 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:29:40.669 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=3 - 204 null null 1.9195ms
2025-07-23 10:29:40.671 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=3 - null null
2025-07-23 10:29:40.672 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:29:40.672 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:29:40.673 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:29:40.691 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:29:40.697 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:29:40.698 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:29:40.698 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 25.139ms
2025-07-23 10:29:40.698 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:29:40.699 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 26.8718 ms
2025-07-23 10:29:40.699 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=3 - 200 70 application/json; charset=utf-8 28.0635ms
2025-07-23 10:29:44.323 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=1 - null null
2025-07-23 10:29:44.324 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:29:44.325 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=1 - 204 null null 1.2081ms
2025-07-23 10:29:44.327 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=1 - null null
2025-07-23 10:29:44.327 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:29:44.328 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:29:44.328 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:29:44.332 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:29:44.333 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:29:44.334 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:29:44.334 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 5.4073ms
2025-07-23 10:29:44.335 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:29:44.335 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 7.5564 ms
2025-07-23 10:29:44.336 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=1 - 200 70 application/json; charset=utf-8 9.5077ms
2025-07-23 10:29:46.227 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=2 - null null
2025-07-23 10:29:46.227 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:29:46.228 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=2 - 204 null null 0.9815ms
2025-07-23 10:29:46.231 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=2 - null null
2025-07-23 10:29:46.232 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:29:46.233 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:29:46.234 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:29:46.237 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:29:46.239 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:29:46.240 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:29:46.241 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 6.8882ms
2025-07-23 10:29:46.241 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:29:46.242 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 8.8161 ms
2025-07-23 10:29:46.242 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=2 - 200 70 application/json; charset=utf-8 10.8421ms
2025-07-23 10:29:47.895 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=3 - null null
2025-07-23 10:29:47.895 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:29:47.896 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=3 - 204 null null 1.506ms
2025-07-23 10:29:47.898 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=3 - null null
2025-07-23 10:29:47.899 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:29:47.899 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:29:47.900 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:29:47.902 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:29:47.904 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:29:47.904 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:29:47.905 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 5.1123ms
2025-07-23 10:29:47.906 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:29:47.906 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 7.1942 ms
2025-07-23 10:29:47.907 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=3 - 200 70 application/json; charset=utf-8 8.4219ms
2025-07-23 10:29:50.172 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=4 - null null
2025-07-23 10:29:50.172 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:29:50.172 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=4 - 204 null null 0.6907ms
2025-07-23 10:29:50.175 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=4 - null null
2025-07-23 10:29:50.176 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:29:50.176 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:29:50.177 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:29:50.181 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:29:50.183 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:29:50.184 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:29:50.185 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 8.2768ms
2025-07-23 10:29:50.186 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:29:50.186 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 10.3912 ms
2025-07-23 10:29:50.187 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=4 - 200 70 application/json; charset=utf-8 11.6371ms
2025-07-23 10:29:52.488 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=5 - null null
2025-07-23 10:29:52.488 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:29:52.489 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=5 - 204 null null 1.0475ms
2025-07-23 10:29:52.491 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=5 - null null
2025-07-23 10:29:52.491 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:29:52.492 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:29:52.492 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:29:52.494 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:29:52.497 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:29:52.498 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:29:52.500 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 7.4836ms
2025-07-23 10:29:52.501 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:29:52.502 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 10.6463 ms
2025-07-23 10:29:52.503 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=5 - 200 70 application/json; charset=utf-8 12.188ms
2025-07-23 10:31:40.676 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=1 - null null
2025-07-23 10:31:40.676 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:31:40.676 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=1 - 204 null null 0.8061ms
2025-07-23 10:31:40.679 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=1 - null null
2025-07-23 10:31:40.679 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:31:40.679 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:31:40.680 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:31:40.700 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:31:40.705 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:31:40.705 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:31:40.706 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 26.3963ms
2025-07-23 10:31:40.707 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:31:40.707 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 27.8191 ms
2025-07-23 10:31:40.707 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=1 - 200 70 application/json; charset=utf-8 28.7652ms
2025-07-23 10:33:18.539 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:33:18.540 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:18.540 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.1484ms
2025-07-23 10:33:18.542 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:33:18.542 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:18.543 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:33:18.544 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:33:18.545 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.9047ms
2025-07-23 10:33:33.009 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 10:33:33.009 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:33.010 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 10:33:33.011 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:33:33.012 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 3.1798ms
2025-07-23 10:33:38.793 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 10:33:38.794 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:38.794 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7436ms
2025-07-23 10:33:38.799 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 10:33:38.800 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:38.802 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 10:33:38.803 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 10:33:38.831 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 10:33:39.410 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 10:33:39.410 +05:30 [INF] Role: Admin
2025-07-23 10:33:39.410 +05:30 [INF] Role: Admin
2025-07-23 10:33:39.411 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 10:33:39.422 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 10:33:39.423 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 10:33:39.424 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 620.016ms
2025-07-23 10:33:39.424 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 10:33:39.424 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 622.6851 ms
2025-07-23 10:33:39.425 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 625.4888ms
2025-07-23 10:33:39.429 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 10:33:39.429 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:39.430 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 1.0953ms
2025-07-23 10:33:39.433 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 10:33:39.434 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:39.435 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 10:33:39.435 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 10:33:39.438 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 10:33:39.443 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 10:33:39.449 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 10:33:39.450 +05:30 [INF] Found 1 users among search
2025-07-23 10:33:39.450 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:33:39.451 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 16.0018ms
2025-07-23 10:33:39.452 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 10:33:39.454 +05:30 [INF] HTTP GET /api/user/search responded 200 in 19.3043 ms
2025-07-23 10:33:39.455 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 21.8237ms
2025-07-23 10:33:39.481 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 10:33:39.483 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:39.483 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.2863ms
2025-07-23 10:33:39.488 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 10:33:39.488 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:39.490 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 10:33:39.491 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 10:33:39.492 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 10:33:39.499 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 10:33:39.504 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:33:39.505 +05:30 [INF] Found 1 users among search
2025-07-23 10:33:39.506 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:33:39.507 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 15.6784ms
2025-07-23 10:33:39.508 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 10:33:39.508 +05:30 [INF] HTTP GET /api/user/search responded 200 in 17.4358 ms
2025-07-23 10:33:39.508 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 20.6039ms
2025-07-23 10:33:40.549 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:33:40.549 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:40.550 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.1398ms
2025-07-23 10:33:40.552 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:33:40.553 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:40.555 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 10:33:40.556 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 10:33:40.573 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 10:33:40.575 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:33:40.575 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 19.183ms
2025-07-23 10:33:40.576 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 10:33:40.576 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 20.8768 ms
2025-07-23 10:33:40.577 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 24.6103ms
2025-07-23 10:33:43.425 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization= - null null
2025-07-23 10:33:43.425 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:43.425 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization= - 204 null null 0.5288ms
2025-07-23 10:33:43.428 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization= - null null
2025-07-23 10:33:43.428 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:43.428 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:33:43.429 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:33:43.437 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-23 10:33:43.443 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-23 10:33:43.444 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:33:43.447 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 17.7513ms
2025-07-23 10:33:43.447 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:33:43.448 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 19.7592 ms
2025-07-23 10:33:43.449 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization= - 200 2005 application/json; charset=utf-8 20.8878ms
2025-07-23 10:33:46.204 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:33:46.204 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:46.204 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 0.6871ms
2025-07-23 10:33:46.206 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:33:46.206 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:46.207 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:33:46.207 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:33:46.210 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:33:46.215 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:33:46.216 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:33:46.217 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 9.5417ms
2025-07-23 10:33:46.218 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:33:46.218 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 11.0512 ms
2025-07-23 10:33:46.218 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 12.4205ms
2025-07-23 10:33:50.318 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 10:33:50.318 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:50.318 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - 204 null null 0.6629ms
2025-07-23 10:33:50.321 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 10:33:50.322 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:33:50.323 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:33:50.323 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:33:50.325 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:33:50.327 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:33:50.327 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:33:50.328 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 4.4747ms
2025-07-23 10:33:50.328 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:33:50.328 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 5.8138 ms
2025-07-23 10:33:50.329 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - 200 395 application/json; charset=utf-8 7.75ms
2025-07-23 10:34:47.437 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:34:47.438 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:34:47.438 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 1.2463ms
2025-07-23 10:34:47.441 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 10:34:47.442 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:34:47.442 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - 204 null null 0.8996ms
2025-07-23 10:34:47.442 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:34:47.443 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:34:47.443 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:34:47.443 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:34:47.445 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 10:34:47.445 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:34:47.446 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:34:47.446 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:34:47.462 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:34:47.463 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:34:47.467 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:34:47.467 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:34:47.468 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:34:47.468 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:34:47.468 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 21.9734ms
2025-07-23 10:34:47.469 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:34:47.469 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 24.9944ms
2025-07-23 10:34:47.469 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 23.2941 ms
2025-07-23 10:34:47.469 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:34:47.469 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - 200 395 application/json; charset=utf-8 24.6567ms
2025-07-23 10:34:47.470 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 26.5036 ms
2025-07-23 10:34:47.470 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 27.8689ms
2025-07-23 10:34:50.624 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 10:34:50.624 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 10:34:50.624 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:34:50.625 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:34:50.625 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 204 null null 1.0938ms
2025-07-23 10:34:50.626 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:34:50.626 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:34:50.627 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 10:34:50.627 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:34:50.628 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:34:50.628 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:34:50.628 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:34:50.630 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:34:50.630 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:34:50.631 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:34:50.631 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 5.0117ms
2025-07-23 10:34:50.632 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:34:50.632 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 6.6550 ms
2025-07-23 10:34:50.633 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - 200 395 application/json; charset=utf-8 9.0511ms
2025-07-23 10:34:50.633 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:34:50.634 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:34:50.635 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 6.4189ms
2025-07-23 10:34:50.635 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:34:50.636 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 8.0939 ms
2025-07-23 10:34:50.636 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 200 401 application/json; charset=utf-8 9.6407ms
2025-07-23 10:34:54.109 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Neurology - null null
2025-07-23 10:34:54.110 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:34:54.110 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 10:34:54.110 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Neurology - 204 null null 0.8465ms
2025-07-23 10:34:54.110 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:34:54.111 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:34:54.112 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:34:54.113 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Neurology - null null
2025-07-23 10:34:54.113 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:34:54.113 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:34:54.114 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:34:54.114 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:34:54.116 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:34:54.116 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:34:54.117 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:34:54.117 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 4.8826ms
2025-07-23 10:34:54.117 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:34:54.118 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 6.2914 ms
2025-07-23 10:34:54.118 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:34:54.118 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 200 401 application/json; charset=utf-8 7.9746ms
2025-07-23 10:34:54.119 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:34:54.121 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 6.6315ms
2025-07-23 10:34:54.121 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:34:54.122 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 8.5295 ms
2025-07-23 10:34:54.123 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Neurology - 200 388 application/json; charset=utf-8 10.5086ms
2025-07-23 10:35:36.197 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:35:36.198 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:35:36.198 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.783ms
2025-07-23 10:35:36.230 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:35:36.231 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:35:36.232 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:35:36.259 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:35:36.260 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 29.229ms
2025-07-23 10:35:39.006 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization= - null null
2025-07-23 10:35:39.006 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:35:39.007 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization= - 204 null null 1.2827ms
2025-07-23 10:35:39.010 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:35:39.011 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:35:39.011 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization= - null null
2025-07-23 10:35:39.011 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 1.294ms
2025-07-23 10:35:39.012 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:35:39.013 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:35:39.013 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:35:39.018 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:35:39.019 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:35:39.020 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:35:39.021 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:35:39.022 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-23 10:35:39.024 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:35:39.026 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:35:39.028 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:35:39.028 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-23 10:35:39.029 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 7.029ms
2025-07-23 10:35:39.029 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:35:39.029 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:35:39.029 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 8.8630 ms
2025-07-23 10:35:39.030 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 11.4226ms
2025-07-23 10:35:39.030 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 15.8927ms
2025-07-23 10:35:39.030 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:35:39.031 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 18.2434 ms
2025-07-23 10:35:39.031 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization= - 200 2005 application/json; charset=utf-8 19.8824ms
2025-07-23 10:35:45.370 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:35:45.370 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 10:35:45.370 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:35:45.371 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:35:45.372 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 2.3019ms
2025-07-23 10:35:45.372 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - 204 null null 1.9251ms
2025-07-23 10:35:45.375 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:35:45.376 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 10:35:45.376 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:35:45.376 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:35:45.376 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:35:45.377 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:35:45.377 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:35:45.377 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:35:45.392 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:35:45.392 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:35:45.397 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:35:45.397 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:35:45.397 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:35:45.397 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:35:45.398 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 20.5387ms
2025-07-23 10:35:45.398 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 20.9802ms
2025-07-23 10:35:45.398 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:35:45.398 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:35:45.398 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 21.8181 ms
2025-07-23 10:35:45.398 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 22.1951 ms
2025-07-23 10:35:45.399 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - 200 395 application/json; charset=utf-8 23.0089ms
2025-07-23 10:35:45.399 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 23.4052ms
2025-07-23 10:36:10.377 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:36:10.378 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:10.379 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 2.802ms
2025-07-23 10:36:10.396 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:36:10.396 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:10.406 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:36:10.407 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:36:10.409 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 12.6821ms
2025-07-23 10:36:12.757 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:36:12.758 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:12.758 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 1.1458ms
2025-07-23 10:36:12.761 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:36:12.761 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:12.761 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:36:12.761 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:36:12.779 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:36:12.784 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:36:12.785 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:36:12.785 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 22.9999ms
2025-07-23 10:36:12.785 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:36:12.785 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 24.2652 ms
2025-07-23 10:36:12.786 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 25.1468ms
2025-07-23 10:36:15.495 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 10:36:15.495 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:15.495 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - 204 null null 0.8017ms
2025-07-23 10:36:15.498 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 10:36:15.498 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:15.499 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:36:15.499 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:36:15.501 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:36:15.503 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:36:15.503 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:36:15.506 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 6.3134ms
2025-07-23 10:36:15.506 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:36:15.507 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 8.4814 ms
2025-07-23 10:36:15.509 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - 200 395 application/json; charset=utf-8 10.9533ms
2025-07-23 10:36:18.314 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 10:36:18.315 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:18.315 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 10:36:18.316 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:36:18.317 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 2.51ms
2025-07-23 10:36:19.100 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 10:36:19.100 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:19.100 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.7328ms
2025-07-23 10:36:19.102 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 10:36:19.102 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:19.103 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 10:36:19.103 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 10:36:19.114 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 10:36:20.123 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 10:36:20.124 +05:30 [INF] Role: Admin
2025-07-23 10:36:20.124 +05:30 [INF] Role: Admin
2025-07-23 10:36:20.125 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 10:36:20.132 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 10:36:20.133 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 10:36:20.134 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1030.4477ms
2025-07-23 10:36:20.134 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 10:36:20.134 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1031.7099 ms
2025-07-23 10:36:20.135 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 1033.1428ms
2025-07-23 10:36:20.143 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 10:36:20.144 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:20.144 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.9882ms
2025-07-23 10:36:20.147 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 10:36:20.147 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:20.148 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 10:36:20.149 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 10:36:20.151 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 10:36:20.156 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 10:36:20.170 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 10:36:20.173 +05:30 [INF] Found 1 users among search
2025-07-23 10:36:20.173 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:36:20.175 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 25.2049ms
2025-07-23 10:36:20.176 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 10:36:20.176 +05:30 [INF] HTTP GET /api/user/search responded 200 in 28.2143 ms
2025-07-23 10:36:20.177 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 29.7045ms
2025-07-23 10:36:20.199 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 10:36:20.201 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:20.202 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 3.6841ms
2025-07-23 10:36:20.209 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 10:36:20.210 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:20.211 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 10:36:20.211 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 10:36:20.212 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 10:36:20.225 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 10:36:20.229 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:36:20.230 +05:30 [INF] Found 1 users among search
2025-07-23 10:36:20.231 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:36:20.232 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 20.2993ms
2025-07-23 10:36:20.234 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 10:36:20.235 +05:30 [INF] HTTP GET /api/user/search responded 200 in 24.0433 ms
2025-07-23 10:36:20.236 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 26.7257ms
2025-07-23 10:36:21.196 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:36:21.196 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:21.197 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8826ms
2025-07-23 10:36:21.199 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:36:21.199 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:21.200 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 10:36:21.201 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 10:36:21.219 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 10:36:21.220 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:36:21.220 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 19.1486ms
2025-07-23 10:36:21.220 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 10:36:21.221 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 20.4894 ms
2025-07-23 10:36:21.221 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 22.3982ms
2025-07-23 10:36:22.779 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 10:36:22.780 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:22.780 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - 204 null null 0.8568ms
2025-07-23 10:36:22.782 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 10:36:22.783 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:22.784 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:36:22.784 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:36:22.787 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:36:22.789 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:36:22.790 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:36:22.790 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 5.9761ms
2025-07-23 10:36:22.791 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:36:22.791 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 7.5161 ms
2025-07-23 10:36:22.791 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - 200 395 application/json; charset=utf-8 9.223ms
2025-07-23 10:36:25.118 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:36:25.118 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:25.119 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 0.824ms
2025-07-23 10:36:25.120 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:36:25.121 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:36:25.121 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:36:25.122 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:36:25.123 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:36:25.127 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:36:25.128 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:36:25.130 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 7.6407ms
2025-07-23 10:36:25.131 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:36:25.131 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 9.6804 ms
2025-07-23 10:36:25.131 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 10.8473ms
2025-07-23 10:39:05.371 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:39:05.372 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:39:05.374 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 3.4988ms
2025-07-23 10:39:05.394 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:39:05.394 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:39:05.395 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:39:05.395 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:39:05.395 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.2108ms
2025-07-23 10:39:07.781 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 10:39:07.781 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:39:07.781 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 10:39:07.782 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:39:07.782 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.1691ms
2025-07-23 10:39:08.775 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 10:39:08.776 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:39:08.776 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.8047ms
2025-07-23 10:39:08.778 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 10:39:08.778 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:39:08.779 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 10:39:08.779 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 10:39:08.794 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 10:39:09.342 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 10:39:09.342 +05:30 [INF] Role: Admin
2025-07-23 10:39:09.343 +05:30 [INF] Role: Admin
2025-07-23 10:39:09.343 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 10:39:09.350 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 10:39:09.351 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 10:39:09.352 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 572.8244ms
2025-07-23 10:39:09.352 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 10:39:09.352 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 574.1424 ms
2025-07-23 10:39:09.353 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 574.9464ms
2025-07-23 10:39:09.358 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 10:39:09.359 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:39:09.360 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 1.163ms
2025-07-23 10:39:09.362 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 10:39:09.362 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:39:09.363 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 10:39:09.363 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 10:39:09.364 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 10:39:09.366 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 10:39:09.373 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 10:39:09.375 +05:30 [INF] Found 1 users among search
2025-07-23 10:39:09.376 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:39:09.377 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 13.4943ms
2025-07-23 10:39:09.377 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 10:39:09.378 +05:30 [INF] HTTP GET /api/user/search responded 200 in 15.0754 ms
2025-07-23 10:39:09.378 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 16.76ms
2025-07-23 10:39:09.399 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 10:39:09.400 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:39:09.401 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 2.1776ms
2025-07-23 10:39:09.408 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 10:39:09.409 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:39:09.409 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 10:39:09.410 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 10:39:09.411 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 10:39:09.413 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 10:39:09.416 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:39:09.416 +05:30 [INF] Found 1 users among search
2025-07-23 10:39:09.417 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:39:09.417 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 7.3707ms
2025-07-23 10:39:09.418 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 10:39:09.418 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.5446 ms
2025-07-23 10:39:09.418 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 9.8611ms
2025-07-23 10:39:11.229 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:39:11.229 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:39:11.229 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.4694ms
2025-07-23 10:39:11.231 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:39:11.232 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:39:11.233 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 10:39:11.233 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 10:39:11.252 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 10:39:11.253 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:39:11.253 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 19.4762ms
2025-07-23 10:39:11.254 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 10:39:11.255 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 22.9655 ms
2025-07-23 10:39:11.257 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 25.4856ms
2025-07-23 10:39:13.822 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 10:39:13.822 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:39:13.823 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - 204 null null 0.9247ms
2025-07-23 10:39:13.825 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 10:39:13.825 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:39:13.826 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:39:13.826 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:39:13.833 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:39:13.836 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:39:13.837 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:39:13.838 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 12.0466ms
2025-07-23 10:39:13.839 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:39:13.840 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 14.5387 ms
2025-07-23 10:39:13.841 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - 200 395 application/json; charset=utf-8 15.9272ms
2025-07-23 10:39:49.621 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:39:49.621 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:39:49.621 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.4459ms
2025-07-23 10:39:49.625 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:39:49.626 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:39:49.626 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:39:49.627 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:39:49.627 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.3045ms
2025-07-23 10:40:12.834 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:40:12.834 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:40:12.835 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.9717ms
2025-07-23 10:40:12.837 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:40:12.837 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:40:12.838 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:40:12.838 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:40:12.839 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.6226ms
2025-07-23 10:47:45.230 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:47:45.231 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:47:45.231 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8451ms
2025-07-23 10:47:45.234 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:47:45.234 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:47:45.235 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:47:45.235 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:47:45.236 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.8502ms
2025-07-23 10:48:03.182 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:48:03.183 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:48:03.183 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 0.4483ms
2025-07-23 10:48:03.185 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:48:03.185 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:48:03.186 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:48:03.186 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:48:03.213 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:48:03.218 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:48:03.219 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:48:03.219 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 32.7458ms
2025-07-23 10:48:03.220 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:48:03.220 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 34.3966 ms
2025-07-23 10:48:03.221 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 35.5584ms
2025-07-23 10:50:13.294 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:50:13.295 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:50:13.295 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.5668ms
2025-07-23 10:50:13.298 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:50:13.298 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:50:13.299 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:50:13.299 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:50:13.300 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.4034ms
2025-07-23 10:52:57.141 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:52:57.142 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:52:57.142 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 1.3402ms
2025-07-23 10:52:57.145 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:52:57.145 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:52:57.146 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:52:57.146 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:52:57.165 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:52:57.170 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:52:57.170 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:52:57.171 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 24.3727ms
2025-07-23 10:52:57.171 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:52:57.171 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 25.6492 ms
2025-07-23 10:52:57.172 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 26.6782ms
2025-07-23 10:56:05.231 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:56:05.232 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:56:05.232 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.7566ms
2025-07-23 10:56:05.234 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:56:05.235 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:56:05.235 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:56:05.236 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:56:05.237 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.4387ms
2025-07-23 10:56:41.657 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:56:41.658 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:56:41.658 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.0772ms
2025-07-23 10:56:41.662 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:56:41.662 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:56:41.663 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:56:41.663 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:56:41.663 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.824ms
2025-07-23 10:56:44.376 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:56:44.376 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:56:44.376 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 0.7147ms
2025-07-23 10:56:44.379 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 10:56:44.380 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:56:44.380 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:56:44.380 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:56:44.403 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:56:44.408 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:56:44.409 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:56:44.410 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 28.9579ms
2025-07-23 10:56:44.410 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:56:44.410 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 30.1351 ms
2025-07-23 10:56:44.410 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 31.1194ms
2025-07-23 10:58:35.664 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 10:58:35.665 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:58:35.666 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.403ms
2025-07-23 10:58:35.668 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 10:58:35.668 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:58:35.669 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 10:58:35.669 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 10:58:35.669 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.3825ms
2025-07-23 10:58:38.115 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 10:58:38.116 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:58:38.116 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - 204 null null 0.8854ms
2025-07-23 10:58:38.121 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 10:58:38.121 +05:30 [INF] CORS policy execution successful.
2025-07-23 10:58:38.122 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:58:38.123 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 10:58:38.143 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 10:58:38.149 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 10:58:38.149 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 10:58:38.150 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 26.5354ms
2025-07-23 10:58:38.150 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 10:58:38.150 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 28.3537 ms
2025-07-23 10:58:38.151 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - 200 395 application/json; charset=utf-8 29.9227ms
2025-07-23 11:00:25.266 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 11:00:25.267 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:00:25.267 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.0964ms
2025-07-23 11:00:25.270 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 11:00:25.272 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:00:25.272 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 11:00:25.272 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 11:00:25.273 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.4147ms
2025-07-23 11:00:26.964 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 11:00:26.965 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:00:26.965 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 11:00:26.966 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 11:00:26.966 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.9426ms
2025-07-23 11:23:15.983 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 11:23:15.984 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:23:15.984 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8795ms
2025-07-23 11:23:15.998 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 11:23:15.998 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:23:15.999 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 11:23:15.999 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 11:23:15.999 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.7457ms
2025-07-23 11:24:10.630 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 11:24:10.630 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:24:10.630 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.7893ms
2025-07-23 11:24:10.632 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 11:24:10.632 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:24:10.634 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 11:24:10.634 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 11:24:10.634 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.7646ms
2025-07-23 11:27:01.620 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 11:27:01.621 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:27:01.621 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.7338ms
2025-07-23 11:27:01.623 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 11:27:01.623 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:27:01.624 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 11:27:01.624 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 11:27:01.625 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.5487ms
2025-07-23 11:27:38.609 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 11:27:38.611 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:27:38.611 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 2.6911ms
2025-07-23 11:27:38.614 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 11:27:38.615 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:27:38.615 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 11:27:38.615 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 11:27:38.615 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.2389ms
2025-07-23 11:27:44.991 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 11:27:44.991 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:27:44.992 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 11:27:44.993 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 11:27:44.993 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 2.2492ms
2025-07-23 11:27:49.706 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 11:27:49.706 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:27:49.707 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.4976ms
2025-07-23 11:27:49.708 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 11:27:49.709 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:27:49.709 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 11:27:49.709 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 11:27:49.733 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 11:27:50.730 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 11:27:50.730 +05:30 [INF] Role: Admin
2025-07-23 11:27:50.730 +05:30 [INF] Role: Admin
2025-07-23 11:27:50.731 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 11:27:50.740 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 11:27:50.740 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 11:27:50.741 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1031.0276ms
2025-07-23 11:27:50.741 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 11:27:50.741 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1032.0668 ms
2025-07-23 11:27:50.741 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 1033.0961ms
2025-07-23 11:27:50.747 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 11:27:50.748 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:27:50.748 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6516ms
2025-07-23 11:27:50.750 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 11:27:50.751 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:27:50.752 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 11:27:50.753 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 11:27:50.754 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 11:27:50.756 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 11:27:50.759 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 11:27:50.760 +05:30 [INF] Found 1 users among search
2025-07-23 11:27:50.761 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 11:27:50.766 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.6ms
2025-07-23 11:27:50.774 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 11:27:50.775 +05:30 [INF] HTTP GET /api/user/search responded 200 in 23.0339 ms
2025-07-23 11:27:50.777 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 26.354ms
2025-07-23 11:27:50.807 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 11:27:50.808 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:27:50.809 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 1.6055ms
2025-07-23 11:27:50.813 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 11:27:50.813 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:27:50.815 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 11:27:50.816 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 11:27:50.821 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 11:27:50.830 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 11:27:50.840 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 11:27:50.840 +05:30 [INF] Found 1 users among search
2025-07-23 11:27:50.841 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 11:27:50.841 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 20.4165ms
2025-07-23 11:27:50.842 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 11:27:50.842 +05:30 [INF] HTTP GET /api/user/search responded 200 in 27.8173 ms
2025-07-23 11:27:50.842 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 29.1609ms
2025-07-23 11:27:55.379 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 11:27:55.379 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:27:55.379 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.7915ms
2025-07-23 11:27:55.381 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 11:27:55.382 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:27:55.384 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 11:27:55.386 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 11:27:55.404 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 11:27:55.405 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 11:27:55.406 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 19.6881ms
2025-07-23 11:27:55.406 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 11:27:55.407 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 22.7521 ms
2025-07-23 11:27:55.407 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 25.7089ms
2025-07-23 11:27:57.723 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 11:27:57.723 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:27:57.724 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - 204 null null 0.8773ms
2025-07-23 11:27:57.726 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 11:27:57.726 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:27:57.727 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:27:57.727 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 11:27:57.736 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 11:27:57.741 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 11:27:57.741 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 11:27:57.742 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 14.6469ms
2025-07-23 11:27:57.742 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:27:57.743 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 16.3701 ms
2025-07-23 11:27:57.744 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - 200 395 application/json; charset=utf-8 17.5727ms
2025-07-23 11:32:47.477 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 11:32:47.479 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:32:47.481 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 3.9668ms
2025-07-23 11:32:47.496 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 11:32:47.497 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:32:47.498 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 11:32:47.498 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 11:32:47.499 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.3662ms
2025-07-23 11:32:50.709 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 11:32:50.709 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:32:50.709 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 11:32:50.709 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 11:32:50.710 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.9891ms
2025-07-23 11:33:09.222 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 11:33:09.223 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:33:09.223 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5572ms
2025-07-23 11:33:09.225 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 11:33:09.225 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:33:09.225 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 11:33:09.226 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 11:33:09.240 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 11:33:10.210 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 11:33:10.210 +05:30 [INF] Role: Admin
2025-07-23 11:33:10.210 +05:30 [INF] Role: Admin
2025-07-23 11:33:10.210 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 11:33:10.218 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 11:33:10.219 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 11:33:10.219 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 993.175ms
2025-07-23 11:33:10.219 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 11:33:10.220 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 994.2864 ms
2025-07-23 11:33:10.220 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 995.5207ms
2025-07-23 11:33:10.227 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 11:33:10.227 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:33:10.227 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.6592ms
2025-07-23 11:33:10.230 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 11:33:10.230 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:33:10.231 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 11:33:10.231 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 11:33:10.232 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 11:33:10.235 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 11:33:10.241 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 11:33:10.243 +05:30 [INF] Found 1 users among search
2025-07-23 11:33:10.243 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 11:33:10.244 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 12.5363ms
2025-07-23 11:33:10.245 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 11:33:10.246 +05:30 [INF] HTTP GET /api/user/search responded 200 in 15.3213 ms
2025-07-23 11:33:10.247 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 16.8896ms
2025-07-23 11:33:10.281 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 11:33:10.281 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:33:10.281 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.6961ms
2025-07-23 11:33:10.284 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 11:33:10.285 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:33:10.287 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 11:33:10.288 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 11:33:10.289 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 11:33:10.292 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 11:33:10.293 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 11:33:10.294 +05:30 [INF] Found 1 users among search
2025-07-23 11:33:10.294 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 11:33:10.295 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.4684ms
2025-07-23 11:33:10.295 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 11:33:10.295 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.3977 ms
2025-07-23 11:33:10.295 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 10.8128ms
2025-07-23 11:33:11.376 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 11:33:11.376 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:33:11.377 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.5484ms
2025-07-23 11:33:11.379 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 11:33:11.380 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:33:11.381 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 11:33:11.381 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 11:33:11.398 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 11:33:11.398 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 11:33:11.399 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 16.9234ms
2025-07-23 11:33:11.399 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 11:33:11.399 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 18.3042 ms
2025-07-23 11:33:11.400 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 20.4736ms
2025-07-23 11:33:14.339 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 11:33:14.340 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:33:14.340 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 0.9983ms
2025-07-23 11:33:14.343 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 11:33:14.343 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:33:14.344 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:33:14.344 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 11:33:14.352 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 11:33:14.358 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 11:33:14.359 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 11:33:14.359 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 14.4715ms
2025-07-23 11:33:14.360 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:33:14.360 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 16.1442 ms
2025-07-23 11:33:14.360 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 17.7036ms
2025-07-23 11:35:01.975 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 11:35:01.976 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:35:01.976 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.5119ms
2025-07-23 11:35:01.979 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 11:35:01.979 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:35:01.980 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 11:35:01.980 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 11:35:01.981 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.2027ms
2025-07-23 11:35:06.274 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 11:35:06.274 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:35:06.275 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 1.0415ms
2025-07-23 11:35:06.277 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 11:35:06.278 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:35:06.278 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:35:06.279 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 11:35:06.288 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 11:35:06.293 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 11:35:06.293 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 11:35:06.294 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 14.6576ms
2025-07-23 11:35:06.294 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:35:06.295 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 16.9661 ms
2025-07-23 11:35:06.296 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 18.4236ms
2025-07-23 11:38:41.916 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 11:38:41.916 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:38:41.917 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.6492ms
2025-07-23 11:38:41.920 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 11:38:41.921 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:38:41.921 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 11:38:41.922 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 11:38:41.923 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.8227ms
2025-07-23 11:38:58.186 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 11:38:58.187 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:38:58.187 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 0.5799ms
2025-07-23 11:38:58.189 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 11:38:58.190 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:38:58.190 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:38:58.191 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 11:38:58.206 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 11:38:58.210 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 11:38:58.211 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 11:38:58.211 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 20.2411ms
2025-07-23 11:38:58.212 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:38:58.213 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 22.8691 ms
2025-07-23 11:38:58.213 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 24.0707ms
2025-07-23 11:39:51.884 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 11:39:51.885 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:39:51.885 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.1522ms
2025-07-23 11:39:51.911 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 11:39:51.911 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:39:51.912 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 11:39:51.913 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 11:39:51.915 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.065ms
2025-07-23 11:39:55.114 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 11:39:55.115 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:39:55.115 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 0.8559ms
2025-07-23 11:39:55.117 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 11:39:55.118 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:39:55.118 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:39:55.118 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 11:39:55.127 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 11:39:55.133 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 11:39:55.133 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 11:39:55.134 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 15.0482ms
2025-07-23 11:39:55.134 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:39:55.134 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 16.2042 ms
2025-07-23 11:39:55.134 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 17.0823ms
2025-07-23 11:44:08.917 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 11:44:08.918 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:44:08.918 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.3385ms
2025-07-23 11:44:08.921 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 11:44:08.921 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:44:08.922 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 11:44:08.922 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 11:44:08.922 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.0569ms
2025-07-23 11:44:38.891 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 11:44:38.891 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:44:38.891 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - 204 null null 0.8405ms
2025-07-23 11:44:38.894 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 11:44:38.894 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:44:38.894 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:44:38.895 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 11:44:38.913 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 11:44:38.917 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 11:44:38.918 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 11:44:38.919 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 24.2713ms
2025-07-23 11:44:38.920 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:44:38.921 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 26.2738 ms
2025-07-23 11:44:38.921 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - 200 395 application/json; charset=utf-8 27.1853ms
2025-07-23 11:46:03.921 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 11:46:03.921 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:46:03.922 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8269ms
2025-07-23 11:46:03.924 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 11:46:03.925 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:46:03.925 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 11:46:03.925 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 11:46:03.926 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.9494ms
2025-07-23 11:46:08.659 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 11:46:08.659 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:46:08.660 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 1.0791ms
2025-07-23 11:46:08.662 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 11:46:08.663 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:46:08.663 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:46:08.664 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 11:46:08.682 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 11:46:08.687 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 11:46:08.688 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 11:46:08.688 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 24.2727ms
2025-07-23 11:46:08.688 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:46:08.689 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 25.4183 ms
2025-07-23 11:46:08.689 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 26.9233ms
2025-07-23 11:59:22.323 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 11:59:22.324 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:59:22.324 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.2542ms
2025-07-23 11:59:22.337 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 11:59:22.338 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:59:22.338 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 11:59:22.339 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 11:59:22.339 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.332ms
2025-07-23 11:59:26.092 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 11:59:26.093 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:59:26.093 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 1.0908ms
2025-07-23 11:59:26.095 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 11:59:26.095 +05:30 [INF] CORS policy execution successful.
2025-07-23 11:59:26.096 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:59:26.096 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 11:59:26.124 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 11:59:26.129 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 11:59:26.130 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 11:59:26.130 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 34.2583ms
2025-07-23 11:59:26.131 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 11:59:26.132 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 35.8797 ms
2025-07-23 11:59:26.132 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 36.7952ms
2025-07-23 12:03:39.123 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 12:03:39.124 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:03:39.124 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.6298ms
2025-07-23 12:03:39.126 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 12:03:39.126 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:03:39.126 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 12:03:39.126 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 12:03:39.127 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 0.9985ms
2025-07-23 12:03:41.045 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 12:03:41.047 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:03:41.048 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 12:03:41.049 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 12:03:41.049 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 4.268ms
2025-07-23 12:08:54.599 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 12:08:54.599 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:08:54.600 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8219ms
2025-07-23 12:08:54.602 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 12:08:54.602 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:08:54.603 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 12:08:54.603 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 12:08:54.603 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.4598ms
2025-07-23 12:09:10.903 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 12:09:10.903 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:09:10.903 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 0.6784ms
2025-07-23 12:09:10.905 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 12:09:10.905 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:09:10.905 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 12:09:10.906 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 12:09:10.922 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 12:09:10.929 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 12:09:10.930 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 12:09:10.930 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 24.5783ms
2025-07-23 12:09:10.931 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 12:09:10.931 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 26.1347 ms
2025-07-23 12:09:10.932 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 27.0042ms
2025-07-23 12:18:26.663 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 12:18:26.666 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:18:26.667 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 4.1161ms
2025-07-23 12:18:26.669 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 12:18:26.670 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:18:26.670 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 12:18:26.671 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 12:18:26.671 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.1169ms
2025-07-23 12:18:30.090 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 12:18:30.091 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:18:30.091 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - 204 null null 0.8764ms
2025-07-23 12:18:30.093 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 12:18:30.093 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:18:30.094 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 12:18:30.094 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 12:18:30.164 +05:30 [INF] Executed DbCommand (58ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 12:18:30.219 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 12:18:30.220 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 12:18:30.220 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 126.0912ms
2025-07-23 12:18:30.220 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 12:18:30.220 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 126.9595 ms
2025-07-23 12:18:30.221 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - 200 395 application/json; charset=utf-8 127.6084ms
2025-07-23 12:19:59.878 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 12:19:59.879 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:19:59.879 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8411ms
2025-07-23 12:19:59.881 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 12:19:59.882 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:19:59.882 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 12:19:59.882 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 12:19:59.883 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.2021ms
2025-07-23 12:20:27.255 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 12:20:27.256 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:20:27.257 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 1.8577ms
2025-07-23 12:20:27.260 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 12:20:27.261 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:20:27.261 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 12:20:27.262 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 12:20:27.269 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 12:20:27.275 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 12:20:27.277 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 12:20:27.279 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 17.1042ms
2025-07-23 12:20:27.280 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 12:20:27.280 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 19.0554 ms
2025-07-23 12:20:27.281 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 20.8395ms
2025-07-23 12:39:02.471 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 12:39:02.472 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:39:02.472 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8943ms
2025-07-23 12:39:02.474 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 12:39:02.475 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:39:02.475 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 12:39:02.475 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 12:39:02.475 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.076ms
2025-07-23 12:45:48.120 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 12:45:48.120 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:45:48.121 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8785ms
2025-07-23 12:45:48.125 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 12:45:48.126 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:45:48.127 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 12:45:48.127 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 12:45:48.128 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.7536ms
2025-07-23 12:48:45.069 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 12:48:45.069 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:48:45.070 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8466ms
2025-07-23 12:48:45.072 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 12:48:45.072 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:48:45.073 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 12:48:45.073 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 12:48:45.073 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.2124ms
2025-07-23 12:50:23.601 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 12:50:23.602 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:50:23.602 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.0493ms
2025-07-23 12:50:23.604 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 12:50:23.604 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:50:23.605 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 12:50:23.605 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 12:50:23.605 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 0.9569ms
2025-07-23 12:51:37.612 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 12:51:37.612 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:51:37.613 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8329ms
2025-07-23 12:51:37.614 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 12:51:37.615 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:51:37.615 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 12:51:37.615 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 12:51:37.615 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 0.9751ms
2025-07-23 12:51:44.245 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 12:51:44.245 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:51:44.246 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - 204 null null 0.8924ms
2025-07-23 12:51:44.248 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 12:51:44.248 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:51:44.248 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 12:51:44.249 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 12:51:44.276 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 12:51:44.281 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 12:51:44.281 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 12:51:44.282 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 32.7626ms
2025-07-23 12:51:44.282 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 12:51:44.282 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 34.2326 ms
2025-07-23 12:51:44.283 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - 200 395 application/json; charset=utf-8 35.1876ms
2025-07-23 12:52:33.645 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 12:52:33.645 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:52:33.645 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.803ms
2025-07-23 12:52:33.648 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 12:52:33.648 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:52:33.649 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 12:52:33.649 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 12:52:33.650 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.3119ms
2025-07-23 12:52:47.459 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 12:52:47.459 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:52:47.459 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.6439ms
2025-07-23 12:52:47.461 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 12:52:47.462 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:52:47.462 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 12:52:47.463 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 12:52:47.463 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.0829ms
2025-07-23 12:52:50.444 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 12:52:50.444 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:52:50.445 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 0.663ms
2025-07-23 12:52:50.447 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 12:52:50.448 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:52:50.448 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 12:52:50.448 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 12:52:50.465 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 12:52:50.470 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 12:52:50.470 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 12:52:50.471 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 22.1489ms
2025-07-23 12:52:50.471 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 12:52:50.471 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 23.1764 ms
2025-07-23 12:52:50.471 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 24.1085ms
2025-07-23 12:53:50.650 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 12:53:50.651 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:53:50.652 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.7956ms
2025-07-23 12:53:50.656 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 12:53:50.657 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:53:50.657 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 12:53:50.657 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 12:53:50.658 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.3099ms
2025-07-23 12:54:16.929 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 12:54:16.930 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:54:16.930 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 1.2017ms
2025-07-23 12:54:16.932 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 12:54:16.933 +05:30 [INF] CORS policy execution successful.
2025-07-23 12:54:16.933 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 12:54:16.933 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 12:54:16.952 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 12:54:16.959 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 12:54:16.960 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 12:54:16.961 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 26.8859ms
2025-07-23 12:54:16.962 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 12:54:16.962 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 29.4659 ms
2025-07-23 12:54:16.963 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 30.8307ms
2025-07-23 13:21:15.541 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 13:21:15.541 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:21:15.541 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8357ms
2025-07-23 13:21:15.544 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 13:21:15.545 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:21:15.545 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 13:21:15.546 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 13:21:15.546 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.4433ms
2025-07-23 13:36:14.616 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 13:36:14.617 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:36:14.617 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.0897ms
2025-07-23 13:36:14.619 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 13:36:14.620 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:36:14.620 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 13:36:14.620 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 13:36:14.620 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.2334ms
2025-07-23 13:36:19.222 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 13:36:19.222 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:36:19.223 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 1.2052ms
2025-07-23 13:36:19.225 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 13:36:19.226 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:36:19.226 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 13:36:19.226 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 13:36:19.253 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 13:36:19.260 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 13:36:19.261 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 13:36:19.261 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 34.4953ms
2025-07-23 13:36:19.261 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 13:36:19.262 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 35.8421 ms
2025-07-23 13:36:19.262 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 36.7552ms
2025-07-23 13:38:12.315 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 13:38:12.316 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:38:12.316 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 204 null null 1.0899ms
2025-07-23 13:38:12.318 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 13:38:12.318 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:38:12.319 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 13:38:12.319 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 13:38:12.325 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 13:38:12.340 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 13:38:12.340 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 13:38:12.341 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 21.4218ms
2025-07-23 13:38:12.341 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 13:38:12.341 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 22.7572 ms
2025-07-23 13:38:12.342 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 200 401 application/json; charset=utf-8 23.8454ms
2025-07-23 13:40:40.931 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 13:40:40.932 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:40:40.932 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.7986ms
2025-07-23 13:40:40.944 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 13:40:40.945 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:40:40.947 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 13:40:40.948 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 13:40:40.948 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 4.2203ms
2025-07-23 13:40:43.430 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 13:40:43.430 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:40:43.430 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - 204 null null 0.6165ms
2025-07-23 13:40:43.432 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 13:40:43.432 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:40:43.433 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 13:40:43.433 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 13:40:43.435 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 13:40:43.451 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 13:40:43.452 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 13:40:43.452 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 18.9218ms
2025-07-23 13:40:43.452 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 13:40:43.453 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 20.7010 ms
2025-07-23 13:40:43.454 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - 200 395 application/json; charset=utf-8 21.8999ms
2025-07-23 13:42:35.648 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 13:42:35.649 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:42:35.649 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.6039ms
2025-07-23 13:42:35.651 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 13:42:35.651 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:42:35.652 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 13:42:35.652 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 13:42:35.653 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.929ms
2025-07-23 13:42:43.583 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 13:42:43.583 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:42:43.583 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.6921ms
2025-07-23 13:42:43.586 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 13:42:43.586 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:42:43.586 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 13:42:43.587 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 13:42:43.587 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.2948ms
2025-07-23 13:42:47.924 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 13:42:47.925 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:42:47.925 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 1.129ms
2025-07-23 13:42:47.928 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 13:42:47.928 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:42:47.928 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 13:42:47.929 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 13:42:47.930 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 13:42:47.944 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 13:42:47.944 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 13:42:47.945 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 16.1873ms
2025-07-23 13:42:47.946 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 13:42:47.947 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 18.5758 ms
2025-07-23 13:42:47.947 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 19.4518ms
2025-07-23 13:44:34.575 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 13:44:34.576 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:44:34.577 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.7574ms
2025-07-23 13:44:34.597 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 13:44:34.598 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:44:34.599 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 13:44:34.599 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 13:44:34.599 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.6881ms
2025-07-23 13:44:37.318 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 13:44:37.319 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:44:37.320 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 1.49ms
2025-07-23 13:44:37.321 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 13:44:37.322 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:44:37.322 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 13:44:37.322 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 13:44:37.324 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 13:44:37.333 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 13:44:37.335 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 13:44:37.336 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 13.195ms
2025-07-23 13:44:37.336 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 13:44:37.336 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 14.2327 ms
2025-07-23 13:44:37.337 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 14.9945ms
2025-07-23 13:53:17.845 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 13:53:17.846 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:53:17.847 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.3408ms
2025-07-23 13:53:17.848 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 13:53:17.849 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:53:17.849 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 13:53:17.849 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 13:53:17.850 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.3744ms
2025-07-23 13:55:29.549 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 13:55:29.549 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:55:29.550 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.2375ms
2025-07-23 13:55:29.552 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 13:55:29.552 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:55:29.552 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 13:55:29.552 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 13:55:29.552 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 0.9267ms
2025-07-23 13:56:25.691 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 13:56:25.691 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:56:25.691 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8999ms
2025-07-23 13:56:25.694 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 13:56:25.694 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:56:25.695 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 13:56:25.695 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 13:56:25.695 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.5234ms
2025-07-23 13:56:27.264 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 13:56:27.265 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:56:27.266 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 13:56:27.267 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 13:56:27.268 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 3.3587ms
2025-07-23 13:57:58.641 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 13:57:58.641 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:57:58.641 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.7172ms
2025-07-23 13:57:58.645 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 13:57:58.645 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:57:58.645 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 13:57:58.646 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 13:57:58.646 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.2503ms
2025-07-23 13:58:03.533 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 13:58:03.533 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:58:03.534 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 13:58:03.534 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 13:58:03.534 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.2334ms
2025-07-23 13:58:56.620 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 13:58:56.620 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:58:56.621 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.6201ms
2025-07-23 13:58:56.623 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 13:58:56.623 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:58:56.624 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 13:58:56.624 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 13:58:56.624 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.4764ms
2025-07-23 13:59:46.577 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 13:59:46.577 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:59:46.577 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.4671ms
2025-07-23 13:59:46.579 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 13:59:46.579 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:59:46.579 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 13:59:46.580 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 13:59:46.580 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.4201ms
2025-07-23 13:59:52.625 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 13:59:52.626 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:59:52.626 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8331ms
2025-07-23 13:59:52.628 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 13:59:52.628 +05:30 [INF] CORS policy execution successful.
2025-07-23 13:59:52.628 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 13:59:52.629 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 13:59:52.629 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.4105ms
2025-07-23 14:00:37.161 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:00:37.161 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:00:37.162 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 1.069ms
2025-07-23 14:00:37.164 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:00:37.164 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:00:37.165 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:00:37.165 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:00:37.179 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 14:00:37.196 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 14:00:37.196 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:00:37.197 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 31.6044ms
2025-07-23 14:00:37.197 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:00:37.198 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 33.1912 ms
2025-07-23 14:00:37.198 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 34.0814ms
2025-07-23 14:01:15.749 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:01:15.750 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:01:15.752 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 3.1424ms
2025-07-23 14:01:15.763 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:01:15.764 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:01:15.767 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 14:01:15.767 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 14:01:15.768 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 5.1366ms
2025-07-23 14:01:18.489 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:01:18.489 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:01:18.490 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 0.9762ms
2025-07-23 14:01:18.492 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:01:18.493 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:01:18.493 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:01:18.494 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:01:18.501 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 14:01:18.515 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 14:01:18.515 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:01:18.516 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 21.6886ms
2025-07-23 14:01:18.516 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:01:18.516 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 23.1021 ms
2025-07-23 14:01:18.516 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 24.047ms
2025-07-23 14:02:53.780 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:02:53.780 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:02:53.781 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.896ms
2025-07-23 14:02:53.784 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:02:53.785 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:02:53.785 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 14:02:53.786 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 14:02:53.786 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.2322ms
2025-07-23 14:02:59.845 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 14:02:59.845 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:02:59.846 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - 204 null null 1.0197ms
2025-07-23 14:02:59.847 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 14:02:59.848 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:02:59.848 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:02:59.848 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:02:59.854 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 14:02:59.868 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 14:02:59.869 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:02:59.870 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 21.2798ms
2025-07-23 14:02:59.870 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:02:59.871 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 22.5522 ms
2025-07-23 14:02:59.871 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - 200 395 application/json; charset=utf-8 23.5159ms
2025-07-23 14:04:53.706 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:04:53.707 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:04:53.708 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.6915ms
2025-07-23 14:04:53.710 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:04:53.711 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:04:53.711 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 14:04:53.712 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 14:04:53.713 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.3789ms
2025-07-23 14:11:40.140 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:11:40.140 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:11:40.140 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.7526ms
2025-07-23 14:11:40.145 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:11:40.145 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:11:40.146 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 14:11:40.146 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 14:11:40.147 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.9833ms
2025-07-23 14:11:50.477 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:11:50.478 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:11:50.479 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.5762ms
2025-07-23 14:11:50.493 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:11:50.496 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:11:50.496 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 14:11:50.497 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 14:11:50.498 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 5.5287ms
2025-07-23 14:14:21.164 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:14:21.165 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:14:21.165 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.9277ms
2025-07-23 14:14:21.167 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:14:21.167 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:14:21.168 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 14:14:21.168 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 14:14:21.168 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 0.9682ms
2025-07-23 14:14:23.693 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 14:14:23.694 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:14:23.696 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 14:14:23.696 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 14:14:23.696 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 2.9223ms
2025-07-23 14:14:24.626 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 14:14:24.627 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:14:24.627 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.018ms
2025-07-23 14:14:24.630 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 14:14:24.631 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:14:24.631 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 14:14:24.632 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 14:14:24.666 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 14:14:25.702 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 14:14:25.702 +05:30 [INF] Role: Admin
2025-07-23 14:14:25.703 +05:30 [INF] Role: Admin
2025-07-23 14:14:25.703 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 14:14:25.711 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 14:14:25.713 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 14:14:25.714 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1082.0336ms
2025-07-23 14:14:25.714 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 14:14:25.714 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1083.4001 ms
2025-07-23 14:14:25.715 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 1084.5353ms
2025-07-23 14:14:25.719 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 14:14:25.719 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:14:25.720 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.8182ms
2025-07-23 14:14:25.722 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 14:14:25.722 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:14:25.723 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 14:14:25.723 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 14:14:25.724 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 14:14:25.727 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 14:14:25.734 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 14:14:25.734 +05:30 [INF] Found 1 users among search
2025-07-23 14:14:25.735 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:14:25.736 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 12.1529ms
2025-07-23 14:14:25.736 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 14:14:25.736 +05:30 [INF] HTTP GET /api/user/search responded 200 in 13.5894 ms
2025-07-23 14:14:25.737 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 15.0176ms
2025-07-23 14:14:25.740 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 14:14:25.740 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:14:25.741 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.8013ms
2025-07-23 14:14:25.743 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 14:14:25.744 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:14:25.746 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 14:14:25.747 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 14:14:25.748 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 14:14:25.751 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 14:14:25.753 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 14:14:25.753 +05:30 [INF] Found 1 users among search
2025-07-23 14:14:25.754 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:14:25.754 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.9825ms
2025-07-23 14:14:25.755 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 14:14:25.755 +05:30 [INF] HTTP GET /api/user/search responded 200 in 9.4793 ms
2025-07-23 14:14:25.756 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 12.3573ms
2025-07-23 14:14:27.464 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:14:27.464 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:14:27.465 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.5586ms
2025-07-23 14:14:27.466 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:14:27.467 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:14:27.467 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 14:14:27.467 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 14:14:27.490 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 14:14:27.490 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:14:27.490 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 22.9028ms
2025-07-23 14:14:27.491 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 14:14:27.491 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 23.8188 ms
2025-07-23 14:14:27.491 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 24.8116ms
2025-07-23 14:17:36.765 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:17:36.765 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:17:36.765 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.7227ms
2025-07-23 14:17:36.767 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:17:36.768 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:17:36.770 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 14:17:36.770 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 14:17:36.794 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 14:17:36.794 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:17:36.795 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 24.4142ms
2025-07-23 14:17:36.795 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 14:17:36.795 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 26.0129 ms
2025-07-23 14:17:36.796 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 28.2547ms
2025-07-23 14:17:49.898 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:17:49.898 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:17:49.898 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.6453ms
2025-07-23 14:17:49.901 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:17:49.901 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:17:49.902 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 14:17:49.902 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 14:17:49.908 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 14:17:49.908 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:17:49.909 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 6.2602ms
2025-07-23 14:17:49.909 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 14:17:49.910 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 7.9572 ms
2025-07-23 14:17:49.910 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 9.7476ms
2025-07-23 14:18:14.043 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:18:14.043 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:18:14.043 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 0.4746ms
2025-07-23 14:18:14.045 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:18:14.046 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:18:14.046 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:18:14.047 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:18:14.049 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 14:18:14.062 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 14:18:14.063 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:18:14.064 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 17.3684ms
2025-07-23 14:18:14.065 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:18:14.065 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 18.6553 ms
2025-07-23 14:18:14.065 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 20.0975ms
2025-07-23 14:19:41.953 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:19:41.954 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:19:41.954 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.5702ms
2025-07-23 14:19:41.956 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:19:41.956 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:19:41.956 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 14:19:41.957 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 14:19:41.957 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 0.7022ms
2025-07-23 14:19:45.285 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:19:45.286 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:19:45.287 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 1.8168ms
2025-07-23 14:19:45.289 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:19:45.289 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:19:45.289 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:19:45.290 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:19:45.293 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 14:19:45.314 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 14:19:45.315 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:19:45.315 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 25.2439ms
2025-07-23 14:19:45.315 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:19:45.315 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 25.9757 ms
2025-07-23 14:19:45.316 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 26.5835ms
2025-07-23 14:19:47.159 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 14:19:47.159 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:19:47.160 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 204 null null 0.6801ms
2025-07-23 14:19:47.162 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 14:19:47.163 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:19:47.163 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:19:47.163 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:19:47.165 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 14:19:47.166 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 14:19:47.166 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:19:47.167 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 3.5958ms
2025-07-23 14:19:47.167 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:19:47.167 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 4.2527 ms
2025-07-23 14:19:47.167 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 200 401 application/json; charset=utf-8 4.9528ms
2025-07-23 14:21:42.299 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:21:42.299 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:21:42.299 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.7349ms
2025-07-23 14:21:42.301 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:21:42.302 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:21:42.302 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 14:21:42.302 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 14:21:42.302 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 0.9277ms
2025-07-23 14:21:49.286 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:21:49.286 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:21:49.287 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 0.47ms
2025-07-23 14:21:49.289 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:21:49.289 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:21:49.289 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:21:49.289 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:21:49.293 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 14:21:49.302 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 14:21:49.302 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:21:49.302 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 12.8939ms
2025-07-23 14:21:49.303 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:21:49.303 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 13.7564 ms
2025-07-23 14:21:49.303 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 14.4933ms
2025-07-23 14:25:42.635 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:25:42.635 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:25:42.635 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.5249ms
2025-07-23 14:25:42.637 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:25:42.638 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:25:42.638 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 14:25:42.638 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 14:25:42.638 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.0805ms
2025-07-23 14:28:27.720 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 14:28:27.721 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:28:27.721 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 14:28:27.722 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 14:28:27.722 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.7845ms
2025-07-23 14:28:28.503 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 14:28:28.503 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:28:28.504 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.8114ms
2025-07-23 14:28:28.505 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 14:28:28.506 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:28:28.507 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 14:28:28.508 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 14:28:28.529 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 14:28:29.385 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 14:28:29.385 +05:30 [INF] Role: Admin
2025-07-23 14:28:29.386 +05:30 [INF] Role: Admin
2025-07-23 14:28:29.386 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 14:28:29.396 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 14:28:29.397 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 14:28:29.398 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 889.76ms
2025-07-23 14:28:29.398 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 14:28:29.399 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 892.0944 ms
2025-07-23 14:28:29.399 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 893.4703ms
2025-07-23 14:28:29.403 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 14:28:29.403 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:28:29.404 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.8272ms
2025-07-23 14:28:29.405 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 14:28:29.406 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:28:29.407 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 14:28:29.408 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 14:28:29.409 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 14:28:29.412 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 14:28:29.415 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 14:28:29.418 +05:30 [INF] Found 1 users among search
2025-07-23 14:28:29.419 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:28:29.419 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 10.7499ms
2025-07-23 14:28:29.420 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 14:28:29.420 +05:30 [INF] HTTP GET /api/user/search responded 200 in 13.4502 ms
2025-07-23 14:28:29.420 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 508 application/json; charset=utf-8 14.9867ms
2025-07-23 14:28:29.429 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 14:28:29.429 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:28:29.430 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.8903ms
2025-07-23 14:28:29.433 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 14:28:29.433 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:28:29.434 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 14:28:29.434 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 14:28:29.435 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 14:28:29.436 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 14:28:29.438 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 14:28:29.439 +05:30 [INF] Found 1 users among search
2025-07-23 14:28:29.439 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:28:29.439 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 4.8171ms
2025-07-23 14:28:29.440 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 14:28:29.441 +05:30 [INF] HTTP GET /api/user/search responded 200 in 7.0261 ms
2025-07-23 14:28:29.442 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 508 application/json; charset=utf-8 9.1764ms
2025-07-23 14:28:31.315 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - null null
2025-07-23 14:28:31.316 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:28:31.317 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 14:28:31.318 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 14:28:31.318 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search-lucene?pageNumber=1&pageSize=10 - 401 0 null 2.7496ms
2025-07-23 14:28:32.641 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor?pageNumber=1&pageSize=10 - null null
2025-07-23 14:28:32.641 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:28:32.642 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-23 14:28:32.651 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:28:32.663 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-23 14:28:32.668 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-23 14:28:32.669 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:28:32.670 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 18.5691ms
2025-07-23 14:28:32.670 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-23 14:28:32.671 +05:30 [INF] HTTP GET /api/doctor responded 200 in 29.1520 ms
2025-07-23 14:28:32.671 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor?pageNumber=1&pageSize=10 - 200 2005 application/json; charset=utf-8 30.3906ms
2025-07-23 14:28:33.643 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=1&pageSize=10 - null null
2025-07-23 14:28:33.643 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:28:33.643 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-07-23 14:28:33.656 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 14:28:33.688 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-23 14:28:33.695 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 14:28:33.696 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 14:28:33.737 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-23 14:28:33.739 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:28:33.746 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 89.7799ms
2025-07-23 14:28:33.747 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-07-23 14:28:33.747 +05:30 [INF] HTTP GET /api/appointment responded 200 in 103.9598 ms
2025-07-23 14:28:33.747 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 104.7773ms
2025-07-23 14:28:35.529 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor?pageNumber=1&pageSize=10 - null null
2025-07-23 14:28:35.529 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:28:35.530 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-23 14:28:35.531 +05:30 [INF] Route matched with {action = "GetAll", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:28:35.534 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-23 14:28:35.536 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-07-23 14:28:35.537 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:28:35.538 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi) in 6.7294ms
2025-07-23 14:28:35.538 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.GetAll (HealthcareApi)'
2025-07-23 14:28:35.539 +05:30 [INF] HTTP GET /api/doctor responded 200 in 9.1240 ms
2025-07-23 14:28:35.539 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor?pageNumber=1&pageSize=10 - 200 2005 application/json; charset=utf-8 10.7682ms
2025-07-23 14:28:35.945 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=1&pageSize=10 - null null
2025-07-23 14:28:35.945 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:28:35.946 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-07-23 14:28:35.947 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 14:28:35.953 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-23 14:28:35.956 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-23 14:28:35.957 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:28:35.958 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 10.5121ms
2025-07-23 14:28:35.958 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-07-23 14:28:35.958 +05:30 [INF] HTTP GET /api/appointment responded 200 in 12.3934 ms
2025-07-23 14:28:35.958 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment?pageNumber=1&pageSize=10 - 200 2045 application/json; charset=utf-8 13.8181ms
2025-07-23 14:28:37.005 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:28:37.005 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:28:37.005 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8188ms
2025-07-23 14:28:37.009 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:28:37.010 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:28:37.010 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 14:28:37.011 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 14:28:37.014 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 14:28:37.015 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:28:37.015 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 3.7481ms
2025-07-23 14:28:37.015 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 14:28:37.015 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 5.0082 ms
2025-07-23 14:28:37.016 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 6.2649ms
2025-07-23 14:28:45.036 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - null null
2025-07-23 14:28:45.037 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:28:45.038 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-23 14:28:45.043 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:28:45.068 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-23 14:28:45.069 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:28:45.073 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 29.0416ms
2025-07-23 14:28:45.073 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-23 14:28:45.074 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 35.7923 ms
2025-07-23 14:28:45.074 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - 200 2 application/json; charset=utf-8 38.1007ms
2025-07-23 14:29:06.930 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:29:06.930 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:29:06.931 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.6076ms
2025-07-23 14:29:06.933 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:29:06.933 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:29:06.934 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 14:29:06.935 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 14:29:06.938 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 14:29:06.938 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:29:06.939 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 4.036ms
2025-07-23 14:29:06.940 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 14:29:06.940 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 5.4694 ms
2025-07-23 14:29:06.940 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 7.2337ms
2025-07-23 14:32:42.332 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - null null
2025-07-23 14:32:42.333 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:32:42.333 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-23 14:32:42.334 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:32:42.367 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-23 14:32:42.368 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:32:42.368 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 34.4595ms
2025-07-23 14:32:42.369 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-23 14:32:42.369 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 35.6736 ms
2025-07-23 14:32:42.369 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - 200 2 application/json; charset=utf-8 36.8312ms
2025-07-23 14:34:13.587 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 14:34:13.587 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:34:13.588 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 14:34:13.588 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 14:34:13.588 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 0.8297ms
2025-07-23 14:34:14.424 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 14:34:14.424 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:34:14.425 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6757ms
2025-07-23 14:34:14.426 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 53
2025-07-23 14:34:14.426 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:34:14.427 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 14:34:14.427 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 14:34:14.448 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 14:34:15.280 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 14:34:15.281 +05:30 [INF] Role: Admin
2025-07-23 14:34:15.281 +05:30 [INF] Role: Admin
2025-07-23 14:34:15.282 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 14:34:15.291 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 14:34:15.292 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 14:34:15.292 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 865.4391ms
2025-07-23 14:34:15.293 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 14:34:15.293 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 866.3604 ms
2025-07-23 14:34:15.293 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 867.1003ms
2025-07-23 14:34:15.297 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 14:34:15.298 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:34:15.298 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 204 null null 0.501ms
2025-07-23 14:34:15.301 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - null null
2025-07-23 14:34:15.302 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:34:15.302 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 14:34:15.303 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 14:34:15.304 +05:30 [INF] Searching users with params {"UID":null,"Username":["Ruby"],"Role":null,"Email":["ruby@raishin.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 14:34:15.306 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 14:34:15.309 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 14:34:15.309 +05:30 [INF] Found 1 users among search
2025-07-23 14:34:15.310 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:34:15.312 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 8.8605ms
2025-07-23 14:34:15.312 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 14:34:15.312 +05:30 [INF] HTTP GET /api/user/search responded 200 in 10.1528 ms
2025-07-23 14:34:15.313 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=Ruby&email=ruby@raishin.com - 200 509 application/json; charset=utf-8 12.1363ms
2025-07-23 14:34:15.321 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 14:34:15.321 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:34:15.322 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?uid=21982 - 204 null null 0.9358ms
2025-07-23 14:34:15.325 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - null null
2025-07-23 14:34:15.326 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:34:15.327 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 14:34:15.327 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 14:34:15.328 +05:30 [INF] Searching users with params {"UID":[21982],"Username":null,"Role":null,"Email":null,"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 14:34:15.330 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
2025-07-23 14:34:15.331 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[UserID] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 14:34:15.333 +05:30 [INF] Found 1 users among search
2025-07-23 14:34:15.333 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:34:15.334 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 6.4446ms
2025-07-23 14:34:15.334 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 14:34:15.335 +05:30 [INF] HTTP GET /api/user/search responded 200 in 8.1832 ms
2025-07-23 14:34:15.335 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?uid=21982 - 200 509 application/json; charset=utf-8 9.7197ms
2025-07-23 14:34:16.319 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:34:16.319 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:34:16.319 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.4968ms
2025-07-23 14:34:16.321 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:34:16.321 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:34:16.322 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 14:34:16.323 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 14:34:16.330 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 14:34:16.331 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:34:16.331 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 8.5621ms
2025-07-23 14:34:16.333 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 14:34:16.334 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 11.3711 ms
2025-07-23 14:34:16.334 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 12.8183ms
2025-07-23 14:36:39.614 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - null null
2025-07-23 14:36:39.614 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:36:39.614 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-23 14:36:39.615 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:36:39.640 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-23 14:36:39.640 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:36:39.641 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 25.9275ms
2025-07-23 14:36:39.641 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-23 14:36:39.641 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 26.9151 ms
2025-07-23 14:36:39.641 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - 200 2 application/json; charset=utf-8 27.8736ms
2025-07-23 14:36:58.734 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:36:58.734 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:36:58.735 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.5272ms
2025-07-23 14:36:58.737 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:36:58.737 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:36:58.738 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 14:36:58.738 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 14:36:58.754 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 14:36:58.754 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:36:58.755 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 16.3579ms
2025-07-23 14:36:58.755 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 14:36:58.755 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 17.9142 ms
2025-07-23 14:36:58.756 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 2 application/json; charset=utf-8 19.0732ms
2025-07-23 14:50:17.551 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:50:17.553 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:50:17.554 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 2.9158ms
2025-07-23 14:50:17.557 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:50:17.557 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:50:17.558 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 14:50:17.558 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 14:50:17.558 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.2836ms
2025-07-23 14:50:20.890 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:50:20.891 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:50:20.891 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 0.8303ms
2025-07-23 14:50:20.893 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:50:20.893 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:50:20.894 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:50:20.894 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:50:20.907 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 14:50:20.915 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 14:50:20.916 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:50:20.916 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 21.7126ms
2025-07-23 14:50:20.916 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:50:20.916 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 22.5257 ms
2025-07-23 14:50:20.917 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 23.3269ms
2025-07-23 14:50:48.334 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 14:50:48.334 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:50:48.334 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.548ms
2025-07-23 14:50:48.337 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 14:50:48.339 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:50:48.339 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 14:50:48.340 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 14:50:48.340 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.654ms
2025-07-23 14:50:52.777 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:50:52.778 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:50:52.778 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 0.4247ms
2025-07-23 14:50:52.780 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:50:52.780 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:50:52.780 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:50:52.780 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:50:52.782 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 14:50:52.783 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 14:50:52.784 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:50:52.784 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 3.5466ms
2025-07-23 14:50:52.784 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:50:52.784 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 4.2558 ms
2025-07-23 14:50:52.784 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 4.8585ms
2025-07-23 14:50:54.155 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 14:50:54.156 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:50:54.157 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 204 null null 1.6165ms
2025-07-23 14:50:54.159 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 14:50:54.159 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:50:54.160 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:50:54.160 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:50:54.162 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 14:50:54.163 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 14:50:54.164 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:50:54.164 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 3.5288ms
2025-07-23 14:50:54.164 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:50:54.164 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 4.7037 ms
2025-07-23 14:50:54.164 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 200 401 application/json; charset=utf-8 5.6536ms
2025-07-23 14:56:09.154 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:56:09.154 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:56:09.155 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Cardiology - 204 null null 0.7511ms
2025-07-23 14:56:09.156 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - null null
2025-07-23 14:56:09.157 +05:30 [INF] CORS policy execution successful.
2025-07-23 14:56:09.157 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:56:09.157 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 14:56:09.166 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 14:56:09.175 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 14:56:09.175 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 14:56:09.176 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 18.3571ms
2025-07-23 14:56:09.176 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 14:56:09.176 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 18.8538 ms
2025-07-23 14:56:09.176 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Cardiology - 200 386 application/json; charset=utf-8 19.5262ms
2025-07-23 15:05:44.638 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 15:05:44.638 +05:30 [INF] CORS policy execution successful.
2025-07-23 15:05:44.639 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.258ms
2025-07-23 15:05:44.688 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 15:05:44.688 +05:30 [INF] CORS policy execution successful.
2025-07-23 15:05:44.689 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 15:05:44.690 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 15:05:44.691 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 3.0643ms
2025-07-23 15:05:47.248 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 15:05:47.249 +05:30 [INF] CORS policy execution successful.
2025-07-23 15:05:47.249 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Dermatology - 204 null null 0.7766ms
2025-07-23 15:05:47.252 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - null null
2025-07-23 15:05:47.253 +05:30 [INF] CORS policy execution successful.
2025-07-23 15:05:47.254 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 15:05:47.256 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 15:05:47.277 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 15:05:47.291 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 15:05:47.292 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 15:05:47.292 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 35.3968ms
2025-07-23 15:05:47.292 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 15:05:47.292 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 38.5233 ms
2025-07-23 15:05:47.293 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Dermatology - 200 395 application/json; charset=utf-8 40.251ms
2025-07-23 15:11:31.964 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 15:11:31.965 +05:30 [INF] CORS policy execution successful.
2025-07-23 15:11:31.965 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.9767ms
2025-07-23 15:11:31.968 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 15:11:31.968 +05:30 [INF] CORS policy execution successful.
2025-07-23 15:11:31.969 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 15:11:31.969 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 15:11:31.969 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.1225ms
2025-07-23 15:37:00.855 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 205
2025-07-23 15:37:00.857 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:37:00.865 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 15:37:00.892 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-23 15:37:00.930 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 64.7033ms
2025-07-23 15:37:00.931 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:37:00.931 +05:30 [INF] HTTP POST /api/appointment responded 400 in 74.3307 ms
2025-07-23 15:37:00.932 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 400 291 application/problem+json; charset=utf-8 76.3369ms
2025-07-23 15:38:34.244 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-23 15:38:35.177 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-23 15:38:36.020 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-23 15:38:36.588 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-23 15:38:36.676 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-23 15:38:36.679 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-23 15:38:36.680 +05:30 [INF] Hosting environment: Development
2025-07-23 15:38:36.681 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-23 15:38:44.174 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 205
2025-07-23 15:38:44.197 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-23 15:38:44.227 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 15:38:44.231 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 15:38:44.239 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 401 0 null 66.6678ms
2025-07-23 15:38:53.570 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 65
2025-07-23 15:38:53.583 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 15:38:53.610 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 15:38:53.794 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 15:38:55.027 +05:30 [INF] User logged in: ruby@raishin.com
2025-07-23 15:38:55.028 +05:30 [INF] Role: Admin
2025-07-23 15:38:55.029 +05:30 [INF] Role: Admin
2025-07-23 15:38:55.029 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Admin
2025-07-23 15:38:55.160 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 15:38:55.221 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 15:38:55.271 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1655.0498ms
2025-07-23 15:38:55.273 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 15:38:55.276 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1699.7531 ms
2025-07-23 15:38:55.284 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 610 application/json; charset=utf-8 1714.2927ms
2025-07-23 15:39:12.471 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 205
2025-07-23 15:39:12.506 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:39:12.510 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 15:39:12.524 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-23 15:39:12.550 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 40.032ms
2025-07-23 15:39:12.551 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:39:12.551 +05:30 [INF] HTTP POST /api/appointment responded 400 in 45.7562 ms
2025-07-23 15:39:12.551 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 400 291 application/problem+json; charset=utf-8 81.0508ms
2025-07-23 15:40:49.641 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 244
2025-07-23 15:40:49.643 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:40:49.644 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 15:40:49.654 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-23 15:40:49.655 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 10.7671ms
2025-07-23 15:40:49.656 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:40:49.656 +05:30 [INF] HTTP POST /api/appointment responded 400 in 13.1919 ms
2025-07-23 15:40:49.657 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 400 1446 application/problem+json; charset=utf-8 16.2517ms
2025-07-23 15:41:11.979 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 206
2025-07-23 15:41:11.980 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:41:11.981 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 15:41:11.986 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-23 15:41:11.986 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 5.4412ms
2025-07-23 15:41:11.987 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:41:11.987 +05:30 [INF] HTTP POST /api/appointment responded 400 in 7.1031 ms
2025-07-23 15:41:11.988 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 400 291 application/problem+json; charset=utf-8 8.5126ms
2025-07-23 15:42:39.862 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-23 15:42:40.820 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-23 15:42:41.718 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-23 15:42:42.342 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-23 15:42:42.434 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-23 15:42:42.438 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-23 15:42:42.439 +05:30 [INF] Hosting environment: Development
2025-07-23 15:42:42.439 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-23 15:42:49.685 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 205
2025-07-23 15:42:49.721 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-23 15:42:49.816 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:42:49.841 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 15:42:49.966 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-23 15:42:50.020 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 173.8593ms
2025-07-23 15:42:50.022 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:42:50.026 +05:30 [INF] HTTP POST /api/appointment responded 400 in 215.4760 ms
2025-07-23 15:42:50.030 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 400 291 application/problem+json; charset=utf-8 347.5091ms
2025-07-23 15:44:28.459 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-23 15:44:29.486 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-23 15:44:30.418 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-23 15:44:31.031 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-23 15:44:31.111 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-23 15:44:31.114 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-23 15:44:31.115 +05:30 [INF] Hosting environment: Development
2025-07-23 15:44:31.116 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-23 15:44:34.422 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 205
2025-07-23 15:44:34.447 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-23 15:44:34.517 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:44:34.533 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 15:44:34.734 +05:30 [ERR] Failed executing DbCommand (21ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 1000) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppointmentID], [AppointmentDate], [CreatedAt], [DoctorID], [ModifiedAt], [Notes], [PatientID], [Reason], [Status], [isActive])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-23 15:44:34.760 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'HealthcareApi.Models.AssignmentDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:026e7a7d-71dc-473b-9568-94c1527aa6d1
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:026e7a7d-71dc-473b-9568-94c1527aa6d1
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-23 15:44:34.771 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 235.2037ms
2025-07-23 15:44:34.773 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:44:34.774 +05:30 [ERR] Unhandled exception occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:026e7a7d-71dc-473b-9568-94c1527aa6d1
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HealthcareApi.Repositories.AppointmentRepository.AddAsync(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Repositories\AppointmentRepository.cs:line 22
   at HealthcareApi.Services.AppointmentService.AddAppointment(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\AppointmentService.cs:line 29
   at HealthcareApi.Controllers.AppointmentController.Post(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\AppointmentController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-07-23 15:44:34.832 +05:30 [ERR] HTTP POST /api/appointment responded 500 in 318.5883 ms
2025-07-23 15:44:34.839 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 500 null application/json 417.0525ms
2025-07-23 15:48:01.677 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-23 15:48:02.594 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-23 15:48:03.481 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-23 15:48:04.065 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-23 15:48:04.167 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-23 15:48:04.170 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-23 15:48:04.172 +05:30 [INF] Hosting environment: Development
2025-07-23 15:48:04.173 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-23 15:48:07.998 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 205
2025-07-23 15:48:08.027 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-23 15:48:08.103 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:48:08.121 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 15:48:08.311 +05:30 [ERR] Failed executing DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 1000) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (Size = 255) (DbType = AnsiString), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppointmentID], [AppointmentDate], [CreatedAt], [DoctorID], [ModifiedAt], [Notes], [PatientID], [Reason], [Status], [isActive])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-23 15:48:08.335 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'HealthcareApi.Models.AssignmentDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d026b27e-9a37-49cb-9088-614d9d9ebdf3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d026b27e-9a37-49cb-9088-614d9d9ebdf3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-23 15:48:08.345 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 219.9854ms
2025-07-23 15:48:08.346 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:48:08.348 +05:30 [ERR] Unhandled exception occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Appointment' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d026b27e-9a37-49cb-9088-614d9d9ebdf3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at HealthcareApi.Repositories.AppointmentRepository.AddAsync(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Repositories\AppointmentRepository.cs:line 22
   at HealthcareApi.Services.AppointmentService.AddAppointment(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Services\AppointmentService.cs:line 29
   at HealthcareApi.Controllers.AppointmentController.Post(Appointment a) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Controllers\AppointmentController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi\Middleware\ErrorHandlingMiddleware.cs:line 19
2025-07-23 15:48:08.421 +05:30 [ERR] HTTP POST /api/appointment responded 500 in 320.1319 ms
2025-07-23 15:48:08.429 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 500 null application/json 432.7919ms
2025-07-23 15:56:27.254 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 15:56:27.273 +05:30 [INF] CORS policy execution successful.
2025-07-23 15:56:27.283 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 26.9915ms
2025-07-23 15:56:27.297 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 15:56:27.310 +05:30 [INF] CORS policy execution successful.
2025-07-23 15:56:27.316 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 15:56:27.326 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 15:56:27.327 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 29.9724ms
2025-07-23 15:57:05.404 +05:30 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit)
2025-07-23 15:57:06.325 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[CreatedAt], [a].[DoctorID], [a].[ModifiedAt], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status], [a].[isActive], [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive], [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Appointment] AS [a]
INNER JOIN [Patients] AS [p] ON [a].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a].[DoctorID] = [d].[DoctorID]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-23 15:57:07.195 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit)
2025-07-23 15:57:07.782 +05:30 [INF] User profile is available. Using 'C:\Users\aakarsh.batra\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-23 15:57:07.868 +05:30 [INF] Now listening on: http://localhost:5122
2025-07-23 15:57:07.870 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-23 15:57:07.871 +05:30 [INF] Hosting environment: Development
2025-07-23 15:57:07.871 +05:30 [INF] Content root path: C:\Users\aakarsh.batra\Assignment\Week2\HealthcareApi
2025-07-23 15:57:12.071 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 205
2025-07-23 15:57:12.097 +05:30 [WRN] Failed to determine the https port for redirect.
2025-07-23 15:57:12.165 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:57:12.183 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 15:57:12.389 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppointmentDate], [CreatedAt], [DoctorID], [ModifiedAt], [Notes], [PatientID], [Reason], [Status], [isActive])
OUTPUT INSERTED.[AppointmentID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-23 15:57:12.539 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'HealthcareApi.Models.Appointment'.
2025-07-23 15:57:12.584 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 398.5487ms
2025-07-23 15:57:12.586 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:57:12.588 +05:30 [INF] HTTP POST /api/appointment responded 201 in 426.8977 ms
2025-07-23 15:57:12.594 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 201 254 application/json; charset=utf-8 524.8017ms
2025-07-23 15:57:59.102 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 62
2025-07-23 15:57:59.107 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 15:57:59.113 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 15:57:59.229 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 15:58:00.411 +05:30 [INF] User logged in: ptester@gmail.com
2025-07-23 15:58:00.411 +05:30 [INF] Role: Patient
2025-07-23 15:58:00.412 +05:30 [INF] Role: Patient
2025-07-23 15:58:00.413 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Patient
2025-07-23 15:58:00.435 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 15:58:00.453 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 15:58:00.462 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1348.2719ms
2025-07-23 15:58:00.463 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 15:58:00.463 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1356.6840 ms
2025-07-23 15:58:00.464 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 621 application/json; charset=utf-8 1362.2244ms
2025-07-23 15:58:28.406 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 205
2025-07-23 15:58:28.411 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:58:28.411 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 15:58:28.428 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppointmentDate], [CreatedAt], [DoctorID], [ModifiedAt], [Notes], [PatientID], [Reason], [Status], [isActive])
OUTPUT INSERTED.[AppointmentID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-23 15:58:28.533 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'HealthcareApi.Models.Appointment'.
2025-07-23 15:58:28.535 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 123.3846ms
2025-07-23 15:58:28.536 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 15:58:28.536 +05:30 [INF] HTTP POST /api/appointment responded 201 in 125.4883 ms
2025-07-23 15:58:28.537 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 201 254 application/json; charset=utf-8 130.8796ms
2025-07-23 16:04:53.484 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:04:53.486 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:04:53.489 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 4.1581ms
2025-07-23 16:04:53.491 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:04:53.496 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:04:53.498 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 16:04:53.502 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 16:04:53.503 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 11.3055ms
2025-07-23 16:29:18.558 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:29:18.559 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:29:18.559 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.1601ms
2025-07-23 16:29:18.561 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:29:18.562 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:29:18.563 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 16:29:18.564 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 16:29:18.564 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 3.2899ms
2025-07-23 16:35:12.535 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:35:12.536 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:35:12.536 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.1924ms
2025-07-23 16:35:12.539 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:35:12.539 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:35:12.540 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 16:35:12.540 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 16:35:12.540 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.8267ms
2025-07-23 16:35:19.622 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 16:35:19.624 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:35:19.625 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 16:35:19.625 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 16:35:19.626 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 3.1633ms
2025-07-23 16:35:26.116 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 16:35:26.117 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:35:26.118 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.7678ms
2025-07-23 16:35:26.121 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 50
2025-07-23 16:35:26.122 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:35:26.123 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 16:35:26.123 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 16:35:26.147 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 16:35:27.405 +05:30 [INF] User logged in: ptester@gmail.com
2025-07-23 16:35:27.405 +05:30 [INF] Role: Patient
2025-07-23 16:35:27.405 +05:30 [INF] Role: Patient
2025-07-23 16:35:27.406 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Patient
2025-07-23 16:35:27.416 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 16:35:27.418 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 16:35:27.419 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1295.2262ms
2025-07-23 16:35:27.419 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 16:35:27.420 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1296.6107 ms
2025-07-23 16:35:27.420 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 621 application/json; charset=utf-8 1299.0301ms
2025-07-23 16:35:27.424 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-23 16:35:27.426 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:35:27.426 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 204 null null 2.1659ms
2025-07-23 16:35:27.428 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-23 16:35:27.429 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:35:27.430 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 16:35:27.444 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 16:35:27.466 +05:30 [INF] Searching users with params {"UID":null,"Username":["PTester"],"Role":null,"Email":["ptester@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 16:35:27.543 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 16:35:27.548 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 16:35:27.548 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 16:35:27.561 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 16:35:27.563 +05:30 [INF] Found 1 users among search
2025-07-23 16:35:27.565 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:35:27.584 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 138.8274ms
2025-07-23 16:35:27.584 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 16:35:27.585 +05:30 [INF] HTTP GET /api/user/search responded 200 in 154.5967 ms
2025-07-23 16:35:27.586 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 200 516 application/json; charset=utf-8 156.973ms
2025-07-23 16:35:27.588 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-23 16:35:27.588 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:35:27.589 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?uid=901938 - 204 null null 0.6066ms
2025-07-23 16:35:27.590 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-23 16:35:27.591 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:35:27.592 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-23 16:35:27.602 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 16:35:27.614 +05:30 [INF] Searching patients with params {"PID":null,"UID":[901938],"FirstName":null,"LastName":null,"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-23 16:35:27.648 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
2025-07-23 16:35:27.650 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 16:35:27.651 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 16:35:27.668 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 16:35:27.669 +05:30 [INF] Found 1 patients matching search
2025-07-23 16:35:27.669 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:35:27.677 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 75.0258ms
2025-07-23 16:35:27.678 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-23 16:35:27.678 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 86.8354 ms
2025-07-23 16:35:27.679 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - 200 418 application/json; charset=utf-8 88.7565ms
2025-07-23 16:35:30.290 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:35:30.290 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:35:30.291 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.9811ms
2025-07-23 16:35:30.292 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:35:30.293 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:35:30.294 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:35:30.299 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 16:35:30.322 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 16:35:30.329 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:35:30.333 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 33.9389ms
2025-07-23 16:35:30.334 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:35:30.334 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 40.4815 ms
2025-07-23 16:35:30.334 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 240 application/json; charset=utf-8 41.8242ms
2025-07-23 16:35:41.431 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Pediatrics - null null
2025-07-23 16:35:41.432 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:35:41.433 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=Pediatrics - 204 null null 1.1596ms
2025-07-23 16:35:41.435 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Pediatrics - null null
2025-07-23 16:35:41.437 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:35:41.438 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 16:35:41.444 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 16:35:41.459 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 16:35:41.461 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 16:35:41.461 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 16:35:41.479 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 16:35:41.481 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:35:41.488 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 43.1155ms
2025-07-23 16:35:41.488 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 16:35:41.489 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 51.0004 ms
2025-07-23 16:35:41.489 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=Pediatrics - 200 389 application/json; charset=utf-8 54.2727ms
2025-07-23 16:35:46.808 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 16:35:46.808 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:35:46.809 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 204 null null 1.1452ms
2025-07-23 16:35:46.811 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 16:35:46.811 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:35:46.812 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 16:35:46.812 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 16:35:46.818 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 16:35:46.820 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 16:35:46.821 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:35:46.822 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 9.7811ms
2025-07-23 16:35:46.822 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 16:35:46.823 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 11.1532 ms
2025-07-23 16:35:46.823 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 200 401 application/json; charset=utf-8 12.4181ms
2025-07-23 16:36:01.798 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - null null
2025-07-23 16:36:01.798 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:36:01.799 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - 204 null null 1.478ms
2025-07-23 16:36:01.801 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 154
2025-07-23 16:36:01.801 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:36:01.802 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 16:36:01.802 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 16:36:01.819 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppointmentDate], [CreatedAt], [DoctorID], [ModifiedAt], [Notes], [PatientID], [Reason], [Status], [isActive])
OUTPUT INSERTED.[AppointmentID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-23 16:36:01.907 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'HealthcareApi.Models.Appointment'.
2025-07-23 16:36:01.907 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 104.8376ms
2025-07-23 16:36:01.908 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 16:36:01.908 +05:30 [INF] HTTP POST /api/appointment responded 201 in 105.8959 ms
2025-07-23 16:36:01.908 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 201 252 application/json; charset=utf-8 107.1525ms
2025-07-23 16:37:05.358 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:37:05.359 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:37:05.359 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.146ms
2025-07-23 16:37:05.362 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:37:05.362 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:37:05.363 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 16:37:05.363 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 16:37:05.364 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 2.0236ms
2025-07-23 16:37:07.815 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 16:37:07.816 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:37:07.816 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 16:37:07.816 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 16:37:07.816 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.07ms
2025-07-23 16:37:09.110 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 16:37:09.111 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:37:09.111 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.9595ms
2025-07-23 16:37:09.113 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 50
2025-07-23 16:37:09.113 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:37:09.113 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 16:37:09.114 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 16:37:09.134 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 16:37:09.760 +05:30 [INF] User logged in: ptester@gmail.com
2025-07-23 16:37:09.760 +05:30 [INF] Role: Patient
2025-07-23 16:37:09.761 +05:30 [INF] Role: Patient
2025-07-23 16:37:09.761 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Patient
2025-07-23 16:37:09.770 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 16:37:09.770 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 16:37:09.771 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 657.1775ms
2025-07-23 16:37:09.771 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 16:37:09.772 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 658.2764 ms
2025-07-23 16:37:09.772 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 621 application/json; charset=utf-8 659.214ms
2025-07-23 16:37:09.776 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-23 16:37:09.777 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:37:09.777 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 204 null null 1.0121ms
2025-07-23 16:37:09.780 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-23 16:37:09.780 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:37:09.781 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 16:37:09.781 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 16:37:09.784 +05:30 [INF] Searching users with params {"UID":null,"Username":["PTester"],"Role":null,"Email":["ptester@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 16:37:09.788 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 16:37:09.795 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 16:37:09.796 +05:30 [INF] Found 1 users among search
2025-07-23 16:37:09.796 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:37:09.797 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 15.186ms
2025-07-23 16:37:09.797 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 16:37:09.798 +05:30 [INF] HTTP GET /api/user/search responded 200 in 17.0513 ms
2025-07-23 16:37:09.799 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 200 516 application/json; charset=utf-8 18.9569ms
2025-07-23 16:37:09.802 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-23 16:37:09.803 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:37:09.805 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?uid=901938 - 204 null null 2.2506ms
2025-07-23 16:37:09.807 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-23 16:37:09.807 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:37:09.808 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-23 16:37:09.809 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 16:37:09.812 +05:30 [INF] Searching patients with params {"PID":null,"UID":[901938],"FirstName":null,"LastName":null,"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-23 16:37:09.821 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
2025-07-23 16:37:09.829 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 16:37:09.830 +05:30 [INF] Found 1 patients matching search
2025-07-23 16:37:09.830 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:37:09.830 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 20.3401ms
2025-07-23 16:37:09.830 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-23 16:37:09.831 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 22.8297 ms
2025-07-23 16:37:09.831 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - 200 418 application/json; charset=utf-8 23.9975ms
2025-07-23 16:37:11.520 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:37:11.521 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:37:11.521 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.8213ms
2025-07-23 16:37:11.524 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:37:11.524 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:37:11.525 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:37:11.526 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 16:37:11.531 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 16:37:11.532 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:37:11.533 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 6.414ms
2025-07-23 16:37:11.533 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:37:11.533 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 8.1173 ms
2025-07-23 16:37:11.534 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 360 application/json; charset=utf-8 9.7731ms
2025-07-23 16:38:15.710 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:38:15.711 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:15.712 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.773ms
2025-07-23 16:38:15.729 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:38:15.730 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:15.731 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 16:38:15.732 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 16:38:15.732 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 3.2278ms
2025-07-23 16:38:18.036 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 16:38:18.037 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:18.037 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 16:38:18.037 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 16:38:18.038 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.5787ms
2025-07-23 16:38:18.649 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 16:38:18.649 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:18.650 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.8165ms
2025-07-23 16:38:18.652 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 50
2025-07-23 16:38:18.652 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:18.652 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 16:38:18.653 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 16:38:18.667 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 16:38:19.242 +05:30 [INF] User logged in: ptester@gmail.com
2025-07-23 16:38:19.242 +05:30 [INF] Role: Patient
2025-07-23 16:38:19.242 +05:30 [INF] Role: Patient
2025-07-23 16:38:19.242 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Patient
2025-07-23 16:38:19.250 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 16:38:19.251 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 16:38:19.251 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 598.3838ms
2025-07-23 16:38:19.251 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 16:38:19.252 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 599.2658 ms
2025-07-23 16:38:19.252 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 621 application/json; charset=utf-8 600.1827ms
2025-07-23 16:38:19.259 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-23 16:38:19.259 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:19.260 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 204 null null 0.5122ms
2025-07-23 16:38:19.262 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-23 16:38:19.262 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:19.264 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 16:38:19.265 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 16:38:19.269 +05:30 [INF] Searching users with params {"UID":null,"Username":["PTester"],"Role":null,"Email":["ptester@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 16:38:19.273 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 16:38:19.277 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 16:38:19.277 +05:30 [INF] Found 1 users among search
2025-07-23 16:38:19.278 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:38:19.280 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 14.6962ms
2025-07-23 16:38:19.281 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 16:38:19.283 +05:30 [INF] HTTP GET /api/user/search responded 200 in 19.1804 ms
2025-07-23 16:38:19.283 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 200 514 application/json; charset=utf-8 21.7236ms
2025-07-23 16:38:19.296 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-23 16:38:19.298 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:19.300 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?uid=901938 - 204 null null 3.8768ms
2025-07-23 16:38:19.304 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-23 16:38:19.304 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:19.305 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-23 16:38:19.306 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 16:38:19.307 +05:30 [INF] Searching patients with params {"PID":null,"UID":[901938],"FirstName":null,"LastName":null,"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-23 16:38:19.318 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
2025-07-23 16:38:19.325 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 16:38:19.325 +05:30 [INF] Found 1 patients matching search
2025-07-23 16:38:19.326 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:38:19.326 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 19.9782ms
2025-07-23 16:38:19.326 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-23 16:38:19.327 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 21.3876 ms
2025-07-23 16:38:19.327 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - 200 418 application/json; charset=utf-8 23.1168ms
2025-07-23 16:38:21.518 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:38:21.519 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:21.519 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.6869ms
2025-07-23 16:38:21.521 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:38:21.521 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:21.522 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:38:21.522 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 16:38:21.530 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 16:38:21.531 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:38:21.532 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 9.3865ms
2025-07-23 16:38:21.532 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:38:21.533 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 10.6551 ms
2025-07-23 16:38:21.533 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 360 application/json; charset=utf-8 11.9318ms
2025-07-23 16:38:26.244 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 16:38:26.245 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:26.246 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 204 null null 1.3257ms
2025-07-23 16:38:26.249 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 16:38:26.250 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:26.250 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 16:38:26.251 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 16:38:26.256 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 16:38:26.267 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 16:38:26.268 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:38:26.269 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 17.4713ms
2025-07-23 16:38:26.269 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 16:38:26.269 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 18.9670 ms
2025-07-23 16:38:26.270 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 200 401 application/json; charset=utf-8 20.0841ms
2025-07-23 16:38:36.746 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - null null
2025-07-23 16:38:36.746 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:36.746 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - 204 null null 0.9176ms
2025-07-23 16:38:36.749 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 154
2025-07-23 16:38:36.749 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:36.751 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 16:38:36.751 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 16:38:36.762 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppointmentDate], [CreatedAt], [DoctorID], [ModifiedAt], [Notes], [PatientID], [Reason], [Status], [isActive])
OUTPUT INSERTED.[AppointmentID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-23 16:38:36.884 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'HealthcareApi.Models.Appointment'.
2025-07-23 16:38:36.884 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 132.7443ms
2025-07-23 16:38:36.885 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 16:38:36.885 +05:30 [INF] HTTP POST /api/appointment responded 201 in 134.2216 ms
2025-07-23 16:38:36.885 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 201 254 application/json; charset=utf-8 136.5246ms
2025-07-23 16:38:36.899 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:38:36.900 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:36.901 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.5802ms
2025-07-23 16:38:36.903 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:38:36.904 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:38:36.905 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:38:36.906 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 16:38:36.909 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 16:38:36.910 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:38:36.914 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 7.3824ms
2025-07-23 16:38:36.922 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:38:36.923 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 17.8524 ms
2025-07-23 16:38:36.928 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 480 application/json; charset=utf-8 24.6541ms
2025-07-23 16:42:14.882 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:42:14.883 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:14.883 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.0236ms
2025-07-23 16:42:14.888 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:42:14.889 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:14.890 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 16:42:14.891 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 16:42:14.892 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 3.3392ms
2025-07-23 16:42:17.771 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 16:42:17.771 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:17.772 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 16:42:17.772 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 16:42:17.772 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.41ms
2025-07-23 16:42:18.585 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 16:42:18.586 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:18.587 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 1.4933ms
2025-07-23 16:42:18.593 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 50
2025-07-23 16:42:18.594 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:18.597 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 16:42:18.599 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 16:42:18.618 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 16:42:19.643 +05:30 [INF] User logged in: ptester@gmail.com
2025-07-23 16:42:19.643 +05:30 [INF] Role: Patient
2025-07-23 16:42:19.643 +05:30 [INF] Role: Patient
2025-07-23 16:42:19.643 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Patient
2025-07-23 16:42:19.648 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 16:42:19.650 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 16:42:19.650 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 1051.3469ms
2025-07-23 16:42:19.651 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 16:42:19.651 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 1056.1043 ms
2025-07-23 16:42:19.652 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 621 application/json; charset=utf-8 1058.3399ms
2025-07-23 16:42:19.657 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-23 16:42:19.658 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:19.658 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 204 null null 1.0001ms
2025-07-23 16:42:19.661 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-23 16:42:19.661 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:19.662 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 16:42:19.663 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 16:42:19.667 +05:30 [INF] Searching users with params {"UID":null,"Username":["PTester"],"Role":null,"Email":["ptester@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 16:42:19.671 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 16:42:19.675 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 16:42:19.677 +05:30 [INF] Found 1 users among search
2025-07-23 16:42:19.677 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:42:19.678 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 14.8116ms
2025-07-23 16:42:19.679 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 16:42:19.680 +05:30 [INF] HTTP GET /api/user/search responded 200 in 17.4005 ms
2025-07-23 16:42:19.680 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 200 515 application/json; charset=utf-8 19.0816ms
2025-07-23 16:42:19.703 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-23 16:42:19.704 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:19.704 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?uid=901938 - 204 null null 1.1956ms
2025-07-23 16:42:19.707 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-23 16:42:19.708 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:19.708 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-23 16:42:19.709 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 16:42:19.710 +05:30 [INF] Searching patients with params {"PID":null,"UID":[901938],"FirstName":null,"LastName":null,"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-23 16:42:19.723 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
2025-07-23 16:42:19.736 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 16:42:19.738 +05:30 [INF] Found 1 patients matching search
2025-07-23 16:42:19.739 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:42:19.739 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 29.9431ms
2025-07-23 16:42:19.739 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-23 16:42:19.740 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 31.5614 ms
2025-07-23 16:42:19.740 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - 200 418 application/json; charset=utf-8 33.3881ms
2025-07-23 16:42:22.432 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:42:22.432 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:22.432 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.5781ms
2025-07-23 16:42:22.435 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:42:22.436 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:22.437 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:42:22.437 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 16:42:22.440 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 16:42:22.441 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:42:22.441 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 4.4386ms
2025-07-23 16:42:22.442 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:42:22.442 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 5.5671 ms
2025-07-23 16:42:22.443 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 480 application/json; charset=utf-8 7.4707ms
2025-07-23 16:42:41.938 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 16:42:41.939 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:41.939 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 204 null null 1.0545ms
2025-07-23 16:42:41.941 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 16:42:41.942 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:41.942 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 16:42:41.943 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 16:42:41.945 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 16:42:41.955 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 16:42:41.956 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:42:41.956 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 13.4313ms
2025-07-23 16:42:41.957 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 16:42:41.957 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 14.6668 ms
2025-07-23 16:42:41.957 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 200 401 application/json; charset=utf-8 15.8797ms
2025-07-23 16:42:51.420 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - null null
2025-07-23 16:42:51.420 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:51.421 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - 204 null null 1.7526ms
2025-07-23 16:42:51.424 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 154
2025-07-23 16:42:51.424 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:51.425 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 16:42:51.425 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 16:42:51.436 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppointmentDate], [CreatedAt], [DoctorID], [ModifiedAt], [Notes], [PatientID], [Reason], [Status], [isActive])
OUTPUT INSERTED.[AppointmentID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-23 16:42:51.533 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'HealthcareApi.Models.Appointment'.
2025-07-23 16:42:51.534 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 108.3792ms
2025-07-23 16:42:51.535 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 16:42:51.535 +05:30 [INF] HTTP POST /api/appointment responded 201 in 110.0899 ms
2025-07-23 16:42:51.535 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 201 254 application/json; charset=utf-8 111.4514ms
2025-07-23 16:42:51.550 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:42:51.550 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:51.551 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.1728ms
2025-07-23 16:42:51.554 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:42:51.554 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:42:51.555 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:42:51.555 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 16:42:51.558 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 16:42:51.558 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:42:51.559 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 3.5975ms
2025-07-23 16:42:51.559 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:42:51.559 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 5.0887 ms
2025-07-23 16:42:51.560 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 600 application/json; charset=utf-8 6.4435ms
2025-07-23 16:42:58.615 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/appointment - null null
2025-07-23 16:42:58.616 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-07-23 16:42:58.622 +05:30 [INF] Route matched with {action = "GetAll", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.AppointmentWithNamesDTO]]] GetAll(HealthcareApi.Models.AppointmentQueryParams) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 16:42:58.646 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Appointment] AS [a]
WHERE [a].[isActive] = CAST(1 AS bit)
2025-07-23 16:42:58.651 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 16:42:58.651 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-23 16:42:58.672 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[AppointmentID], [p].[FirstName] + N' ' + [p].[LastName] AS [PatientName], [d].[FirstName] + N' ' + [d].[LastName] AS [DoctorName], [a0].[AppointmentDate], [a0].[Reason], [a0].[Status], [a0].[Notes]
FROM (
    SELECT [a].[AppointmentID], [a].[AppointmentDate], [a].[DoctorID], [a].[Notes], [a].[PatientID], [a].[Reason], [a].[Status]
    FROM [Appointment] AS [a]
    WHERE [a].[isActive] = CAST(1 AS bit)
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [a0]
INNER JOIN [Patients] AS [p] ON [a0].[PatientID] = [p].[PatientID]
INNER JOIN [Doctors] AS [d] ON [a0].[DoctorID] = [d].[DoctorID]
2025-07-23 16:42:58.681 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.AppointmentWithNamesDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:42:58.690 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi) in 66.5935ms
2025-07-23 16:42:58.690 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.GetAll (HealthcareApi)'
2025-07-23 16:42:58.690 +05:30 [INF] HTTP GET /api/appointment responded 200 in 74.6462 ms
2025-07-23 16:42:58.690 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/appointment - 200 2045 application/json; charset=utf-8 75.3049ms
2025-07-23 16:42:58.727 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/favicon.ico - null null
2025-07-23 16:42:58.728 +05:30 [INF] HTTP GET /favicon.ico responded 404 in 0.2996 ms
2025-07-23 16:42:58.729 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/favicon.ico - 404 0 null 1.2639ms
2025-07-23 16:42:58.729 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5122/favicon.ico, Response status code: 404
2025-07-23 16:51:38.178 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:51:38.178 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:51:38.179 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.7495ms
2025-07-23 16:51:38.181 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:51:38.181 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:51:38.182 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 16:51:38.183 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 16:51:38.183 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 1.8562ms
2025-07-23 16:51:53.967 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 16:51:53.968 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:51:53.968 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 16:51:53.969 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 16:51:53.969 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.6593ms
2025-07-23 16:51:54.830 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 16:51:54.830 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:51:54.831 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.6676ms
2025-07-23 16:51:54.832 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 50
2025-07-23 16:51:54.833 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:51:54.833 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 16:51:54.834 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 16:51:54.849 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 16:51:55.525 +05:30 [INF] User logged in: ptester@gmail.com
2025-07-23 16:51:55.526 +05:30 [INF] Role: Patient
2025-07-23 16:51:55.527 +05:30 [INF] Role: Patient
2025-07-23 16:51:55.527 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Patient
2025-07-23 16:51:55.536 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 16:51:55.537 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 16:51:55.538 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 703.7462ms
2025-07-23 16:51:55.538 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 16:51:55.539 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 705.7512 ms
2025-07-23 16:51:55.540 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 621 application/json; charset=utf-8 707.4331ms
2025-07-23 16:51:55.545 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-23 16:51:55.545 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:51:55.546 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 204 null null 0.7235ms
2025-07-23 16:51:55.548 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-23 16:51:55.548 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:51:55.549 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 16:51:55.550 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 16:51:55.551 +05:30 [INF] Searching users with params {"UID":null,"Username":["PTester"],"Role":null,"Email":["ptester@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 16:51:55.554 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 16:51:55.601 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 16:51:55.602 +05:30 [INF] Found 1 users among search
2025-07-23 16:51:55.603 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:51:55.609 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 58.2726ms
2025-07-23 16:51:55.609 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 16:51:55.609 +05:30 [INF] HTTP GET /api/user/search responded 200 in 60.3660 ms
2025-07-23 16:51:55.610 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 200 515 application/json; charset=utf-8 61.933ms
2025-07-23 16:51:55.627 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-23 16:51:55.629 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:51:55.629 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?uid=901938 - 204 null null 2.2283ms
2025-07-23 16:51:55.636 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-23 16:51:55.637 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:51:55.638 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-23 16:51:55.639 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 16:51:55.640 +05:30 [INF] Searching patients with params {"PID":null,"UID":[901938],"FirstName":null,"LastName":null,"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-23 16:51:55.652 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
2025-07-23 16:51:55.664 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 16:51:55.664 +05:30 [INF] Found 1 patients matching search
2025-07-23 16:51:55.665 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:51:55.666 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 26.2359ms
2025-07-23 16:51:55.666 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-23 16:51:55.666 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 27.9662 ms
2025-07-23 16:51:55.667 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - 200 418 application/json; charset=utf-8 30.4063ms
2025-07-23 16:51:57.815 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:51:57.815 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:51:57.815 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.7815ms
2025-07-23 16:51:57.820 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:51:57.821 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:51:57.822 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:51:57.822 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 16:51:57.826 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 16:51:57.827 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:51:57.828 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 4.5642ms
2025-07-23 16:51:57.828 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:51:57.828 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 6.7226 ms
2025-07-23 16:51:57.829 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 600 application/json; charset=utf-8 8.5895ms
2025-07-23 16:52:01.264 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 16:52:01.265 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:01.265 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 204 null null 0.838ms
2025-07-23 16:52:01.267 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 16:52:01.267 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:01.268 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 16:52:01.268 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 16:52:01.270 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 16:52:01.279 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 16:52:01.280 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:52:01.281 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 12.0666ms
2025-07-23 16:52:01.281 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 16:52:01.281 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 13.3883 ms
2025-07-23 16:52:01.282 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 200 401 application/json; charset=utf-8 14.6613ms
2025-07-23 16:52:10.620 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - null null
2025-07-23 16:52:10.621 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:10.621 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - 204 null null 0.6045ms
2025-07-23 16:52:10.623 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 158
2025-07-23 16:52:10.623 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:10.626 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 16:52:10.626 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 16:52:10.633 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-23 16:52:10.653 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 26.3843ms
2025-07-23 16:52:10.654 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 16:52:10.655 +05:30 [INF] HTTP POST /api/appointment responded 400 in 29.2180 ms
2025-07-23 16:52:10.655 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 400 370 application/problem+json; charset=utf-8 32.0675ms
2025-07-23 16:52:35.967 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:52:35.968 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:35.968 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.654ms
2025-07-23 16:52:35.980 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:52:36.029 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:36.030 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 16:52:36.031 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 16:52:36.031 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 51.218ms
2025-07-23 16:52:40.301 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/logout - null 0
2025-07-23 16:52:40.301 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:40.302 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-23 16:52:40.302 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 16:52:40.303 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/logout - 401 0 null 1.7926ms
2025-07-23 16:52:41.129 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - null null
2025-07-23 16:52:41.129 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:41.130 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/auth/login - 204 null null 0.5863ms
2025-07-23 16:52:41.131 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/auth/login - application/json 50
2025-07-23 16:52:41.132 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:41.132 +05:30 [INF] Executing endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 16:52:41.132 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LoginRequest) on controller AuthController (HealthcareApi).
2025-07-23 16:52:41.137 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE LOWER(LTRIM(RTRIM([u].[Email]))) = @__normalizedEmail_0
2025-07-23 16:52:42.062 +05:30 [INF] User logged in: ptester@gmail.com
2025-07-23 16:52:42.063 +05:30 [INF] Role: Patient
2025-07-23 16:52:42.063 +05:30 [INF] Role: Patient
2025-07-23 16:52:42.063 +05:30 [INF] claims of token: http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Patient
2025-07-23 16:52:42.074 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [ModifiedAt] = @p0, [RefreshToken] = @p1, [RefreshTokenExpiry] = @p2
OUTPUT 1
WHERE [UserID] = @p3;
2025-07-23 16:52:42.075 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`7[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-23 16:52:42.076 +05:30 [INF] Executed action AuthController.Login (HealthcareApi) in 943.1805ms
2025-07-23 16:52:42.076 +05:30 [INF] Executed endpoint 'AuthController.Login (HealthcareApi)'
2025-07-23 16:52:42.077 +05:30 [INF] HTTP POST /api/auth/login responded 200 in 944.4046 ms
2025-07-23 16:52:42.077 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/auth/login - 200 621 application/json; charset=utf-8 945.7051ms
2025-07-23 16:52:42.082 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-23 16:52:42.083 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:42.083 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 204 null null 0.7791ms
2025-07-23 16:52:42.085 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - null null
2025-07-23 16:52:42.086 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:42.087 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 16:52:42.087 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.User]]] GetWithParams(HealthcareApi.Models.UserQueryParams) on controller HealthcareApi.Controllers.UserController (HealthcareApi).
2025-07-23 16:52:42.088 +05:30 [INF] Searching users with params {"UID":null,"Username":["PTester"],"Role":null,"Email":["ptester@gmail.com"],"CreatedAt":null,"ModifiedAt":null,"isActive":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"UserQueryParams"}
2025-07-23 16:52:42.091 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
2025-07-23 16:52:42.096 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__param_Username_0='?' (Size = 4000), @__param_Email_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[CreatedAt], [u].[Email], [u].[ModifiedAt], [u].[PasswordHash], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[Role], [u].[Username], [u].[isActive]
FROM [Users] AS [u]
WHERE [u].[Username] IN (
    SELECT [p].[value]
    FROM OPENJSON(@__param_Username_0) WITH ([value] nvarchar(50) '$') AS [p]
) AND [u].[Email] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_Email_1) WITH ([value] nvarchar(100) '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-07-23 16:52:42.097 +05:30 [INF] Found 1 users among search
2025-07-23 16:52:42.098 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.User, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:52:42.098 +05:30 [INF] Executed action HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi) in 11.2686ms
2025-07-23 16:52:42.100 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.UserController.GetWithParams (HealthcareApi)'
2025-07-23 16:52:42.100 +05:30 [INF] HTTP GET /api/user/search responded 200 in 13.9891 ms
2025-07-23 16:52:42.101 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/user/search?username=PTester&email=ptester@gmail.com - 200 516 application/json; charset=utf-8 15.4661ms
2025-07-23 16:52:42.129 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-23 16:52:42.130 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:42.130 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/search?uid=901938 - 204 null null 4.6226ms
2025-07-23 16:52:42.134 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - null null
2025-07-23 16:52:42.135 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:42.135 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-23 16:52:42.136 +05:30 [INF] Route matched with {action = "GetWithParams", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PagedResult`1[HealthcareApi.Models.Patient]]] GetWithParams(HealthcareApi.Models.PatientQueryParams) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 16:52:42.136 +05:30 [INF] Searching patients with params {"PID":null,"UID":[901938],"FirstName":null,"LastName":null,"Dob":null,"Phone":null,"Sort":null,"Order":null,"pageNumber":1,"pageSize":10,"$type":"PatientQueryParams"}
2025-07-23 16:52:42.146 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__param_UID_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
2025-07-23 16:52:42.155 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__param_UID_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PatientID], [p].[Address], [p].[Allergies], [p].[ContactNumber], [p].[CreatedAt], [p].[CurrentMedications], [p].[DateOfBirth], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[MedicalHistory], [p].[ModifiedAt], [p].[UserID], [p].[isActive]
FROM [Patients] AS [p]
WHERE [p].[isActive] = CAST(1 AS bit) AND [p].[UserID] IN (
    SELECT [p0].[value]
    FROM OPENJSON(@__param_UID_0) WITH ([value] int '$') AS [p0]
)
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 16:52:42.155 +05:30 [INF] Found 1 patients matching search
2025-07-23 16:52:42.155 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Patient, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:52:42.156 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi) in 19.8178ms
2025-07-23 16:52:42.156 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.GetWithParams (HealthcareApi)'
2025-07-23 16:52:42.156 +05:30 [INF] HTTP GET /api/patient/search responded 200 in 20.7181 ms
2025-07-23 16:52:42.156 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/search?uid=901938 - 200 418 application/json; charset=utf-8 22.108ms
2025-07-23 16:52:44.458 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:52:44.459 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:44.460 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 1.4075ms
2025-07-23 16:52:44.461 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:52:44.462 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:44.463 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:52:44.463 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 16:52:44.467 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 16:52:44.467 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:52:44.468 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 3.8087ms
2025-07-23 16:52:44.468 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:52:44.469 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 5.9224 ms
2025-07-23 16:52:44.470 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 600 application/json; charset=utf-8 8.0579ms
2025-07-23 16:52:48.557 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 16:52:48.557 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:48.558 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 204 null null 0.9915ms
2025-07-23 16:52:48.560 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - null null
2025-07-23 16:52:48.561 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:48.562 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 16:52:48.562 +05:30 [INF] Route matched with {action = "Search", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(HealthcareApi.Models.DoctorQueryParams) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 16:52:48.566 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
2025-07-23 16:52:48.571 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__qp_Specialization_0='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DoctorID], [d].[ContactNumber], [d].[CreatedAt], [d].[Email], [d].[FirstName], [d].[LastName], [d].[ModifiedAt], [d].[Schedule], [d].[Specialization], [d].[UserID], [d].[isActive]
FROM [Doctors] AS [d]
WHERE [d].[isActive] = CAST(1 AS bit) AND @__qp_Specialization_0 = [d].[Specialization]
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-07-23 16:52:48.572 +05:30 [INF] Executing OkObjectResult, writing value of type 'PagedResult`1[[HealthcareApi.Models.Doctor, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:52:48.572 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.Search (HealthcareApi) in 9.5023ms
2025-07-23 16:52:48.573 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.Search (HealthcareApi)'
2025-07-23 16:52:48.573 +05:30 [INF] HTTP GET /api/doctor/search responded 200 in 11.6454 ms
2025-07-23 16:52:48.574 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/search?specialization=General%20Medicine - 200 401 application/json; charset=utf-8 13.7698ms
2025-07-23 16:52:57.242 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - null null
2025-07-23 16:52:57.243 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:57.243 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/appointment - 204 null null 0.7732ms
2025-07-23 16:52:57.245 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5122/api/appointment - application/json 154
2025-07-23 16:52:57.246 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:57.246 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 16:52:57.247 +05:30 [INF] Route matched with {action = "Post", controller = "Appointment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(HealthcareApi.Models.Appointment) on controller HealthcareApi.Controllers.AppointmentController (HealthcareApi).
2025-07-23 16:52:57.254 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 1000) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (Size = 255) (DbType = AnsiString), @p7='?' (Size = 20) (DbType = AnsiString), @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Appointment] ([AppointmentDate], [CreatedAt], [DoctorID], [ModifiedAt], [Notes], [PatientID], [Reason], [Status], [isActive])
OUTPUT INSERTED.[AppointmentID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-23 16:52:57.352 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'HealthcareApi.Models.Appointment'.
2025-07-23 16:52:57.353 +05:30 [INF] Executed action HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi) in 105.6338ms
2025-07-23 16:52:57.353 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.AppointmentController.Post (HealthcareApi)'
2025-07-23 16:52:57.353 +05:30 [INF] HTTP POST /api/appointment responded 201 in 106.9716 ms
2025-07-23 16:52:57.354 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5122/api/appointment - 201 254 application/json; charset=utf-8 108.2843ms
2025-07-23 16:52:57.366 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 16:52:57.367 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:57.367 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.6799ms
2025-07-23 16:52:57.369 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 16:52:57.370 +05:30 [INF] CORS policy execution successful.
2025-07-23 16:52:57.371 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:52:57.371 +05:30 [INF] Route matched with {action = "UpcomingAppointments", controller = "Patient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpcomingAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.PatientController (HealthcareApi).
2025-07-23 16:52:57.375 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@PatientID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.usp_PatientUpcomingAppointmentsGet 
                        @PatientID = @PatientID, 
                        @StatusFilter = @StatusFilter
2025-07-23 16:52:57.376 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.UpcomingAppointmentDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 16:52:57.376 +05:30 [INF] Executed action HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi) in 4.0769ms
2025-07-23 16:52:57.377 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.PatientController.UpcomingAppointments (HealthcareApi)'
2025-07-23 16:52:57.377 +05:30 [INF] HTTP GET /api/patient/proc responded 200 in 5.9997 ms
2025-07-23 16:52:57.378 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 200 720 application/json; charset=utf-8 8.565ms
2025-07-23 17:31:41.714 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - null null
2025-07-23 17:31:41.715 +05:30 [INF] CORS policy execution successful.
2025-07-23 17:31:41.716 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-23 17:31:41.720 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 17:31:41.769 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-23 17:31:41.770 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 17:31:41.772 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 52.1465ms
2025-07-23 17:31:41.772 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-23 17:31:41.773 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 57.1795 ms
2025-07-23 17:31:41.773 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - 200 2 application/json; charset=utf-8 59.1879ms
2025-07-23 17:32:57.344 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 17:32:57.344 +05:30 [INF] CORS policy execution successful.
2025-07-23 17:32:57.345 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.4809ms
2025-07-23 17:32:57.347 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 17:32:57.347 +05:30 [INF] CORS policy execution successful.
2025-07-23 17:32:57.351 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-07-2025 11:52:42', Current time (UTC): '23-07-2025 12:02:57'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-23 17:32:57.365 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-07-2025 11:52:42', Current time (UTC): '23-07-2025 12:02:57'.
2025-07-23 17:32:57.366 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 17:32:57.368 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 17:32:57.368 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 21.2169ms
2025-07-23 17:33:05.057 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - null null
2025-07-23 17:33:05.057 +05:30 [INF] CORS policy execution successful.
2025-07-23 17:33:05.057 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5122/api/patient/proc - 204 null null 0.4156ms
2025-07-23 17:33:05.058 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/patient/proc - null null
2025-07-23 17:33:05.059 +05:30 [INF] CORS policy execution successful.
2025-07-23 17:33:05.060 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-07-2025 11:52:42', Current time (UTC): '23-07-2025 12:03:05'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-23 17:33:05.060 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-07-2025 11:52:42', Current time (UTC): '23-07-2025 12:03:05'.
2025-07-23 17:33:05.061 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Patient)
2025-07-23 17:33:05.062 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-23 17:33:05.062 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/patient/proc - 401 0 null 3.8417ms
2025-07-23 17:33:09.152 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - null null
2025-07-23 17:33:09.152 +05:30 [INF] CORS policy execution successful.
2025-07-23 17:33:09.153 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-23 17:33:09.154 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 17:33:09.180 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-23 17:33:09.181 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 17:33:09.181 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 26.9692ms
2025-07-23 17:33:09.181 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-23 17:33:09.182 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 28.7930 ms
2025-07-23 17:33:09.182 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - 200 2 application/json; charset=utf-8 30.0066ms
2025-07-23 17:59:31.736 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - null null
2025-07-23 17:59:31.737 +05:30 [INF] CORS policy execution successful.
2025-07-23 17:59:31.738 +05:30 [INF] Executing endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-23 17:59:31.739 +05:30 [INF] Route matched with {action = "PresentAppointments", controller = "Doctor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PresentAppointments(System.Nullable`1[System.Int32], System.String) on controller HealthcareApi.Controllers.DoctorController (HealthcareApi).
2025-07-23 17:59:31.772 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@DoctorID='?', @StatusFilter='?'], CommandType='"Text"', CommandTimeout='30']

                    EXEC dbo.GetTodayAppointDoctor 
                        @DoctorID = @DoctorID, 
                        @StatusFilter = @StatusFilter
2025-07-23 17:59:31.773 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HealthcareApi.Models.CurrentAppointmentsDTO, HealthcareApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-23 17:59:31.776 +05:30 [INF] Executed action HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi) in 36.3586ms
2025-07-23 17:59:31.776 +05:30 [INF] Executed endpoint 'HealthcareApi.Controllers.DoctorController.PresentAppointments (HealthcareApi)'
2025-07-23 17:59:31.777 +05:30 [INF] HTTP GET /api/doctor/proc responded 200 in 39.0879 ms
2025-07-23 17:59:31.777 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5122/api/doctor/proc?doctorId=NaN - 200 2 application/json; charset=utf-8 41.6073ms
